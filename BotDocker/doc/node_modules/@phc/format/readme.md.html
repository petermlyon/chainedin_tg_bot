<!DOCTYPE html>
<html>
<head>
  <title>readme.md</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../../doc-style.css" />
  <script src="../../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../../";
    var thisFile = "node_modules/@phc/format/readme.md";
    var defaultSidebar = true;
  </script>
  <script src="../../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

      <div class="heading h1">
        <a href="#phc-format">
  phc-format
</a>
      </div>

      <div class="heading h2">
        <a href="#motivation">Motivation</a>
      </div>

      <div class="heading h2">
        <a href="#install">Install</a>
      </div>

      <div class="heading h2">
        <a href="#usage">Usage</a>
      </div>

      <div class="heading h2">
        <a href="#api">API</a>
      </div>

      <div class="heading h4">
        <a href="#toc">TOC</a>
      </div>

      <div class="heading h3">
        <a href="#serialize-opts-string">serialize(opts) ‚áí string</a>
      </div>

      <div class="heading h3">
        <a href="#deserialize-phcstr-object">deserialize(phcstr) ‚áí Object</a>
      </div>

      <div class="heading h2">
        <a href="#contributing">Contributing</a>
      </div>

      <div class="heading h2">
        <a href="#authors">Authors</a>
      </div>

      <div class="heading h2">
        <a href="#license">License</a>
      </div>

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="docs markdown"><div class="pilwrap" id="phc-format">
  <h1 align="center">
    <a href="#phc-format" name="phc-format" class="pilcrow"></a>

  <b>phc-format</b>

  </h1>
</div>
<p align="center">
  <!-- Version - npm -->
  <a href="https://www.npmjs.com/package/@phc/format">
    <img src="https://img.shields.io/npm/v/@phc/format.svg" alt="Latest version on npm" />
  </a>
  <!-- Downloads - npm -->
  <a href="https://npm-stat.com/charts.html?package=@phc/format">
    <img src="https://img.shields.io/npm/dt/@phc/format.svg" alt="Downloads on npm" />
  </a>
  <!-- License - MIT -->
  <a href="https://github.com/simonepri/phc-format/tree/master/license">
    <img src="https://img.shields.io/github/license/simonepri/phc-format.svg" alt="Project license" />
  </a>
  <br/>
  <!-- Lint -->
  <a href="https://github.com/simonepri/phc-format/actions?query=workflow:lint+branch:master">
    <img src="https://github.com/simonepri/phc-format/workflows/lint/badge.svg?branch=master" alt="Lint status" />
  </a>
  <!-- Test - macOS -->
  <a href="https://github.com/simonepri/phc-format/actions?query=workflow:test-macos+branch:master">
    <img src="https://github.com/simonepri/phc-format/workflows/test-macos/badge.svg?branch=master" alt="Test macOS status" />
  </a>
  <!-- Test - Ubuntu -->
  <a href="https://github.com/simonepri/phc-format/actions?query=workflow:test-ubuntu+branch:master">
    <img src="https://github.com/simonepri/phc-format/workflows/test-ubuntu/badge.svg?branch=master" alt="Test Ubuntu status" />
  </a>
  <!-- Test - Windows -->
  <a href="https://github.com/simonepri/phc-format/actions?query=workflow:test-windows+branch:master">
    <img src="https://github.com/simonepri/phc-format/workflows/test-windows/badge.svg?branch=master" alt="Test Windows status" />
  </a>
  <br/>
  <!-- Coverage - Codecov -->
  <a href="https://codecov.io/gh/simonepri/phc-format">
    <img src="https://img.shields.io/codecov/c/github/simonepri/phc-format/master.svg" alt="Codecov Coverage report" />
  </a>
  <!-- DM - Snyk -->
  <a href="https://snyk.io/test/github/simonepri/phc-format?targetFile=package.json">
    <img src="https://snyk.io/test/github/simonepri/phc-format/badge.svg?targetFile=package.json" alt="Known Vulnerabilities" />
  </a>
  <!-- DM - David -->
  <a href="https://david-dm.org/simonepri/phc-format">
    <img src="https://david-dm.org/simonepri/phc-format/status.svg" alt="Dependency Status" />
  </a>
  <br/>
  <!-- Code Style - XO-Prettier -->
  <a href="https://github.com/xojs/xo">
    <img src="https://img.shields.io/badge/code_style-XO+Prettier-5ed9c7.svg" alt="XO Code Style used" />
  </a>
  <!-- Test Runner - AVA -->
  <a href="https://github.com/avajs/ava">
    <img src="https://img.shields.io/badge/test_runner-AVA-fb3170.svg" alt="AVA Test Runner used" />
  </a>
  <!-- Test Coverage - Istanbul -->
  <a href="https://github.com/istanbuljs/nyc">
    <img src="https://img.shields.io/badge/test_coverage-NYC-fec606.svg" alt="Istanbul Test Coverage used" />
  </a>
  <!-- Init - ni -->
  <a href="https://github.com/simonepri/ni">
    <img src="https://img.shields.io/badge/initialized_with-ni-e74c3c.svg" alt="NI Scaffolding System used" />
  </a>
  <!-- Release - np -->
  <a href="https://github.com/sindresorhus/np">
    <img src="https://img.shields.io/badge/released_with-np-6c8784.svg" alt="NP Release System used" />
  </a>
</p>
<p align="center">
  üìù PHC string format serializer/deserializer
  <br/>
  <sub>
    Coded with ‚ù§Ô∏è by <a href="#authors">Simone Primarosa</a>.
  </sub>
</p>
<div class="pilwrap" id="motivation">
  <h2>
    <a href="#motivation" name="motivation" class="pilcrow"></a>
Motivation
  </h2>
</div>
<p>The <a href="https://github.com/P-H-C/phc-string-format/blob/master/phc-sf-spec.md">PHC String Format</a> is an attempt to specify a common hash string format that‚Äôs a restricted &amp; well defined subset of the Modular Crypt Format. New hashes are strongly encouraged to adhere to the PHC specification, rather than the much looser <a href="https://github.com/ademarre/binary-mcf">Modular Crypt Format</a>.</p>
<div class="pilwrap" id="install">
  <h2>
    <a href="#install" name="install" class="pilcrow"></a>
Install
  </h2>
</div>
<pre><code class="bash">npm install --save @phc/format
</code></pre>
<div class="pilwrap" id="usage">
  <h2>
    <a href="#usage" name="usage" class="pilcrow"></a>
Usage
  </h2>
</div>
<pre><code class="js"><span class="hljs-keyword">const</span> phc = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@phc/format'</span>);

<span class="hljs-keyword">const</span> phcobj = {
  <span class="hljs-attr">id</span>: <span class="hljs-string">'pbkdf2-sha256'</span>,
  <span class="hljs-attr">params</span>: {<span class="hljs-attr">i</span>: <span class="hljs-number">6400</span>},
  <span class="hljs-attr">salt</span>: Buffer.from(<span class="hljs-string">'0ZrzXitFSGltTQnBWOsdAw'</span>, <span class="hljs-string">'base64'</span>),
  <span class="hljs-attr">hash</span>: Buffer.from(<span class="hljs-string">'Y11AchqV4b0sUisdZd0Xr97KWoymNE0LNNrnEgY4H9M'</span>, <span class="hljs-string">'base64'</span>),
};

<span class="hljs-keyword">const</span> phcstr = <span class="hljs-string">"$pbkdf2-sha256$i=6400$0ZrzXitFSGltTQnBWOsdAw$Y11AchqV4b0sUisdZd0Xr97KWoymNE0LNNrnEgY4H9M"</span>;

phc.serialize(phcobj);
<span class="hljs-comment">// =&gt; phcstr</span>

phc.deserialize(phcstr);
<span class="hljs-comment">// =&gt; phcobj</span>
</code></pre>
<p>You can also pass an optional version parameter.</p>
<pre><code class="js"><span class="hljs-keyword">const</span> phc = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@phc/format'</span>);

<span class="hljs-keyword">const</span> phcobj = {
  <span class="hljs-attr">id</span>: <span class="hljs-string">'argon2i'</span>,
  <span class="hljs-attr">version</span>: <span class="hljs-number">19</span>,
  <span class="hljs-attr">params</span>: {
    <span class="hljs-attr">m</span>: <span class="hljs-number">120</span>,
    <span class="hljs-attr">t</span>: <span class="hljs-number">5000</span>,
    <span class="hljs-attr">p</span>: <span class="hljs-number">2</span>
  },
  <span class="hljs-attr">salt</span>: Buffer.from(<span class="hljs-string">'iHSDPHzUhPzK7rCcJgOFfg'</span>, <span class="hljs-string">'base64'</span>),
  <span class="hljs-attr">hash</span>: Buffer.from(<span class="hljs-string">'J4moa2MM0/6uf3HbY2Tf5Fux8JIBTwIhmhxGRbsY14qhTltQt+Vw3b7tcJNEbk8ium8AQfZeD4tabCnNqfkD1g'</span>, <span class="hljs-string">'base64'</span>),
};

<span class="hljs-keyword">const</span> phcstr = <span class="hljs-string">"$argon2i$v=19$m=120,t=5000,p=2$iHSDPHzUhPzK7rCcJgOFfg$J4moa2MM0/6uf3HbY2Tf5Fux8JIBTwIhmhxGRbsY14qhTltQt+Vw3b7tcJNEbk8ium8AQfZeD4tabCnNqfkD1g"</span>;

phc.serialize(phcobj);
<span class="hljs-comment">// =&gt; phcstr</span>

phc.deserialize(phcstr);
<span class="hljs-comment">// =&gt; phcobj</span>
</code></pre>
<div class="pilwrap" id="api">
  <h2>
    <a href="#api" name="api" class="pilcrow"></a>
API
  </h2>
</div>
<div class="pilwrap" id="toc">
  <h4>
    <a href="#toc" name="toc" class="pilcrow"></a>
TOC
  </h4>
</div>
<dl>
<dt><a href="#serialize">serialize(opts)</a> ‚áí <code>string</code></dt>
<dd><p>Generates a PHC string using the data provided.</p>
</dd>
<dt><a href="#deserialize">deserialize(phcstr)</a> ‚áí <code>Object</code></dt>
<dd><p>Parses data from a PHC string.</p>
</dd>
</dl>
<p><a name="serialize"></a></p>
<div class="pilwrap" id="serialize-opts-string">
  <h3>
    <a href="#serialize-opts-string" name="serialize-opts-string" class="pilcrow"></a>
serialize(opts) ‚áí <code>string</code>
  </h3>
</div>
<p>Generates a PHC string using the data provided.</p>
<p><strong>Kind</strong>: global function<br>
<strong>Returns</strong>: <code>string</code> - The hash string adhering to the PHC format.</p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>opts</td>
<td><code>Object</code></td>
<td>Object that holds the data needed to generate the PHC string.</td>
</tr>
<tr>
<td>opts.id</td>
<td><code>string</code></td>
<td>Symbolic name for the function.</td>
</tr>
<tr>
<td>[opts.version]</td>
<td><code>Number</code></td>
<td>The version of the function.</td>
</tr>
<tr>
<td>[opts.params]</td>
<td><code>Object</code></td>
<td>Parameters of the function.</td>
</tr>
<tr>
<td>[opts.salt]</td>
<td><code>Buffer</code></td>
<td>The salt as a binary buffer.</td>
</tr>
<tr>
<td>[opts.hash]</td>
<td><code>Buffer</code></td>
<td>The hash as a binary buffer.</td>
</tr>
</tbody>
</table>
<p><a name="deserialize"></a></p>
<div class="pilwrap" id="deserialize-phcstr-object">
  <h3>
    <a href="#deserialize-phcstr-object" name="deserialize-phcstr-object" class="pilcrow"></a>
deserialize(phcstr) ‚áí <code>Object</code>
  </h3>
</div>
<p>Parses data from a PHC string.</p>
<p><strong>Kind</strong>: global function<br>
<strong>Returns</strong>: <code>Object</code> - The object containing the data parsed from the PHC string.</p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>phcstr</td>
<td><code>string</code></td>
<td>A PHC string to parse.</td>
</tr>
</tbody>
</table>
<div class="pilwrap" id="contributing">
  <h2>
    <a href="#contributing" name="contributing" class="pilcrow"></a>
Contributing
  </h2>
</div>
<p>Contributions are REALLY welcome and if you find a security flaw in this code, PLEASE <a href="https://github.com/simonepri/phc-format/issues/new">report it</a>.<br>
Please check the <a href="https://github.com/simonepri/phc-format/tree/master/.github/contributing.md">contributing guidelines</a> for more details. Thanks!</p>
<div class="pilwrap" id="authors">
  <h2>
    <a href="#authors" name="authors" class="pilcrow"></a>
Authors
  </h2>
</div>
<ul>
<li><strong>Simone Primarosa</strong> - <em>Github</em> (<a href="https://github.com/simonepri">@simonepri</a>) ‚Ä¢ <em>Twitter</em> (<a href="http://twitter.com/intent/user?screen_name=simoneprimarosa">@simoneprimarosa</a>)</li>
</ul>
<p>See also the list of <a href="https://github.com/simonepri/phc-format/contributors">contributors</a> who participated in this project.</p>
<div class="pilwrap" id="license">
  <h2>
    <a href="#license" name="license" class="pilcrow"></a>
License
  </h2>
</div>
<p>This project is licensed under the MIT License - see the <a href="https://github.com/simonepri/phc-format/tree/master/license">license</a> file for details.</p>
<!-- Links -->
</div>
  </div>
</body>
</html>
