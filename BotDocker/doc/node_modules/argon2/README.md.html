<!DOCTYPE html>
<html>
<head>
  <title>README.md</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../doc-style.css" />
  <script src="../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../";
    var thisFile = "node_modules/argon2/README.md";
    var defaultSidebar = true;
  </script>
  <script src="../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

      <div class="heading h1">
        <a href="#node-argon2">node-argon2</a>
      </div>

      <div class="heading h2">
        <a href="#usage">Usage</a>
      </div>

      <div class="heading h3">
        <a href="#migrating-from-another-hash-function">Migrating from another hash function</a>
      </div>

      <div class="heading h3">
        <a href="#typescript-usage">TypeScript usage</a>
      </div>

      <div class="heading h2">
        <a href="#prebuilt-binaries">Prebuilt binaries</a>
      </div>

      <div class="heading h2">
        <a href="#before-installing">Before installing</a>
      </div>

      <div class="heading h3">
        <a href="#osx">OSX</a>
      </div>

      <div class="heading h2">
        <a href="#faq">FAQ</a>
      </div>

      <div class="heading h3">
        <a href="#differences-from-node-argon2-ffi">Differences from node-argon2-ffi</a>
      </div>

      <div class="heading h2">
        <a href="#contributors">Contributors</a>
      </div>

      <div class="heading h3">
        <a href="#code-contributors">Code contributors</a>
      </div>

      <div class="heading h3">
        <a href="#financial-contributors">Financial contributors</a>
      </div>

      <div class="heading h4">
        <a href="#individuals">Individuals</a>
      </div>

      <div class="heading h4">
        <a href="#organizations">Organizations</a>
      </div>

      <div class="heading h2">
        <a href="#license">License</a>
      </div>

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="docs markdown"><div class="pilwrap" id="node-argon2">
  <h1>
    <a href="#node-argon2" name="node-argon2" class="pilcrow"></a>
node-argon2
  </h1>
</div>
<p><a href="https://opencollective.com/node-argon2"><img src="https://img.shields.io/opencollective/all/node-argon2.svg?style=flat-square" alt="Financial contributors on Open Collective"></a>
<a href="https://github.com/ranisalt/node-argon2/actions"><img src="https://img.shields.io/github/actions/workflow/status/ranisalt/node-argon2/ci.yml?branch=master&amp;style=flat-square" alt="Build status"></a>
<a href="https://www.npmjs.com/package/argon2"><img src="https://img.shields.io/npm/v/argon2.svg?style=flat-square" alt="NPM package"></a></p>
<p>Bindings to the reference <a href="https://github.com/P-H-C/phc-winner-argon2">Argon2</a>
implementation.</p>
<p><strong>Want to use it on the command line? Instead check
<a href="https://github.com/ranisalt/node-argon2-cli">node-argon2-cli</a>.</strong></p>
<div class="pilwrap" id="usage">
  <h2>
    <a href="#usage" name="usage" class="pilcrow"></a>
Usage
  </h2>
</div>
<p>It's possible to hash using either Argon2i, Argon2d or Argon2id (default), and
verify if a password matches a hash.</p>
<p>To hash a password:</p>
<pre><code class="js"><span class="hljs-keyword">const</span> argon2 = <span class="hljs-built_in">require</span>(<span class="hljs-string">'argon2'</span>);

<span class="hljs-keyword">try</span> {
  <span class="hljs-keyword">const</span> hash = <span class="hljs-keyword">await</span> argon2.hash(<span class="hljs-string">"password"</span>);
} <span class="hljs-keyword">catch</span> (err) {
  <span class="hljs-comment">//...</span>
}
</code></pre>
<p>To see how you can modify the output (hash length, encoding) and parameters
(time cost, memory cost and parallelism),
<a href="https://github.com/ranisalt/node-argon2/wiki/Options">read the wiki</a></p>
<p>To verify a password:</p>
<pre><code class="js"><span class="hljs-keyword">try</span> {
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">await</span> argon2.verify(<span class="hljs-string">"&lt;big long hash&gt;"</span>, <span class="hljs-string">"password"</span>)) {
    <span class="hljs-comment">// password match</span>
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// password did not match</span>
  }
} <span class="hljs-keyword">catch</span> (err) {
  <span class="hljs-comment">// internal failure</span>
}
</code></pre>
<div class="pilwrap" id="migrating-from-another-hash-function">
  <h3>
    <a href="#migrating-from-another-hash-function" name="migrating-from-another-hash-function" class="pilcrow"></a>
Migrating from another hash function
  </h3>
</div>
<p>See <a href="https://github.com/ranisalt/node-argon2/wiki/Migrating-from-another-hash-function">this article on the wiki</a> for steps on how to migrate your existing code to Argon2. It's easy!</p>
<div class="pilwrap" id="typescript-usage">
  <h3>
    <a href="#typescript-usage" name="typescript-usage" class="pilcrow"></a>
TypeScript usage
  </h3>
</div>
<p>A TypeScript type declaration file is published with this module. If you are
using TypeScript 2.0.0 or later, that means you do not need to install any
additional typings in order to get access to the strongly typed interface.
Simply use the library as mentioned above.</p>
<pre><code class="ts"><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> argon2 <span class="hljs-keyword">from</span> <span class="hljs-string">"argon2"</span>;

<span class="hljs-keyword">const</span> hash = <span class="hljs-keyword">await</span> argon2.hash(..);
</code></pre>
<div class="pilwrap" id="prebuilt-binaries">
  <h2>
    <a href="#prebuilt-binaries" name="prebuilt-binaries" class="pilcrow"></a>
Prebuilt binaries
  </h2>
</div>
<p><strong>node-argon2</strong> provides prebuilt binaries from <code>v0.26.0</code> onwards. They are
built every release using GitHub Actions.</p>
<p>The current prebuilt binaries are built and tested with the following systems:</p>
<ul>
<li>Ubuntu 20.04 (x86-64; ARM64 from v0.28.2)</li>
<li>MacOS 11 (x86-64)</li>
<li>MacOS 12 (ARM64 from v0.29.0)</li>
<li>Windows Server 2019 (x86-64)</li>
<li>Alpine Linux 3.18 (x86-64 from v0.28.1; ARM64 from v0.28.2)</li>
<li>FreeBSD 14 (x86-64 from v0.29.1)</li>
</ul>
<p>Binaries should also work for any version more recent than the ones listed
above. For example, the binary for Ubuntu 20.04 also works on Ubuntu 22.04, or
any other Linux system that ships a newer version of glibc; the binary for
MacOS 11 also works on MacOS 12. If your platform is below the above
requirements, you can follow the <a href="#before-installing.html">Before installing</a>
section below to manually compile from source. It is also always recommended to
build from source to ensure consistency of the compiled module.</p>
<div class="pilwrap" id="before-installing">
  <h2>
    <a href="#before-installing" name="before-installing" class="pilcrow"></a>
Before installing
  </h2>
</div>
<p><em>You can skip this section if the <a href="#prebuilt-binaries.html">prebuilt binaries</a> work for you.</em></p>
<p>You <strong>MUST</strong> have a <strong>node-gyp</strong> global install before proceeding with the install,
along with GCC &gt;= 5 / Clang &gt;= 3.3. On Windows, you must compile under Visual
Studio 2015 or newer.</p>
<p><strong>node-argon2</strong> works only and is tested against Node &gt;=18.0.0.</p>
<div class="pilwrap" id="osx">
  <h3>
    <a href="#osx" name="osx" class="pilcrow"></a>
OSX
  </h3>
</div>
<p>To install GCC &gt;= 5 on OSX, use <a href="http://brew.sh/">homebrew</a>:</p>
<pre><code class="console"><span class="hljs-meta">$</span><span class="bash"> brew install gcc</span>
</code></pre>
<p>Once you've got GCC installed and ready to run, you then need to install
node-gyp, you must do this globally:</p>
<pre><code class="console"><span class="hljs-meta">$</span><span class="bash"> npm install -g node-gyp</span>
</code></pre>
<p>Finally, once node-gyp is installed and ready to go, you can install this
library, specifying the GCC or Clang binary to use:</p>
<pre><code class="console"><span class="hljs-meta">$</span><span class="bash"> CXX=g++-12 npm install argon2</span>
</code></pre>
<p><strong>NOTE</strong>: If your GCC or Clang binary is named something different than <code>g++-12</code>,
you'll need to specify that in the command.</p>
<div class="pilwrap" id="faq">
  <h2>
    <a href="#faq" name="faq" class="pilcrow"></a>
FAQ
  </h2>
</div>
<details>
  <summary>How do I manually rebuild the binaries?</summary>
<pre><code class="bash">$ npx @mapbox/node-pre-gyp rebuild -C ./node_modules/argon2
</code></pre>
<p>Run <code>@mapbox/node-pre-gyp</code> instead of <code>node-gyp</code> because node-argon2's
<code>binding.gyp</code> file relies on variables from <code>@mapbox/node-pre-gyp</code>.</p>
<p>You can omit <code>npx @mapbox</code> and use just <code>node-pre-gyp</code> if you have a global
installation of <code>@mapbox/node-pre-gyp</code>, otherwise prefixing <code>npx</code> will use
the local one in <code>./node_modules/.bin</code></p>
</details>
<details>
  <summary>
    How do I skip installing prebuilt binaries and manually compile from source?
  </summary>
<p>You can do either of the two methods below:</p>
<ol>
<li>Force build from source on install.</li>
</ol>
<pre><code class="bash">$ npm install argon2 --build-from-source
</code></pre>
<ol start="2">
<li>Ignore <code>node-argon2</code> install script and build manually.</li>
</ol>
<pre><code class="bash">$ npm install argon2 --ignore-scripts
$ npx node-gyp rebuild -C ./node_modules/argon2
</code></pre>
</details>
<details>
  <summary>
    I installed Node as a <a href="https://snapcraft.io/node">snap</a>, and I can't install node-argon2.
  </summary>
<p>This seems to be an issue related to snap (see <a href="https://github.com/ranisalt/node-argon2/issues/345#issuecomment-1164178674">#345 (comment)</a>). Installing Node with another package manager, such as <a href="https://asdf-vm.com/">asdf</a> or <a href="https://github.com/nvm-sh/nvm">nvm</a>, is a possible workaround.</p>
</details>
<div class="pilwrap" id="differences-from-node-argon2-ffi">
  <h3>
    <a href="#differences-from-node-argon2-ffi" name="differences-from-node-argon2-ffi" class="pilcrow"></a>
Differences from <a href="https://github.com/cjlarose/argon2-ffi">node-argon2-ffi</a>
  </h3>
</div>
<p>The interface of both are very similar, notably, node-argon2-ffi splits the
argon2i and argon2d function set, but this module also has the argon2id option,
which node-argon2-ffi <strong>does not support</strong>.  Also, while node-argon2-ffi
suggests you promisify <code>crypto.randomBytes</code>, node-argon2 library does that
internally.</p>
<p><strong>node-argon2</strong> is much lighter than <strong>node-argon2-ffi</strong>, at 184 KB for
argon2@0.29.1 against 2.56 MB for argon2-ffi@1.2.0. Performance-wise, the
libraries are equal. You can run the same benchmark suite if you are curious,
but both can perform around 130 hashes/second on an Intel Core i5-4460 @ 3.2GHz
with default options.</p>
<p>This library is implemented natively, meaning it is an extension to the node
engine. Thus, half of the code is C++ bindings, the other half is Javascript
functions. node-argon2-ffi uses ffi, a mechanism to call functions from one
language in another, and handles the type bindings (e.g. JS Number -&gt; C++ int).</p>
<div class="pilwrap" id="contributors">
  <h2>
    <a href="#contributors" name="contributors" class="pilcrow"></a>
Contributors
  </h2>
</div>
<div class="pilwrap" id="code-contributors">
  <h3>
    <a href="#code-contributors" name="code-contributors" class="pilcrow"></a>
Code contributors
  </h3>
</div>
<p>This project exists thanks to all the people who contribute. [<a href="CONTRIBUTING.md.html">Contribute</a>].
<a href="https://github.com/ranisalt/node-argon2/graphs/contributors"><img src="https://opencollective.com/node-argon2/contributors.svg?width=890&button=false" /></a></p>
<div class="pilwrap" id="financial-contributors">
  <h3>
    <a href="#financial-contributors" name="financial-contributors" class="pilcrow"></a>
Financial contributors
  </h3>
</div>
<p>Become a financial contributor and help us sustain our community. [<a href="https://opencollective.com/node-argon2/contribute">Contribute</a>]</p>
<div class="pilwrap" id="individuals">
  <h4>
    <a href="#individuals" name="individuals" class="pilcrow"></a>
Individuals
  </h4>
</div>
<p><a href="https://opencollective.com/node-argon2"><img src="https://opencollective.com/node-argon2/individuals.svg?width=890"></a></p>
<div class="pilwrap" id="organizations">
  <h4>
    <a href="#organizations" name="organizations" class="pilcrow"></a>
Organizations
  </h4>
</div>
<p>Support this project with your organization. Your logo will show up here with a link to your website. [<a href="https://opencollective.com/node-argon2/contribute">Contribute</a>]</p>
<p><a href="https://opencollective.com/node-argon2/organization/0/website"><img src="https://opencollective.com/node-argon2/organization/0/avatar.svg"></a>
<a href="https://opencollective.com/node-argon2/organization/1/website"><img src="https://opencollective.com/node-argon2/organization/1/avatar.svg"></a>
<a href="https://opencollective.com/node-argon2/organization/2/website"><img src="https://opencollective.com/node-argon2/organization/2/avatar.svg"></a>
<a href="https://opencollective.com/node-argon2/organization/3/website"><img src="https://opencollective.com/node-argon2/organization/3/avatar.svg"></a>
<a href="https://opencollective.com/node-argon2/organization/4/website"><img src="https://opencollective.com/node-argon2/organization/4/avatar.svg"></a>
<a href="https://opencollective.com/node-argon2/organization/5/website"><img src="https://opencollective.com/node-argon2/organization/5/avatar.svg"></a>
<a href="https://opencollective.com/node-argon2/organization/6/website"><img src="https://opencollective.com/node-argon2/organization/6/avatar.svg"></a>
<a href="https://opencollective.com/node-argon2/organization/7/website"><img src="https://opencollective.com/node-argon2/organization/7/avatar.svg"></a>
<a href="https://opencollective.com/node-argon2/organization/8/website"><img src="https://opencollective.com/node-argon2/organization/8/avatar.svg"></a>
<a href="https://opencollective.com/node-argon2/organization/9/website"><img src="https://opencollective.com/node-argon2/organization/9/avatar.svg"></a></p>
<div class="pilwrap" id="license">
  <h2>
    <a href="#license" name="license" class="pilcrow"></a>
License
  </h2>
</div>
<p>Work licensed under the <a href="LICENSE.html">MIT License</a>. Please check
<a href="https://github.com/P-H-C/phc-winner-argon2">P-H-C/phc-winner-argon2</a> for
license over Argon2 and the reference implementation.</p>
</div>
  </div>
</body>
</html>
