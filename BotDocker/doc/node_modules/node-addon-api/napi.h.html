<!DOCTYPE html>
<html>
<head>
  <title>napi.h</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../doc-style.css" />
  <script src="../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../";
    var thisFile = "node_modules/node-addon-api/napi.h";
    var defaultSidebar = true;
  </script>
  <script src="../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
    
      <tr>
        <td class="docs">
          <h1>napi.h</h1>
        </td>
        <td class="code highlight"></td>
      </tr>
    
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-1" id="section-1"></a>
</div>

        </td>
        <td class="code highlight">
          <pre class="c"><span class="hljs-meta">#<span class="hljs-meta-keyword">ifndef</span> SRC_NAPI_H_</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> SRC_NAPI_H_</span>

<span class="hljs-meta">#<span class="hljs-meta-keyword">ifndef</span> NAPI_HAS_THREADS</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">if</span> !defined(__wasm__) || (defined(__EMSCRIPTEN_PTHREADS__) ||                 \
                           (defined(__wasi__) &amp;&amp; defined(_REENTRANT)))</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> NAPI_HAS_THREADS 1</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">else</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> NAPI_HAS_THREADS 0</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span>

<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;node_api.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;functional&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;initializer_list&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;memory&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">if</span> NAPI_HAS_THREADS</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;mutex&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span>  <span class="hljs-comment">// NAPI_HAS_THREADS</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span>

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-2" id="section-2"></a>
</div>
<p>VS2015 RTM has bugs with constexpr, so require min of VS2015 Update 3 (known
good version)</p>

        </td>
        <td class="code highlight">
          <pre class="c"><span class="hljs-meta">#<span class="hljs-meta-keyword">if</span> !defined(_MSC_VER) || _MSC_FULL_VER &gt;= 190024210</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> NAPI_HAS_CONSTEXPR 1</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span>

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-3" id="section-3"></a>
</div>
<p>VS2013 does not support char16_t literal strings, so we'll work around it
using wchar_t strings and casting them. This is safe as long as the character
sizes are the same.</p>

        </td>
        <td class="code highlight">
          <pre class="c"><span class="hljs-meta">#<span class="hljs-meta-keyword">if</span> defined(_MSC_VER) &amp;&amp; _MSC_VER &lt;= 1800</span>
<span class="hljs-keyword">static_assert</span>(<span class="hljs-keyword">sizeof</span>(<span class="hljs-keyword">char16_t</span>) == <span class="hljs-keyword">sizeof</span>(<span class="hljs-keyword">wchar_t</span>),
              <span class="hljs-string">"Size mismatch between char16_t and wchar_t"</span>);
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> NAPI_WIDE_TEXT(x) reinterpret_cast<span class="hljs-meta-string">&lt;char16_t*&gt;(L##x)</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">else</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> NAPI_WIDE_TEXT(x) u##x</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span>

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-4" id="section-4"></a>
</div>
<p>If C++ exceptions are not explicitly enabled or disabled, enable them
if exceptions were enabled in the compiler settings.</p>

        </td>
        <td class="code highlight">
          <pre class="c"><span class="hljs-meta">#<span class="hljs-meta-keyword">if</span> !defined(NAPI_CPP_EXCEPTIONS) &amp;&amp; !defined(NAPI_DISABLE_CPP_EXCEPTIONS)</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">if</span> defined(_CPPUNWIND) || defined(__EXCEPTIONS)</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> NAPI_CPP_EXCEPTIONS</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">else</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">error</span> Exception support not detected. \
      Define either NAPI_CPP_EXCEPTIONS or NAPI_DISABLE_CPP_EXCEPTIONS.</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span>

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-5" id="section-5"></a>
</div>
<p>If C++ NAPI_CPP_EXCEPTIONS are enabled, NODE_ADDON_API_ENABLE_MAYBE should
not be set</p>

        </td>
        <td class="code highlight">
          <pre class="c"><span class="hljs-meta">#<span class="hljs-meta-keyword">if</span> defined(NAPI_CPP_EXCEPTIONS) &amp;&amp; defined(NODE_ADDON_API_ENABLE_MAYBE)</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">error</span> NODE_ADDON_API_ENABLE_MAYBE should not be set when \
    NAPI_CPP_EXCEPTIONS is defined.</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span>

<span class="hljs-meta">#<span class="hljs-meta-keyword">ifdef</span> _NOEXCEPT</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> NAPI_NOEXCEPT _NOEXCEPT</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">else</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> NAPI_NOEXCEPT noexcept</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span>

<span class="hljs-meta">#<span class="hljs-meta-keyword">ifdef</span> NAPI_CPP_EXCEPTIONS</span>

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-6" id="section-6"></a>
</div>
<p>When C++ exceptions are enabled, Errors are thrown directly. There is no need
to return anything after the throw statements. The variadic parameter is an
optional return value that is ignored.
We need <em>VOID versions of the macros to avoid warnings resulting from
leaving the NAPI_THROW</em>* <code>...</code> argument empty.</p>

        </td>
        <td class="code highlight">
          <pre class="c">
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> NAPI_THROW(e, ...) throw e</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> NAPI_THROW_VOID(e) throw e</span>

<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> NAPI_THROW_IF_FAILED(env, status, ...)                                 \
  <span class="hljs-meta-keyword">if</span> ((status) != napi_ok) throw Napi::Error::New(env);</span>

<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> NAPI_THROW_IF_FAILED_VOID(env, status)                                 \
  <span class="hljs-meta-keyword">if</span> ((status) != napi_ok) throw Napi::Error::New(env);</span>

<span class="hljs-meta">#<span class="hljs-meta-keyword">else</span>  <span class="hljs-comment">// NAPI_CPP_EXCEPTIONS</span></span>

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-7" id="section-7"></a>
</div>
<p>When C++ exceptions are disabled, Errors are thrown as JavaScript exceptions,
which are pending until the callback returns to JS.  The variadic parameter
is an optional return value; usually it is an empty result.
We need <em>VOID versions of the macros to avoid warnings resulting from
leaving the NAPI_THROW</em>* <code>...</code> argument empty.</p>

        </td>
        <td class="code highlight">
          <pre class="c">
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> NAPI_THROW(e, ...)                                                     \
  do {                                                                         \
    (e).ThrowAsJavaScriptException();                                          \
    return __VA_ARGS__;                                                        \
  } while (0)</span>

<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> NAPI_THROW_VOID(e)                                                     \
  do {                                                                         \
    (e).ThrowAsJavaScriptException();                                          \
    return;                                                                    \
  } while (0)</span>

<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> NAPI_THROW_IF_FAILED(env, status, ...)                                 \
  <span class="hljs-meta-keyword">if</span> ((status) != napi_ok) {                                                   \
    Napi::Error::New(env).ThrowAsJavaScriptException();                        \
    return __VA_ARGS__;                                                        \
  }</span>

<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> NAPI_THROW_IF_FAILED_VOID(env, status)                                 \
  <span class="hljs-meta-keyword">if</span> ((status) != napi_ok) {                                                   \
    Napi::Error::New(env).ThrowAsJavaScriptException();                        \
    return;                                                                    \
  }</span>

<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span>  <span class="hljs-comment">// NAPI_CPP_EXCEPTIONS</span></span>

<span class="hljs-meta">#<span class="hljs-meta-keyword">ifdef</span> NODE_ADDON_API_ENABLE_MAYBE</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> NAPI_MAYBE_THROW_IF_FAILED(env, status, type)                          \
  NAPI_THROW_IF_FAILED(env, status, Napi::Nothing<span class="hljs-meta-string">&lt;type&gt;())</span></span>

<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> NAPI_RETURN_OR_THROW_IF_FAILED(env, status, result, type)              \
  NAPI_MAYBE_THROW_IF_FAILED(env, status, type);                               \
  return Napi::Just<span class="hljs-meta-string">&lt;type&gt;(result);</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">else</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> NAPI_MAYBE_THROW_IF_FAILED(env, status, type)                          \
  NAPI_THROW_IF_FAILED(env, status, type())</span>

<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> NAPI_RETURN_OR_THROW_IF_FAILED(env, status, result, type)              \
  NAPI_MAYBE_THROW_IF_FAILED(env, status, type);                               \
  return result;</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span>

<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> NAPI_DISALLOW_ASSIGN(CLASS) void operator=(const CLASS&amp;) = delete;</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> NAPI_DISALLOW_COPY(CLASS) CLASS(const CLASS&amp;) = delete;</span>

<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> NAPI_DISALLOW_ASSIGN_COPY(CLASS)                                       \
  NAPI_DISALLOW_ASSIGN(CLASS)                                                  \
  NAPI_DISALLOW_COPY(CLASS)</span>

<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> NAPI_CHECK(condition, location, message)                               \
  do {                                                                         \
    <span class="hljs-meta-keyword">if</span> (!(condition)) {                                                        \
      Napi::Error::Fatal((location), (message));                               \
    }                                                                          \
  } while (0)</span>

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-8" id="section-8"></a>
</div>
<p>Internal check helper. Be careful that the formatted message length should be
max 255 size and null terminated.</p>

        </td>
        <td class="code highlight">
          <pre class="c"><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> NAPI_INTERNAL_CHECK(expr, location, ...)                               \
  do {                                                                         \
    <span class="hljs-meta-keyword">if</span> (!(expr)) {                                                             \
      std::string msg = Napi::details::StringFormat(__VA_ARGS__);              \
      Napi::Error::Fatal(location, msg.c_str());                               \
    }                                                                          \
  } while (0)</span>

<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> NAPI_INTERNAL_CHECK_EQ(actual, expected, value_format, location)       \
  do {                                                                         \
    auto actual_value = (actual);                                              \
    NAPI_INTERNAL_CHECK(actual_value == (expected),                            \
                        location,                                              \
                        <span class="hljs-meta-string">"Expected "</span> #actual <span class="hljs-meta-string">" to be equal to "</span> #expected       \
                        <span class="hljs-meta-string">", but got "</span> value_format <span class="hljs-meta-string">"."</span>,                         \
                        actual_value);                                         \
  } while (0)</span>

<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> NAPI_FATAL_IF_FAILED(status, location, message)                        \
  NAPI_CHECK((status) == napi_ok, location, message)</span>

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-9" id="section-9"></a>
</div>
<p>//////////////////////////////////////////////////////////////////////////////
/ Node-API C++ Wrapper Classes
/
/ These classes wrap the &quot;Node-API&quot; ABI-stable C APIs for Node.js, providing a
/ C++ object model and C++ exception-handling semantics with low overhead.
/ The wrappers are all header-only so that they do not affect the ABI.
//////////////////////////////////////////////////////////////////////////////</p>

        </td>
        <td class="code highlight">
          <pre class="c"><span class="hljs-keyword">namespace</span> Napi {

<span class="hljs-meta">#<span class="hljs-meta-keyword">ifdef</span> NAPI_CPP_CUSTOM_NAMESPACE</span>
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-10" id="section-10"></a>
</div>
<p>NAPI_CPP_CUSTOM_NAMESPACE can be #define'd per-addon to avoid symbol
conflicts between different instances of node-addon-api</p>

        </td>
        <td class="code highlight">
          <pre class="c">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-11" id="section-11"></a>
</div>
<p>First dummy definition of the namespace to make sure that Napi::(name) still
refers to the right things inside this file.</p>

        </td>
        <td class="code highlight">
          <pre class="c"><span class="hljs-keyword">namespace</span> NAPI_CPP_CUSTOM_NAMESPACE {}
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> NAPI_CPP_CUSTOM_NAMESPACE;

<span class="hljs-keyword">namespace</span> NAPI_CPP_CUSTOM_NAMESPACE {
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span>

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-12" id="section-12"></a>
</div>
<p>Forward declarations</p>

        </td>
        <td class="code highlight">
          <pre class="c"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Env</span>;</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Value</span>;</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Boolean</span>;</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Number</span>;</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">if</span> NAPI_VERSION &gt; 5</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BigInt</span>;</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span>  <span class="hljs-comment">// NAPI_VERSION &gt; 5</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">if</span> (NAPI_VERSION &gt; 4)</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Date</span>;</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">String</span>;</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Object</span>;</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Array</span>;</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ArrayBuffer</span>;</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Function</span>;</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Error</span>;</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PropertyDescriptor</span>;</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CallbackInfo</span>;</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TypedArray</span>;</span>
<span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TypedArrayOf</span>;</span>

<span class="hljs-keyword">using</span> Int8Array =
    TypedArrayOf&lt;<span class="hljs-keyword">int8_t</span>&gt;;  <span class="hljs-comment">///&lt; Typed-array of signed 8-bit integers</span>
<span class="hljs-keyword">using</span> Uint8Array =
    TypedArrayOf&lt;<span class="hljs-keyword">uint8_t</span>&gt;;  <span class="hljs-comment">///&lt; Typed-array of unsigned 8-bit integers</span>
<span class="hljs-keyword">using</span> Int16Array =
    TypedArrayOf&lt;<span class="hljs-keyword">int16_t</span>&gt;;  <span class="hljs-comment">///&lt; Typed-array of signed 16-bit integers</span>
<span class="hljs-keyword">using</span> Uint16Array =
    TypedArrayOf&lt;<span class="hljs-keyword">uint16_t</span>&gt;;  <span class="hljs-comment">///&lt; Typed-array of unsigned 16-bit integers</span>
<span class="hljs-keyword">using</span> Int32Array =
    TypedArrayOf&lt;<span class="hljs-keyword">int32_t</span>&gt;;  <span class="hljs-comment">///&lt; Typed-array of signed 32-bit integers</span>
<span class="hljs-keyword">using</span> Uint32Array =
    TypedArrayOf&lt;<span class="hljs-keyword">uint32_t</span>&gt;;  <span class="hljs-comment">///&lt; Typed-array of unsigned 32-bit integers</span>
<span class="hljs-keyword">using</span> Float32Array =
    TypedArrayOf&lt;<span class="hljs-keyword">float</span>&gt;;  <span class="hljs-comment">///&lt; Typed-array of 32-bit floating-point values</span>
<span class="hljs-keyword">using</span> Float64Array =
    TypedArrayOf&lt;<span class="hljs-keyword">double</span>&gt;;  <span class="hljs-comment">///&lt; Typed-array of 64-bit floating-point values</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">if</span> NAPI_VERSION &gt; 5</span>
<span class="hljs-keyword">using</span> BigInt64Array =
    TypedArrayOf&lt;<span class="hljs-keyword">int64_t</span>&gt;;  <span class="hljs-comment">///&lt; Typed array of signed 64-bit integers</span>
<span class="hljs-keyword">using</span> BigUint64Array =
    TypedArrayOf&lt;<span class="hljs-keyword">uint64_t</span>&gt;;  <span class="hljs-comment">///&lt; Typed array of unsigned 64-bit integers</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span>                       <span class="hljs-comment">// NAPI_VERSION &gt; 5</span></span>

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-13" id="section-13"></a>
</div>
<p>/ Defines the signature of a Node-API C++ module's registration callback
/ (init) function.</p>

        </td>
        <td class="code highlight">
          <pre class="c"><span class="hljs-keyword">using</span> ModuleRegisterCallback = Object (*)(Env env, Object exports);

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MemoryManagement</span>;</span>

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-14" id="section-14"></a>
</div>
<p>/ A simple Maybe type, representing an object which may or may not have a
/ value.
/
/ If an API method returns a Maybe&lt;&gt;, the API method can potentially fail
/ either because an exception is thrown, or because an exception is pending,
/ e.g. because a previous API call threw an exception that hasn't been
/ caught yet. In that case, a &quot;Nothing&quot; value is returned.</p>

        </td>
        <td class="code highlight">
          <pre class="c"><span class="hljs-keyword">template</span> &lt;<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">T</span>&gt;
<span class="hljs-title">class</span> <span class="hljs-title">Maybe</span> {</span>
 <span class="hljs-keyword">public</span>:
  <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">IsNothing</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">IsJust</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-15" id="section-15"></a>
</div>
<p>/ Short-hand for Unwrap(), which doesn't return a value. Could be used
/ where the actual value of the Maybe is not needed like Object::Set.
/ If this Maybe is nothing (empty), node-addon-api will crash the
/ process.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Check</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-16" id="section-16"></a>
</div>
<p>/ Return the value of type T contained in the Maybe. If this Maybe is
/ nothing (empty), node-addon-api will crash the process.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function">T <span class="hljs-title">Unwrap</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-17" id="section-17"></a>
</div>
<p>/ Return the value of type T contained in the Maybe, or using a default
/ value if this Maybe is nothing (empty).</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function">T <span class="hljs-title">UnwrapOr</span><span class="hljs-params">(<span class="hljs-keyword">const</span> T&amp; default_value)</span> <span class="hljs-keyword">const</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-18" id="section-18"></a>
</div>
<p>/ Converts this Maybe to a value of type T in the out. If this Maybe is
/ nothing (empty), <code>false</code> is returned and <code>out</code> is left untouched.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">UnwrapTo</span><span class="hljs-params">(T* out)</span> <span class="hljs-keyword">const</span></span>;

  <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span>==(<span class="hljs-keyword">const</span> Maybe&amp; other) <span class="hljs-keyword">const</span>;
  <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span>!=(<span class="hljs-keyword">const</span> Maybe&amp; other) <span class="hljs-keyword">const</span>;

 <span class="hljs-keyword">private</span>:
  Maybe();
  <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">Maybe</span><span class="hljs-params">(<span class="hljs-keyword">const</span> T&amp; t)</span></span>;

  <span class="hljs-keyword">bool</span> _has_value;
  T _value;

  <span class="hljs-keyword">template</span> &lt;<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">U</span>&gt;
  <span class="hljs-title">friend</span> <span class="hljs-title">Maybe</span>&lt;U&gt; <span class="hljs-title">Nothing</span>();</span>
  <span class="hljs-keyword">template</span> &lt;<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">U</span>&gt;
  <span class="hljs-title">friend</span> <span class="hljs-title">Maybe</span>&lt;U&gt; <span class="hljs-title">Just</span>(<span class="hljs-title">const</span> <span class="hljs-title">U</span>&amp; <span class="hljs-title">u</span>);</span>
};

<span class="hljs-keyword">template</span> &lt;<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">T</span>&gt;
<span class="hljs-title">inline</span> <span class="hljs-title">Maybe</span>&lt;T&gt; <span class="hljs-title">Nothing</span>();</span>

<span class="hljs-keyword">template</span> &lt;<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">T</span>&gt;
<span class="hljs-title">inline</span> <span class="hljs-title">Maybe</span>&lt;T&gt; <span class="hljs-title">Just</span>(<span class="hljs-title">const</span> <span class="hljs-title">T</span>&amp; <span class="hljs-title">t</span>);</span>

<span class="hljs-meta">#<span class="hljs-meta-keyword">if</span> defined(NODE_ADDON_API_ENABLE_MAYBE)</span>
<span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-keyword">using</span> MaybeOrValue = Maybe&lt;T&gt;;
<span class="hljs-meta">#<span class="hljs-meta-keyword">else</span></span>
<span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-keyword">using</span> MaybeOrValue = T;
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span>

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-19" id="section-19"></a>
</div>
<p>/ Environment for Node-API values and operations.
/
/ All Node-API values and operations must be associated with an environment.
/ An environment instance is always provided to callback functions; that
/ environment must then be used for any creation of Node-API values or other
/ Node-API operations within the callback. (Many methods infer the
/ environment from the <code>this</code> instance that the method is called on.)
/
/ In the future, multiple environments per process may be supported,
/ although current implementations only support one environment per process.
/
/ In the V8 JavaScript engine, a Node-API environment approximately
/ corresponds to an Isolate.</p>

        </td>
        <td class="code highlight">
          <pre class="c">class Env {
 private:
  napi_env _env;
#if NAPI_VERSION &gt; 5
  template &lt;typename T&gt;
  static void DefaultFini(Env, T* data);
  template &lt;typename DataType, typename HintType&gt;
  static void DefaultFiniWithHint(Env, DataType* data, HintType* hint);
#endif  // NAPI_VERSION &gt; 5
 public:
  Env(napi_env env);

  operator napi_env() const;

  Object Global() const;
  Value Undefined() const;
  Value Null() const;

  bool IsExceptionPending() const;
  Error GetAndClearPendingException() const;

  MaybeOrValue&lt;Value&gt; RunScript(const char* utf8script) const;
  MaybeOrValue&lt;Value&gt; RunScript(const std::string&amp; utf8script) const;
  MaybeOrValue&lt;Value&gt; RunScript(String script) const;

#if NAPI_VERSION &gt; 2
  template &lt;typename Hook, typename Arg = void&gt;
  class CleanupHook;

  template &lt;typename Hook&gt;
  CleanupHook&lt;Hook&gt; AddCleanupHook(Hook hook);

  template &lt;typename Hook, typename Arg&gt;
  CleanupHook&lt;Hook, Arg&gt; AddCleanupHook(Hook hook, Arg* arg);
#endif  // NAPI_VERSION &gt; 2

#if NAPI_VERSION &gt; 5
  template &lt;typename T&gt;
  T* GetInstanceData() const;

  template &lt;typename T&gt;
  using Finalizer = void (*)(Env, T*);
  template &lt;typename T, Finalizer&lt;T&gt; fini = Env::DefaultFini&lt;T&gt;&gt;
  void SetInstanceData(T* data) const;

  template &lt;typename DataType, typename HintType&gt;
  using FinalizerWithHint = void (*)(Env, DataType*, HintType*);
  template &lt;typename DataType,
            typename HintType,
            FinalizerWithHint&lt;DataType, HintType&gt; fini =
                Env::DefaultFiniWithHint&lt;DataType, HintType&gt;&gt;
  void SetInstanceData(DataType* data, HintType* hint) const;
#endif  // NAPI_VERSION &gt; 5

#if NAPI_VERSION &gt; 2
  template &lt;typename Hook, typename Arg&gt;
  class CleanupHook {
   public:
    CleanupHook();
    CleanupHook(Env env, Hook hook, Arg* arg);
    CleanupHook(Env env, Hook hook);
    bool Remove(Env env);
    bool IsEmpty() const;

   private:
    static inline void Wrapper(void* data) NAPI_NOEXCEPT;
    static inline void WrapperWithArg(void* data) NAPI_NOEXCEPT;

    void (*wrapper)(void* arg);
    struct CleanupData {
      Hook hook;
      Arg* arg;
    } * data;
  };
#endif  // NAPI_VERSION &gt; 2

#if NAPI_VERSION &gt; 8
  const char* GetModuleFileName() const;
#endif  // NAPI_VERSION &gt; 8
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-20" id="section-20"></a>
</div>
<p>/ A JavaScript value of unknown type.
/
/ For type-specific operations, convert to one of the Value subclasses using a
/ <code>To*</code> or <code>As()</code> method. The <code>To*</code> methods do type coercion; the <code>As()</code>
/ method does not.
/
/     Napi::Value value = ...
/     if (!value.IsString()) throw Napi::TypeError::New(env, &quot;Invalid
/     arg...&quot;); Napi::String str = value.As<a href="Napi::String.html">Napi::String</a>(); // Cast to a
/     string value
/
/     Napi::Value anotherValue = ...
/     bool isTruthy = anotherValue.ToBoolean(); // Coerce to a boolean value</p>

        </td>
        <td class="code highlight">
          <pre class="c"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Value</span> {</span>
 <span class="hljs-keyword">public</span>:
  Value();  <span class="hljs-comment">///&lt; Creates a new _empty_ Value instance.</span>
  Value(napi_env env,
        napi_value value);  <span class="hljs-comment">///&lt; Wraps a Node-API value primitive.</span>

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-21" id="section-21"></a>
</div>
<p>/ Creates a JS value from a C++ primitive.
/
/ <code>value</code> may be any of:
/ - bool
/ - Any integer type
/ - Any floating point type
/ - const char* (encoded using UTF-8, null-terminated)
/ - const char16_t* (encoded using UTF-16-LE, null-terminated)
/ - std::string (encoded using UTF-8)
/ - std::u16string
/ - napi::Value
/ - napi_value</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> Value <span class="hljs-title">From</span><span class="hljs-params">(napi_env env, <span class="hljs-keyword">const</span> T&amp; value)</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-22" id="section-22"></a>
</div>
<p>/ Converts to a Node-API value primitive.
/
/ If the instance is <em>empty</em>, this returns <code>nullptr</code>.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function"><span class="hljs-keyword">operator</span> <span class="hljs-title">napi_value</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-23" id="section-23"></a>
</div>
<p>/ Tests if this value strictly equals another value.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span>==(<span class="hljs-keyword">const</span> Value&amp; other) <span class="hljs-keyword">const</span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-24" id="section-24"></a>
</div>
<p>/ Tests if this value does not strictly equal another value.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span>!=(<span class="hljs-keyword">const</span> Value&amp; other) <span class="hljs-keyword">const</span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-25" id="section-25"></a>
</div>
<p>/ Tests if this value strictly equals another value.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">StrictEquals</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Value&amp; other)</span> <span class="hljs-keyword">const</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-26" id="section-26"></a>
</div>
<p>/ Gets the environment the value is associated with.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function">Napi::Env <span class="hljs-title">Env</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-27" id="section-27"></a>
</div>
<p>/ Checks if the value is empty (uninitialized).
/
/ An empty value is invalid, and most attempts to perform an operation on an
/ empty value will result in an exception. Note an empty value is distinct
/ from JavaScript <code>null</code> or <code>undefined</code>, which are valid values.
/
/ When C++ exceptions are disabled at compile time, a method with a <code>Value</code>
/ return type may return an empty value to indicate a pending exception. So
/ when not using C++ exceptions, callers should check whether the value is
/ empty before attempting to use it.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">IsEmpty</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;

  <span class="hljs-function">napi_valuetype <span class="hljs-title">Type</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;  <span class="hljs-comment">///&lt; Gets the type of the value.</span>

  <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">IsUndefined</span><span class="hljs-params">()</span>
      <span class="hljs-keyword">const</span></span>;            <span class="hljs-comment">///&lt; Tests if a value is an undefined JavaScript value.</span>
  <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">IsNull</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;  <span class="hljs-comment">///&lt; Tests if a value is a null JavaScript value.</span>
  <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">IsBoolean</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;  <span class="hljs-comment">///&lt; Tests if a value is a JavaScript boolean.</span>
  <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">IsNumber</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;   <span class="hljs-comment">///&lt; Tests if a value is a JavaScript number.</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">if</span> NAPI_VERSION &gt; 5</span>
  <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">IsBigInt</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;  <span class="hljs-comment">///&lt; Tests if a value is a JavaScript bigint.</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span>                    <span class="hljs-comment">// NAPI_VERSION &gt; 5</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">if</span> (NAPI_VERSION &gt; 4)</span>
  <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">IsDate</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;  <span class="hljs-comment">///&lt; Tests if a value is a JavaScript date.</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span>
  <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">IsString</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;  <span class="hljs-comment">///&lt; Tests if a value is a JavaScript string.</span>
  <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">IsSymbol</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;  <span class="hljs-comment">///&lt; Tests if a value is a JavaScript symbol.</span>
  <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">IsArray</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;   <span class="hljs-comment">///&lt; Tests if a value is a JavaScript array.</span>
  <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">IsArrayBuffer</span><span class="hljs-params">()</span>
      <span class="hljs-keyword">const</span></span>;  <span class="hljs-comment">///&lt; Tests if a value is a JavaScript array buffer.</span>
  <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">IsTypedArray</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;  <span class="hljs-comment">///&lt; Tests if a value is a JavaScript typed array.</span>
  <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">IsObject</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;      <span class="hljs-comment">///&lt; Tests if a value is a JavaScript object.</span>
  <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">IsFunction</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;    <span class="hljs-comment">///&lt; Tests if a value is a JavaScript function.</span>
  <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">IsPromise</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;     <span class="hljs-comment">///&lt; Tests if a value is a JavaScript promise.</span>
  <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">IsDataView</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;    <span class="hljs-comment">///&lt; Tests if a value is a JavaScript data view.</span>
  <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">IsBuffer</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;      <span class="hljs-comment">///&lt; Tests if a value is a Node buffer.</span>
  <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">IsExternal</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;  <span class="hljs-comment">///&lt; Tests if a value is a pointer to external data.</span>

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-28" id="section-28"></a>
</div>
<p>/ Casts to another type of <code>Napi::Value</code>, when the actual type is known or
/ assumed.
/
/ This conversion does NOT coerce the type. Calling any methods
/ inappropriate for the actual value type will throw <code>Napi::Error</code>.
/
/ If <code>NODE_ADDON_API_ENABLE_TYPE_CHECK_ON_AS</code> is defined, this method
/ asserts that the actual type is the expected type.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;
  <span class="hljs-function">T <span class="hljs-title">As</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;

  <span class="hljs-function">MaybeOrValue&lt;Boolean&gt; <span class="hljs-title">ToBoolean</span><span class="hljs-params">()</span>
      <span class="hljs-keyword">const</span></span>;  <span class="hljs-comment">///&lt; Coerces a value to a JavaScript boolean.</span>
  <span class="hljs-function">MaybeOrValue&lt;Number&gt; <span class="hljs-title">ToNumber</span><span class="hljs-params">()</span>
      <span class="hljs-keyword">const</span></span>;  <span class="hljs-comment">///&lt; Coerces a value to a JavaScript number.</span>
  <span class="hljs-function">MaybeOrValue&lt;<span class="hljs-keyword">String</span>&gt; <span class="hljs-title">ToString</span><span class="hljs-params">()</span>
      <span class="hljs-keyword">const</span></span>;  <span class="hljs-comment">///&lt; Coerces a value to a JavaScript string.</span>
  <span class="hljs-function">MaybeOrValue&lt;Object&gt; <span class="hljs-title">ToObject</span><span class="hljs-params">()</span>
      <span class="hljs-keyword">const</span></span>;  <span class="hljs-comment">///&lt; Coerces a value to a JavaScript object.</span>

 <span class="hljs-keyword">protected</span>:
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-29" id="section-29"></a>
</div>
<p>/ !cond INTERNAL</p>

        </td>
        <td class="code highlight">
          <pre class="c">  napi_env _env;
  napi_value _value;
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-30" id="section-30"></a>
</div>
<p>/ !endcond</p>

        </td>
        <td class="code highlight">
          <pre class="c">};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-31" id="section-31"></a>
</div>
<p>/ A JavaScript boolean value.</p>

        </td>
        <td class="code highlight">
          <pre class="c"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Boolean</span> :</span> <span class="hljs-keyword">public</span> Value {
 <span class="hljs-keyword">public</span>:
  <span class="hljs-function"><span class="hljs-keyword">static</span> Boolean <span class="hljs-title">New</span><span class="hljs-params">(napi_env env,  <span class="hljs-comment">///&lt; Node-API environment</span>
                     <span class="hljs-keyword">bool</span> value     <span class="hljs-comment">///&lt; Boolean value</span>
  )</span></span>;

  <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">CheckCast</span><span class="hljs-params">(napi_env env, napi_value value)</span></span>;

  Boolean();  <span class="hljs-comment">///&lt; Creates a new _empty_ Boolean instance.</span>
  Boolean(napi_env env,
          napi_value value);  <span class="hljs-comment">///&lt; Wraps a Node-API value primitive.</span>

  <span class="hljs-function"><span class="hljs-keyword">operator</span> <span class="hljs-title">bool</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;  <span class="hljs-comment">///&lt; Converts a Boolean value to a boolean primitive.</span>
  <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">Value</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;     <span class="hljs-comment">///&lt; Converts a Boolean value to a boolean primitive.</span>
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-32" id="section-32"></a>
</div>
<p>/ A JavaScript number value.</p>

        </td>
        <td class="code highlight">
          <pre class="c"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Number</span> :</span> <span class="hljs-keyword">public</span> Value {
 <span class="hljs-keyword">public</span>:
  <span class="hljs-function"><span class="hljs-keyword">static</span> Number <span class="hljs-title">New</span><span class="hljs-params">(napi_env env,  <span class="hljs-comment">///&lt; Node-API environment</span>
                    <span class="hljs-keyword">double</span> value   <span class="hljs-comment">///&lt; Number value</span>
  )</span></span>;

  <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">CheckCast</span><span class="hljs-params">(napi_env env, napi_value value)</span></span>;

  Number();  <span class="hljs-comment">///&lt; Creates a new _empty_ Number instance.</span>
  Number(napi_env env,
         napi_value value);  <span class="hljs-comment">///&lt; Wraps a Node-API value primitive.</span>

  <span class="hljs-function"><span class="hljs-keyword">operator</span> <span class="hljs-title">int32_t</span><span class="hljs-params">()</span>
      <span class="hljs-keyword">const</span></span>;  <span class="hljs-comment">///&lt; Converts a Number value to a 32-bit signed integer value.</span>
  <span class="hljs-function"><span class="hljs-keyword">operator</span> <span class="hljs-title">uint32_t</span><span class="hljs-params">()</span>
      <span class="hljs-keyword">const</span></span>;  <span class="hljs-comment">///&lt; Converts a Number value to a 32-bit unsigned integer value.</span>
  <span class="hljs-function"><span class="hljs-keyword">operator</span> <span class="hljs-title">int64_t</span><span class="hljs-params">()</span>
      <span class="hljs-keyword">const</span></span>;  <span class="hljs-comment">///&lt; Converts a Number value to a 64-bit signed integer value.</span>
  <span class="hljs-function"><span class="hljs-keyword">operator</span> <span class="hljs-title">float</span><span class="hljs-params">()</span>
      <span class="hljs-keyword">const</span></span>;  <span class="hljs-comment">///&lt; Converts a Number value to a 32-bit floating-point value.</span>
  <span class="hljs-function"><span class="hljs-keyword">operator</span> <span class="hljs-title">double</span><span class="hljs-params">()</span>
      <span class="hljs-keyword">const</span></span>;  <span class="hljs-comment">///&lt; Converts a Number value to a 64-bit floating-point value.</span>

  <span class="hljs-function"><span class="hljs-keyword">int32_t</span> <span class="hljs-title">Int32Value</span><span class="hljs-params">()</span>
      <span class="hljs-keyword">const</span></span>;  <span class="hljs-comment">///&lt; Converts a Number value to a 32-bit signed integer value.</span>
  <span class="hljs-function"><span class="hljs-keyword">uint32_t</span> <span class="hljs-title">Uint32Value</span><span class="hljs-params">()</span>
      <span class="hljs-keyword">const</span></span>;  <span class="hljs-comment">///&lt; Converts a Number value to a 32-bit unsigned integer value.</span>
  <span class="hljs-function"><span class="hljs-keyword">int64_t</span> <span class="hljs-title">Int64Value</span><span class="hljs-params">()</span>
      <span class="hljs-keyword">const</span></span>;  <span class="hljs-comment">///&lt; Converts a Number value to a 64-bit signed integer value.</span>
  <span class="hljs-function"><span class="hljs-keyword">float</span> <span class="hljs-title">FloatValue</span><span class="hljs-params">()</span>
      <span class="hljs-keyword">const</span></span>;  <span class="hljs-comment">///&lt; Converts a Number value to a 32-bit floating-point value.</span>
  <span class="hljs-function"><span class="hljs-keyword">double</span> <span class="hljs-title">DoubleValue</span><span class="hljs-params">()</span>
      <span class="hljs-keyword">const</span></span>;  <span class="hljs-comment">///&lt; Converts a Number value to a 64-bit floating-point value.</span>
};

<span class="hljs-meta">#<span class="hljs-meta-keyword">if</span> NAPI_VERSION &gt; 5</span>
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-33" id="section-33"></a>
</div>
<p>/ A JavaScript bigint value.</p>

        </td>
        <td class="code highlight">
          <pre class="c"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BigInt</span> :</span> <span class="hljs-keyword">public</span> Value {
 <span class="hljs-keyword">public</span>:
  <span class="hljs-function"><span class="hljs-keyword">static</span> BigInt <span class="hljs-title">New</span><span class="hljs-params">(napi_env env,  <span class="hljs-comment">///&lt; Node-API environment</span>
                    <span class="hljs-keyword">int64_t</span> value  <span class="hljs-comment">///&lt; Number value</span>
  )</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">static</span> BigInt <span class="hljs-title">New</span><span class="hljs-params">(napi_env env,   <span class="hljs-comment">///&lt; Node-API environment</span>
                    <span class="hljs-keyword">uint64_t</span> value  <span class="hljs-comment">///&lt; Number value</span>
  )</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-34" id="section-34"></a>
</div>
<p>/ Creates a new BigInt object using a specified sign bit and a
/ specified list of digits/words.
/ The resulting number is calculated as:
/ (-1)^sign_bit * (words[0] * (2^64)^0 + words[1] * (2^64)^1 + ...)</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function"><span class="hljs-keyword">static</span> BigInt <span class="hljs-title">New</span><span class="hljs-params">(napi_env env,          <span class="hljs-comment">///&lt; Node-API environment</span>
                    <span class="hljs-keyword">int</span> sign_bit,          <span class="hljs-comment">///&lt; Sign bit. 1 if negative.</span>
                    <span class="hljs-keyword">size_t</span> word_count,     <span class="hljs-comment">///&lt; Number of words in array</span>
                    <span class="hljs-keyword">const</span> <span class="hljs-keyword">uint64_t</span>* words  <span class="hljs-comment">///&lt; Array of words</span>
  )</span></span>;

  <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">CheckCast</span><span class="hljs-params">(napi_env env, napi_value value)</span></span>;

  BigInt();  <span class="hljs-comment">///&lt; Creates a new _empty_ BigInt instance.</span>
  BigInt(napi_env env,
         napi_value value);  <span class="hljs-comment">///&lt; Wraps a Node-API value primitive.</span>

  <span class="hljs-function"><span class="hljs-keyword">int64_t</span> <span class="hljs-title">Int64Value</span><span class="hljs-params">(<span class="hljs-keyword">bool</span>* lossless)</span>
      <span class="hljs-keyword">const</span></span>;  <span class="hljs-comment">///&lt; Converts a BigInt value to a 64-bit signed integer value.</span>
  <span class="hljs-function"><span class="hljs-keyword">uint64_t</span> <span class="hljs-title">Uint64Value</span><span class="hljs-params">(<span class="hljs-keyword">bool</span>* lossless)</span>
      <span class="hljs-keyword">const</span></span>;  <span class="hljs-comment">///&lt; Converts a BigInt value to a 64-bit unsigned integer value.</span>

  <span class="hljs-function"><span class="hljs-keyword">size_t</span> <span class="hljs-title">WordCount</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;  <span class="hljs-comment">///&lt; The number of 64-bit words needed to store</span>
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-35" id="section-35"></a>
</div>
<p>/&lt; the result of ToWords().</p>

        </td>
        <td class="code highlight">
          <pre class="c">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-36" id="section-36"></a>
</div>
<p>/ Writes the contents of this BigInt to a specified memory location.
/ <code>sign_bit</code> must be provided and will be set to 1 if this BigInt is
/ negative.
/ <code>*word_count</code> has to be initialized to the length of the <code>words</code> array.
/ Upon return, it will be set to the actual number of words that would
/ be needed to store this BigInt (i.e. the return value of <code>WordCount()</code>).</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">ToWords</span><span class="hljs-params">(<span class="hljs-keyword">int</span>* sign_bit, <span class="hljs-keyword">size_t</span>* word_count, <span class="hljs-keyword">uint64_t</span>* words)</span></span>;
};
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span>  <span class="hljs-comment">// NAPI_VERSION &gt; 5</span></span>

<span class="hljs-meta">#<span class="hljs-meta-keyword">if</span> (NAPI_VERSION &gt; 4)</span>
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-37" id="section-37"></a>
</div>
<p>/ A JavaScript date value.</p>

        </td>
        <td class="code highlight">
          <pre class="c"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Date</span> :</span> <span class="hljs-keyword">public</span> Value {
 <span class="hljs-keyword">public</span>:
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-38" id="section-38"></a>
</div>
<p>/ Creates a new Date value from a double primitive.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function"><span class="hljs-keyword">static</span> Date <span class="hljs-title">New</span><span class="hljs-params">(napi_env env,  <span class="hljs-comment">///&lt; Node-API environment</span>
                  <span class="hljs-keyword">double</span> value   <span class="hljs-comment">///&lt; Number value</span>
  )</span></span>;

  <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">CheckCast</span><span class="hljs-params">(napi_env env, napi_value value)</span></span>;

  Date();  <span class="hljs-comment">///&lt; Creates a new _empty_ Date instance.</span>
  Date(napi_env env, napi_value value);  <span class="hljs-comment">///&lt; Wraps a Node-API value primitive.</span>
  <span class="hljs-function"><span class="hljs-keyword">operator</span> <span class="hljs-title">double</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;  <span class="hljs-comment">///&lt; Converts a Date value to double primitive</span>

  <span class="hljs-function"><span class="hljs-keyword">double</span> <span class="hljs-title">ValueOf</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;  <span class="hljs-comment">///&lt; Converts a Date value to a double primitive.</span>
};
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span>

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-39" id="section-39"></a>
</div>
<p>/ A JavaScript string or symbol value (that can be used as a property name).</p>

        </td>
        <td class="code highlight">
          <pre class="c"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Name</span> :</span> <span class="hljs-keyword">public</span> Value {
 <span class="hljs-keyword">public</span>:
  <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">CheckCast</span><span class="hljs-params">(napi_env env, napi_value value)</span></span>;

  Name();  <span class="hljs-comment">///&lt; Creates a new _empty_ Name instance.</span>
  Name(napi_env env,
       napi_value value);  <span class="hljs-comment">///&lt; Wraps a Node-API value primitive.</span>
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-40" id="section-40"></a>
</div>
<p>/ A JavaScript string value.</p>

        </td>
        <td class="code highlight">
          <pre class="c"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">String</span> :</span> <span class="hljs-keyword">public</span> Name {
 <span class="hljs-keyword">public</span>:
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-41" id="section-41"></a>
</div>
<p>/ Creates a new String value from a UTF-8 encoded C++ string.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">String</span> <span class="hljs-title">New</span><span class="hljs-params">(napi_env env,             <span class="hljs-comment">///&lt; Node-API environment</span>
                    <span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&amp; value  <span class="hljs-comment">///&lt; UTF-8 encoded C++ string</span>
  )</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-42" id="section-42"></a>
</div>
<p>/ Creates a new String value from a UTF-16 encoded C++ string.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">String</span> <span class="hljs-title">New</span><span class="hljs-params">(napi_env env,                <span class="hljs-comment">///&lt; Node-API environment</span>
                    <span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::u16string&amp; value  <span class="hljs-comment">///&lt; UTF-16 encoded C++ string</span>
  )</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-43" id="section-43"></a>
</div>
<p>/ Creates a new String value from a UTF-8 encoded C string.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">String</span> <span class="hljs-title">New</span><span class="hljs-params">(
      napi_env env,      <span class="hljs-comment">///&lt; Node-API environment</span>
      <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* value  <span class="hljs-comment">///&lt; UTF-8 encoded null-terminated C string</span>
  )</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-44" id="section-44"></a>
</div>
<p>/ Creates a new String value from a UTF-16 encoded C string.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">String</span> <span class="hljs-title">New</span><span class="hljs-params">(
      napi_env env,          <span class="hljs-comment">///&lt; Node-API environment</span>
      <span class="hljs-keyword">const</span> <span class="hljs-keyword">char16_t</span>* value  <span class="hljs-comment">///&lt; UTF-16 encoded null-terminated C string</span>
  )</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-45" id="section-45"></a>
</div>
<p>/ Creates a new String value from a UTF-8 encoded C string with specified
/ length.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">String</span> <span class="hljs-title">New</span><span class="hljs-params">(napi_env env,       <span class="hljs-comment">///&lt; Node-API environment</span>
                    <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* value,  <span class="hljs-comment">///&lt; UTF-8 encoded C string (not</span>
</span></span></pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-46" id="section-46"></a>
</div>
<p>/&lt; necessarily null-terminated)</p>

        </td>
        <td class="code highlight">
          <pre class="c">                    <span class="hljs-keyword">size_t</span> length       <span class="hljs-comment">///&lt; length of the string in bytes</span>
  );

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-47" id="section-47"></a>
</div>
<p>/ Creates a new String value from a UTF-16 encoded C string with specified
/ length.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">String</span> <span class="hljs-title">New</span><span class="hljs-params">(
      napi_env env,           <span class="hljs-comment">///&lt; Node-API environment</span>
      <span class="hljs-keyword">const</span> <span class="hljs-keyword">char16_t</span>* value,  <span class="hljs-comment">///&lt; UTF-16 encoded C string (not necessarily</span>
</span></span></pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-48" id="section-48"></a>
</div>
<p>/&lt; null-terminated)</p>

        </td>
        <td class="code highlight">
          <pre class="c">      <span class="hljs-keyword">size_t</span> length           <span class="hljs-comment">///&lt; Length of the string in 2-byte code units</span>
  );

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-49" id="section-49"></a>
</div>
<p>/ Creates a new String based on the original object's type.
/
/ <code>value</code> may be any of:
/ - const char* (encoded using UTF-8, null-terminated)
/ - const char16_t* (encoded using UTF-16-LE, null-terminated)
/ - std::string (encoded using UTF-8)
/ - std::u16string</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">String</span> <span class="hljs-title">From</span><span class="hljs-params">(napi_env env, <span class="hljs-keyword">const</span> T&amp; value)</span></span>;

  <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">CheckCast</span><span class="hljs-params">(napi_env env, napi_value value)</span></span>;

  <span class="hljs-keyword">String</span>();  <span class="hljs-comment">///&lt; Creates a new _empty_ String instance.</span>
  <span class="hljs-keyword">String</span>(napi_env env,
         napi_value value);  <span class="hljs-comment">///&lt; Wraps a Node-API value primitive.</span>

  <span class="hljs-function"><span class="hljs-keyword">operator</span> <span class="hljs-title">std::string</span><span class="hljs-params">()</span>
      <span class="hljs-keyword">const</span></span>;  <span class="hljs-comment">///&lt; Converts a String value to a UTF-8 encoded C++ string.</span>
  <span class="hljs-function"><span class="hljs-keyword">operator</span> <span class="hljs-title">std::u16string</span><span class="hljs-params">()</span>
      <span class="hljs-keyword">const</span></span>;  <span class="hljs-comment">///&lt; Converts a String value to a UTF-16 encoded C++ string.</span>
  <span class="hljs-function"><span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> <span class="hljs-title">Utf8Value</span><span class="hljs-params">()</span>
      <span class="hljs-keyword">const</span></span>;  <span class="hljs-comment">///&lt; Converts a String value to a UTF-8 encoded C++ string.</span>
  <span class="hljs-function"><span class="hljs-built_in">std</span>::u16string <span class="hljs-title">Utf16Value</span><span class="hljs-params">()</span>
      <span class="hljs-keyword">const</span></span>;  <span class="hljs-comment">///&lt; Converts a String value to a UTF-16 encoded C++ string.</span>
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-50" id="section-50"></a>
</div>
<p>/ A JavaScript symbol value.</p>

        </td>
        <td class="code highlight">
          <pre class="c"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Symbol</span> :</span> <span class="hljs-keyword">public</span> Name {
 <span class="hljs-keyword">public</span>:
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-51" id="section-51"></a>
</div>
<p>/ Creates a new Symbol value with an optional description.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function"><span class="hljs-keyword">static</span> Symbol <span class="hljs-title">New</span><span class="hljs-params">(
      napi_env env,  <span class="hljs-comment">///&lt; Node-API environment</span>
      <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* description =
          <span class="hljs-literal">nullptr</span>  <span class="hljs-comment">///&lt; Optional UTF-8 encoded null-terminated C string</span>
</span></span></pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-52" id="section-52"></a>
</div>
<p>/  describing the symbol</p>

        </td>
        <td class="code highlight">
          <pre class="c">  );

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-53" id="section-53"></a>
</div>
<p>/ Creates a new Symbol value with a description.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function"><span class="hljs-keyword">static</span> Symbol <span class="hljs-title">New</span><span class="hljs-params">(
      napi_env env,  <span class="hljs-comment">///&lt; Node-API environment</span>
      <span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&amp;
          description  <span class="hljs-comment">///&lt; UTF-8 encoded C++ string describing the symbol</span>
  )</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-54" id="section-54"></a>
</div>
<p>/ Creates a new Symbol value with a description.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function"><span class="hljs-keyword">static</span> Symbol <span class="hljs-title">New</span><span class="hljs-params">(napi_env env,       <span class="hljs-comment">///&lt; Node-API environment</span>
                    <span class="hljs-keyword">String</span> description  <span class="hljs-comment">///&lt; String value describing the symbol</span>
  )</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-55" id="section-55"></a>
</div>
<p>/ Creates a new Symbol value with a description.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function"><span class="hljs-keyword">static</span> Symbol <span class="hljs-title">New</span><span class="hljs-params">(
      napi_env env,           <span class="hljs-comment">///&lt; Node-API environment</span>
      napi_value description  <span class="hljs-comment">///&lt; String value describing the symbol</span>
  )</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-56" id="section-56"></a>
</div>
<p>/ Get a public Symbol (e.g. Symbol.iterator).</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function"><span class="hljs-keyword">static</span> MaybeOrValue&lt;Symbol&gt; <span class="hljs-title">WellKnown</span><span class="hljs-params">(napi_env, <span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&amp; name)</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-57" id="section-57"></a>
</div>
<p>Create a symbol in the global registry, UTF-8 Encoded cpp string</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function"><span class="hljs-keyword">static</span> MaybeOrValue&lt;Symbol&gt; <span class="hljs-title">For</span><span class="hljs-params">(napi_env env, <span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&amp; description)</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-58" id="section-58"></a>
</div>
<p>Create a symbol in the global registry, C style string (null terminated)</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function"><span class="hljs-keyword">static</span> MaybeOrValue&lt;Symbol&gt; <span class="hljs-title">For</span><span class="hljs-params">(napi_env env, <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* description)</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-59" id="section-59"></a>
</div>
<p>Create a symbol in the global registry, String value describing the symbol</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function"><span class="hljs-keyword">static</span> MaybeOrValue&lt;Symbol&gt; <span class="hljs-title">For</span><span class="hljs-params">(napi_env env, <span class="hljs-keyword">String</span> description)</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-60" id="section-60"></a>
</div>
<p>Create a symbol in the global registry, napi_value describing the symbol</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function"><span class="hljs-keyword">static</span> MaybeOrValue&lt;Symbol&gt; <span class="hljs-title">For</span><span class="hljs-params">(napi_env env, napi_value description)</span></span>;

  <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">CheckCast</span><span class="hljs-params">(napi_env env, napi_value value)</span></span>;

  Symbol();  <span class="hljs-comment">///&lt; Creates a new _empty_ Symbol instance.</span>
  Symbol(napi_env env,
         napi_value value);  <span class="hljs-comment">///&lt; Wraps a Node-API value primitive.</span>
};

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TypeTaggable</span> :</span> <span class="hljs-keyword">public</span> Value {
 <span class="hljs-keyword">public</span>:
<span class="hljs-meta">#<span class="hljs-meta-keyword">if</span> NAPI_VERSION &gt;= 8</span>
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">TypeTag</span><span class="hljs-params">(<span class="hljs-keyword">const</span> napi_type_tag* type_tag)</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">CheckTypeTag</span><span class="hljs-params">(<span class="hljs-keyword">const</span> napi_type_tag* type_tag)</span> <span class="hljs-keyword">const</span></span>;
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span>  <span class="hljs-comment">// NAPI_VERSION &gt;= 8</span></span>
 <span class="hljs-keyword">protected</span>:
  TypeTaggable();
  TypeTaggable(napi_env env, napi_value value);
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-61" id="section-61"></a>
</div>
<p>/ A JavaScript object value.</p>

        </td>
        <td class="code highlight">
          <pre class="c"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Object</span> :</span> <span class="hljs-keyword">public</span> TypeTaggable {
 <span class="hljs-keyword">public</span>:
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-62" id="section-62"></a>
</div>
<p>/ Enables property and element assignments using indexing syntax.
/
/ This is a convenient helper to get and set object properties. As
/ getting and setting object properties may throw with JavaScript
/ exceptions, it is notable that these operations may fail.
/ When NODE_ADDON_API_ENABLE_MAYBE is defined, the process will abort
/ on JavaScript exceptions.
/
/ Example:
/
/     Napi::Value propertyValue = object1['A'];
/     object2['A'] = propertyValue;
/     Napi::Value elementValue = array[0];
/     array[1] = elementValue;</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> Key&gt;
  <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PropertyLValue</span> {</span>
   <span class="hljs-keyword">public</span>:
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-63" id="section-63"></a>
</div>
<p>/ Converts an L-value to a value.</p>

        </td>
        <td class="code highlight">
          <pre class="c">    <span class="hljs-function"><span class="hljs-keyword">operator</span> <span class="hljs-title">Value</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-64" id="section-64"></a>
</div>
<p>/ Assigns a value to the property. The type of value can be
/ anything supported by <code>Object::Set</code>.</p>

        </td>
        <td class="code highlight">
          <pre class="c">    <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ValueType&gt;
    PropertyLValue&amp; <span class="hljs-keyword">operator</span>=(ValueType value);

   <span class="hljs-keyword">private</span>:
    PropertyLValue() = <span class="hljs-keyword">delete</span>;
    PropertyLValue(Object object, Key key);
    napi_env _env;
    napi_value _object;
    Key _key;

    <span class="hljs-keyword">friend</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Napi</span>:</span>:Object;
  };

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-65" id="section-65"></a>
</div>
<p>/ Creates a new Object value.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function"><span class="hljs-keyword">static</span> Object <span class="hljs-title">New</span><span class="hljs-params">(napi_env env  <span class="hljs-comment">///&lt; Node-API environment</span>
  )</span></span>;

  <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">CheckCast</span><span class="hljs-params">(napi_env env, napi_value value)</span></span>;

  Object();  <span class="hljs-comment">///&lt; Creates a new _empty_ Object instance.</span>
  Object(napi_env env,
         napi_value value);  <span class="hljs-comment">///&lt; Wraps a Node-API value primitive.</span>

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-66" id="section-66"></a>
</div>
<p>/ Gets or sets a named property.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  PropertyLValue&lt;<span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&gt; <span class="hljs-keyword">operator</span>[](
      <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* utf8name  <span class="hljs-comment">///&lt; UTF-8 encoded null-terminated property name</span>
  );

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-67" id="section-67"></a>
</div>
<p>/ Gets or sets a named property.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  PropertyLValue&lt;<span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&gt; <span class="hljs-keyword">operator</span>[](
      <span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&amp; utf8name  <span class="hljs-comment">///&lt; UTF-8 encoded property name</span>
  );

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-68" id="section-68"></a>
</div>
<p>/ Gets or sets an indexed property or array element.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  PropertyLValue&lt;<span class="hljs-keyword">uint32_t</span>&gt; <span class="hljs-keyword">operator</span>[](
      <span class="hljs-keyword">uint32_t</span> index  <span class="hljs-comment">/// Property / element index</span>
  );

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-69" id="section-69"></a>
</div>
<p>/ Gets or sets an indexed property or array element.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  PropertyLValue&lt;Value&gt; <span class="hljs-keyword">operator</span>[](Value index  <span class="hljs-comment">/// Property / element index</span>
  ) <span class="hljs-keyword">const</span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-70" id="section-70"></a>
</div>
<p>/ Gets a named property.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  MaybeOrValue&lt;Value&gt; <span class="hljs-keyword">operator</span>[](
      <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* utf8name  <span class="hljs-comment">///&lt; UTF-8 encoded null-terminated property name</span>
  ) <span class="hljs-keyword">const</span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-71" id="section-71"></a>
</div>
<p>/ Gets a named property.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  MaybeOrValue&lt;Value&gt; <span class="hljs-keyword">operator</span>[](
      <span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&amp; utf8name  <span class="hljs-comment">///&lt; UTF-8 encoded property name</span>
  ) <span class="hljs-keyword">const</span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-72" id="section-72"></a>
</div>
<p>/ Gets an indexed property or array element.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  MaybeOrValue&lt;Value&gt; <span class="hljs-keyword">operator</span>[](<span class="hljs-keyword">uint32_t</span> index  <span class="hljs-comment">///&lt; Property / element index</span>
  ) <span class="hljs-keyword">const</span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-73" id="section-73"></a>
</div>
<p>/ Checks whether a property is present.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function">MaybeOrValue&lt;<span class="hljs-keyword">bool</span>&gt; <span class="hljs-title">Has</span><span class="hljs-params">(napi_value key  <span class="hljs-comment">///&lt; Property key primitive</span>
  )</span> <span class="hljs-keyword">const</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-74" id="section-74"></a>
</div>
<p>/ Checks whether a property is present.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function">MaybeOrValue&lt;<span class="hljs-keyword">bool</span>&gt; <span class="hljs-title">Has</span><span class="hljs-params">(Value key  <span class="hljs-comment">///&lt; Property key</span>
  )</span> <span class="hljs-keyword">const</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-75" id="section-75"></a>
</div>
<p>/ Checks whether a named property is present.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function">MaybeOrValue&lt;<span class="hljs-keyword">bool</span>&gt; <span class="hljs-title">Has</span><span class="hljs-params">(
      <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* utf8name  <span class="hljs-comment">///&lt; UTF-8 encoded null-terminated property name</span>
  )</span> <span class="hljs-keyword">const</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-76" id="section-76"></a>
</div>
<p>/ Checks whether a named property is present.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function">MaybeOrValue&lt;<span class="hljs-keyword">bool</span>&gt; <span class="hljs-title">Has</span><span class="hljs-params">(
      <span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&amp; utf8name  <span class="hljs-comment">///&lt; UTF-8 encoded property name</span>
  )</span> <span class="hljs-keyword">const</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-77" id="section-77"></a>
</div>
<p>/ Checks whether a own property is present.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function">MaybeOrValue&lt;<span class="hljs-keyword">bool</span>&gt; <span class="hljs-title">HasOwnProperty</span><span class="hljs-params">(napi_value key  <span class="hljs-comment">///&lt; Property key primitive</span>
  )</span> <span class="hljs-keyword">const</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-78" id="section-78"></a>
</div>
<p>/ Checks whether a own property is present.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function">MaybeOrValue&lt;<span class="hljs-keyword">bool</span>&gt; <span class="hljs-title">HasOwnProperty</span><span class="hljs-params">(Value key  <span class="hljs-comment">///&lt; Property key</span>
  )</span> <span class="hljs-keyword">const</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-79" id="section-79"></a>
</div>
<p>/ Checks whether a own property is present.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function">MaybeOrValue&lt;<span class="hljs-keyword">bool</span>&gt; <span class="hljs-title">HasOwnProperty</span><span class="hljs-params">(
      <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* utf8name  <span class="hljs-comment">///&lt; UTF-8 encoded null-terminated property name</span>
  )</span> <span class="hljs-keyword">const</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-80" id="section-80"></a>
</div>
<p>/ Checks whether a own property is present.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function">MaybeOrValue&lt;<span class="hljs-keyword">bool</span>&gt; <span class="hljs-title">HasOwnProperty</span><span class="hljs-params">(
      <span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&amp; utf8name  <span class="hljs-comment">///&lt; UTF-8 encoded property name</span>
  )</span> <span class="hljs-keyword">const</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-81" id="section-81"></a>
</div>
<p>/ Gets a property.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function">MaybeOrValue&lt;Value&gt; <span class="hljs-title">Get</span><span class="hljs-params">(napi_value key  <span class="hljs-comment">///&lt; Property key primitive</span>
  )</span> <span class="hljs-keyword">const</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-82" id="section-82"></a>
</div>
<p>/ Gets a property.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function">MaybeOrValue&lt;Value&gt; <span class="hljs-title">Get</span><span class="hljs-params">(Value key  <span class="hljs-comment">///&lt; Property key</span>
  )</span> <span class="hljs-keyword">const</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-83" id="section-83"></a>
</div>
<p>/ Gets a named property.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function">MaybeOrValue&lt;Value&gt; <span class="hljs-title">Get</span><span class="hljs-params">(
      <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* utf8name  <span class="hljs-comment">///&lt; UTF-8 encoded null-terminated property name</span>
  )</span> <span class="hljs-keyword">const</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-84" id="section-84"></a>
</div>
<p>/ Gets a named property.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function">MaybeOrValue&lt;Value&gt; <span class="hljs-title">Get</span><span class="hljs-params">(
      <span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&amp; utf8name  <span class="hljs-comment">///&lt; UTF-8 encoded property name</span>
  )</span> <span class="hljs-keyword">const</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-85" id="section-85"></a>
</div>
<p>/ Sets a property.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ValueType&gt;
  <span class="hljs-function">MaybeOrValue&lt;<span class="hljs-keyword">bool</span>&gt; <span class="hljs-title">Set</span><span class="hljs-params">(napi_value key,         <span class="hljs-comment">///&lt; Property key primitive</span>
                         <span class="hljs-keyword">const</span> ValueType&amp; value  <span class="hljs-comment">///&lt; Property value primitive</span>
  )</span> <span class="hljs-keyword">const</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-86" id="section-86"></a>
</div>
<p>/ Sets a property.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ValueType&gt;
  <span class="hljs-function">MaybeOrValue&lt;<span class="hljs-keyword">bool</span>&gt; <span class="hljs-title">Set</span><span class="hljs-params">(Value key,              <span class="hljs-comment">///&lt; Property key</span>
                         <span class="hljs-keyword">const</span> ValueType&amp; value  <span class="hljs-comment">///&lt; Property value</span>
  )</span> <span class="hljs-keyword">const</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-87" id="section-87"></a>
</div>
<p>/ Sets a named property.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ValueType&gt;
  <span class="hljs-function">MaybeOrValue&lt;<span class="hljs-keyword">bool</span>&gt; <span class="hljs-title">Set</span><span class="hljs-params">(
      <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* utf8name,  <span class="hljs-comment">///&lt; UTF-8 encoded null-terminated property name</span>
      <span class="hljs-keyword">const</span> ValueType&amp; value)</span> <span class="hljs-keyword">const</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-88" id="section-88"></a>
</div>
<p>/ Sets a named property.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ValueType&gt;
  <span class="hljs-function">MaybeOrValue&lt;<span class="hljs-keyword">bool</span>&gt; <span class="hljs-title">Set</span><span class="hljs-params">(
      <span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&amp; utf8name,  <span class="hljs-comment">///&lt; UTF-8 encoded property name</span>
      <span class="hljs-keyword">const</span> ValueType&amp; value        <span class="hljs-comment">///&lt; Property value primitive</span>
  )</span> <span class="hljs-keyword">const</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-89" id="section-89"></a>
</div>
<p>/ Delete property.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function">MaybeOrValue&lt;<span class="hljs-keyword">bool</span>&gt; <span class="hljs-title">Delete</span><span class="hljs-params">(napi_value key  <span class="hljs-comment">///&lt; Property key primitive</span>
  )</span> <span class="hljs-keyword">const</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-90" id="section-90"></a>
</div>
<p>/ Delete property.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function">MaybeOrValue&lt;<span class="hljs-keyword">bool</span>&gt; <span class="hljs-title">Delete</span><span class="hljs-params">(Value key  <span class="hljs-comment">///&lt; Property key</span>
  )</span> <span class="hljs-keyword">const</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-91" id="section-91"></a>
</div>
<p>/ Delete property.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function">MaybeOrValue&lt;<span class="hljs-keyword">bool</span>&gt; <span class="hljs-title">Delete</span><span class="hljs-params">(
      <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* utf8name  <span class="hljs-comment">///&lt; UTF-8 encoded null-terminated property name</span>
  )</span> <span class="hljs-keyword">const</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-92" id="section-92"></a>
</div>
<p>/ Delete property.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function">MaybeOrValue&lt;<span class="hljs-keyword">bool</span>&gt; <span class="hljs-title">Delete</span><span class="hljs-params">(
      <span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&amp; utf8name  <span class="hljs-comment">///&lt; UTF-8 encoded property name</span>
  )</span> <span class="hljs-keyword">const</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-93" id="section-93"></a>
</div>
<p>/ Checks whether an indexed property is present.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function">MaybeOrValue&lt;<span class="hljs-keyword">bool</span>&gt; <span class="hljs-title">Has</span><span class="hljs-params">(<span class="hljs-keyword">uint32_t</span> index  <span class="hljs-comment">///&lt; Property / element index</span>
  )</span> <span class="hljs-keyword">const</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-94" id="section-94"></a>
</div>
<p>/ Gets an indexed property or array element.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function">MaybeOrValue&lt;Value&gt; <span class="hljs-title">Get</span><span class="hljs-params">(<span class="hljs-keyword">uint32_t</span> index  <span class="hljs-comment">///&lt; Property / element index</span>
  )</span> <span class="hljs-keyword">const</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-95" id="section-95"></a>
</div>
<p>/ Sets an indexed property or array element.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ValueType&gt;
  <span class="hljs-function">MaybeOrValue&lt;<span class="hljs-keyword">bool</span>&gt; <span class="hljs-title">Set</span><span class="hljs-params">(<span class="hljs-keyword">uint32_t</span> index,         <span class="hljs-comment">///&lt; Property / element index</span>
                         <span class="hljs-keyword">const</span> ValueType&amp; value  <span class="hljs-comment">///&lt; Property value primitive</span>
  )</span> <span class="hljs-keyword">const</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-96" id="section-96"></a>
</div>
<p>/ Deletes an indexed property or array element.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function">MaybeOrValue&lt;<span class="hljs-keyword">bool</span>&gt; <span class="hljs-title">Delete</span><span class="hljs-params">(<span class="hljs-keyword">uint32_t</span> index  <span class="hljs-comment">///&lt; Property / element index</span>
  )</span> <span class="hljs-keyword">const</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-97" id="section-97"></a>
</div>
<p>/ This operation can fail in case of Proxy.[[OwnPropertyKeys]] and
/ Proxy.[[GetOwnProperty]] calling into JavaScript. See:
/ -
/ https://tc39.es/ecma262/#sec-proxy-object-internal-methods-and-internal-slots-ownpropertykeys
/ -
/ https://tc39.es/ecma262/#sec-proxy-object-internal-methods-and-internal-slots-getownproperty-p</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function">MaybeOrValue&lt;Array&gt; <span class="hljs-title">GetPropertyNames</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;  <span class="hljs-comment">///&lt; Get all property names</span>

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-98" id="section-98"></a>
</div>
<p>/ Defines a property on the object.
/
/ This operation can fail in case of Proxy.[[DefineOwnProperty]] calling
/ into JavaScript. See
/ https://tc39.es/ecma262/#sec-proxy-object-internal-methods-and-internal-slots-defineownproperty-p-desc</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function">MaybeOrValue&lt;<span class="hljs-keyword">bool</span>&gt; <span class="hljs-title">DefineProperty</span><span class="hljs-params">(
      <span class="hljs-keyword">const</span> PropertyDescriptor&amp;
          property  <span class="hljs-comment">///&lt; Descriptor for the property to be defined</span>
  )</span> <span class="hljs-keyword">const</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-99" id="section-99"></a>
</div>
<p>/ Defines properties on the object.
/
/ This operation can fail in case of Proxy.[[DefineOwnProperty]] calling
/ into JavaScript. See
/ https://tc39.es/ecma262/#sec-proxy-object-internal-methods-and-internal-slots-defineownproperty-p-desc</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function">MaybeOrValue&lt;<span class="hljs-keyword">bool</span>&gt; <span class="hljs-title">DefineProperties</span><span class="hljs-params">(
      <span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">initializer_list</span>&lt;PropertyDescriptor&gt;&amp; properties
</span></span></pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-100" id="section-100"></a>
</div>
<p>/&lt; List of descriptors for the properties to be defined</p>

        </td>
        <td class="code highlight">
          <pre class="c">  ) <span class="hljs-keyword">const</span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-101" id="section-101"></a>
</div>
<p>/ Defines properties on the object.
/
/ This operation can fail in case of Proxy.[[DefineOwnProperty]] calling
/ into JavaScript. See
/ https://tc39.es/ecma262/#sec-proxy-object-internal-methods-and-internal-slots-defineownproperty-p-desc</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function">MaybeOrValue&lt;<span class="hljs-keyword">bool</span>&gt; <span class="hljs-title">DefineProperties</span><span class="hljs-params">(
      <span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">vector</span>&lt;PropertyDescriptor&gt;&amp; properties
</span></span></pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-102" id="section-102"></a>
</div>
<p>/&lt; Vector of descriptors for the properties to be defined</p>

        </td>
        <td class="code highlight">
          <pre class="c">  ) <span class="hljs-keyword">const</span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-103" id="section-103"></a>
</div>
<p>/ Checks if an object is an instance created by a constructor function.
/
/ This is equivalent to the JavaScript <code>instanceof</code> operator.
/
/ This operation can fail in case of Proxy.[[GetPrototypeOf]] calling into
/ JavaScript.
/ See
/ https://tc39.es/ecma262/#sec-proxy-object-internal-methods-and-internal-slots-getprototypeof</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function">MaybeOrValue&lt;<span class="hljs-keyword">bool</span>&gt; <span class="hljs-title">InstanceOf</span><span class="hljs-params">(
      <span class="hljs-keyword">const</span> Function&amp; constructor  <span class="hljs-comment">///&lt; Constructor function</span>
  )</span> <span class="hljs-keyword">const</span></span>;

  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> Finalizer, <span class="hljs-keyword">typename</span> T&gt;
  <span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">void</span> <span class="hljs-title">AddFinalizer</span><span class="hljs-params">(Finalizer finalizeCallback, T* data)</span> <span class="hljs-keyword">const</span></span>;

  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> Finalizer, <span class="hljs-keyword">typename</span> T, <span class="hljs-keyword">typename</span> Hint&gt;
  <span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">void</span> <span class="hljs-title">AddFinalizer</span><span class="hljs-params">(Finalizer finalizeCallback,
                           T* data,
                           Hint* finalizeHint)</span> <span class="hljs-keyword">const</span></span>;

<span class="hljs-meta">#<span class="hljs-meta-keyword">ifdef</span> NAPI_CPP_EXCEPTIONS</span>
  <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">const_iterator</span>;</span>

  <span class="hljs-function"><span class="hljs-keyword">inline</span> const_iterator <span class="hljs-title">begin</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;

  <span class="hljs-function"><span class="hljs-keyword">inline</span> const_iterator <span class="hljs-title">end</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;

  <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">iterator</span>;</span>

  <span class="hljs-function"><span class="hljs-keyword">inline</span> iterator <span class="hljs-title">begin</span><span class="hljs-params">()</span></span>;

  <span class="hljs-function"><span class="hljs-keyword">inline</span> iterator <span class="hljs-title">end</span><span class="hljs-params">()</span></span>;
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span>  <span class="hljs-comment">// NAPI_CPP_EXCEPTIONS</span></span>

<span class="hljs-meta">#<span class="hljs-meta-keyword">if</span> NAPI_VERSION &gt;= 8</span>
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-104" id="section-104"></a>
</div>
<p>/ This operation can fail in case of Proxy.[[GetPrototypeOf]] calling into
/ JavaScript.
/ See
/ https://tc39.es/ecma262/#sec-proxy-object-internal-methods-and-internal-slots-getprototypeof</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function">MaybeOrValue&lt;<span class="hljs-keyword">bool</span>&gt; <span class="hljs-title">Freeze</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-105" id="section-105"></a>
</div>
<p>/ This operation can fail in case of Proxy.[[GetPrototypeOf]] calling into
/ JavaScript.
/ See
/ https://tc39.es/ecma262/#sec-proxy-object-internal-methods-and-internal-slots-getprototypeof</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function">MaybeOrValue&lt;<span class="hljs-keyword">bool</span>&gt; <span class="hljs-title">Seal</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span>  <span class="hljs-comment">// NAPI_VERSION &gt;= 8</span></span>
};

<span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">External</span> :</span> <span class="hljs-keyword">public</span> TypeTaggable {
 <span class="hljs-keyword">public</span>:
  <span class="hljs-function"><span class="hljs-keyword">static</span> External <span class="hljs-title">New</span><span class="hljs-params">(napi_env env, T* data)</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-106" id="section-106"></a>
</div>
<p>Finalizer must implement <code>void operator()(Env env, T* data)</code>.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> Finalizer&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> External <span class="hljs-title">New</span><span class="hljs-params">(napi_env env, T* data, Finalizer finalizeCallback)</span></span>;
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-107" id="section-107"></a>
</div>
<p>Finalizer must implement <code>void operator()(Env env, T* data, Hint* hint)</code>.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> Finalizer, <span class="hljs-keyword">typename</span> Hint&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> External <span class="hljs-title">New</span><span class="hljs-params">(napi_env env,
                      T* data,
                      Finalizer finalizeCallback,
                      Hint* finalizeHint)</span></span>;

  <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">CheckCast</span><span class="hljs-params">(napi_env env, napi_value value)</span></span>;

  External();
  External(napi_env env, napi_value value);

  <span class="hljs-function">T* <span class="hljs-title">Data</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;
};

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Array</span> :</span> <span class="hljs-keyword">public</span> Object {
 <span class="hljs-keyword">public</span>:
  <span class="hljs-function"><span class="hljs-keyword">static</span> Array <span class="hljs-title">New</span><span class="hljs-params">(napi_env env)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">static</span> Array <span class="hljs-title">New</span><span class="hljs-params">(napi_env env, <span class="hljs-keyword">size_t</span> length)</span></span>;

  <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">CheckCast</span><span class="hljs-params">(napi_env env, napi_value value)</span></span>;

  Array();
  Array(napi_env env, napi_value value);

  <span class="hljs-function"><span class="hljs-keyword">uint32_t</span> <span class="hljs-title">Length</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;
};

<span class="hljs-meta">#<span class="hljs-meta-keyword">ifdef</span> NAPI_CPP_EXCEPTIONS</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Object</span>:</span>:const_iterator {
 <span class="hljs-keyword">private</span>:
  <span class="hljs-keyword">enum</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Type</span> {</span> BEGIN, END };

  <span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-title">const_iterator</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Object* object, <span class="hljs-keyword">const</span> Type type)</span></span>;

 <span class="hljs-keyword">public</span>:
  <span class="hljs-keyword">inline</span> const_iterator&amp; <span class="hljs-keyword">operator</span>++();

  <span class="hljs-keyword">inline</span> <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span>==(<span class="hljs-keyword">const</span> const_iterator&amp; other) <span class="hljs-keyword">const</span>;

  <span class="hljs-keyword">inline</span> <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span>!=(<span class="hljs-keyword">const</span> const_iterator&amp; other) <span class="hljs-keyword">const</span>;

  <span class="hljs-keyword">inline</span> <span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::pair&lt;Value, Object::PropertyLValue&lt;Value&gt;&gt; <span class="hljs-keyword">operator</span>*()
      <span class="hljs-keyword">const</span>;

 <span class="hljs-keyword">private</span>:
  <span class="hljs-keyword">const</span> Napi::Object* _object;
  Array _keys;
  <span class="hljs-keyword">uint32_t</span> _index;

  <span class="hljs-keyword">friend</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Object</span>;</span>
};

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Object</span>:</span>:iterator {
 <span class="hljs-keyword">private</span>:
  <span class="hljs-keyword">enum</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Type</span> {</span> BEGIN, END };

  <span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-title">iterator</span><span class="hljs-params">(Object* object, <span class="hljs-keyword">const</span> Type type)</span></span>;

 <span class="hljs-keyword">public</span>:
  <span class="hljs-keyword">inline</span> iterator&amp; <span class="hljs-keyword">operator</span>++();

  <span class="hljs-keyword">inline</span> <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span>==(<span class="hljs-keyword">const</span> iterator&amp; other) <span class="hljs-keyword">const</span>;

  <span class="hljs-keyword">inline</span> <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span>!=(<span class="hljs-keyword">const</span> iterator&amp; other) <span class="hljs-keyword">const</span>;

  <span class="hljs-keyword">inline</span> <span class="hljs-built_in">std</span>::pair&lt;Value, Object::PropertyLValue&lt;Value&gt;&gt; <span class="hljs-keyword">operator</span>*();

 <span class="hljs-keyword">private</span>:
  Napi::Object* _object;
  Array _keys;
  <span class="hljs-keyword">uint32_t</span> _index;

  <span class="hljs-keyword">friend</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Object</span>;</span>
};
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span>  <span class="hljs-comment">// NAPI_CPP_EXCEPTIONS</span></span>

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-108" id="section-108"></a>
</div>
<p>/ A JavaScript array buffer value.</p>

        </td>
        <td class="code highlight">
          <pre class="c"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ArrayBuffer</span> :</span> <span class="hljs-keyword">public</span> Object {
 <span class="hljs-keyword">public</span>:
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-109" id="section-109"></a>
</div>
<p>/ Creates a new ArrayBuffer instance over a new automatically-allocated
/ buffer.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function"><span class="hljs-keyword">static</span> ArrayBuffer <span class="hljs-title">New</span><span class="hljs-params">(
      napi_env env,      <span class="hljs-comment">///&lt; Node-API environment</span>
      <span class="hljs-keyword">size_t</span> byteLength  <span class="hljs-comment">///&lt; Length of the buffer to be allocated, in bytes</span>
  )</span></span>;

<span class="hljs-meta">#<span class="hljs-meta-keyword">ifndef</span> NODE_API_NO_EXTERNAL_BUFFERS_ALLOWED</span>
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-110" id="section-110"></a>
</div>
<p>/ Creates a new ArrayBuffer instance, using an external buffer with
/ specified byte length.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function"><span class="hljs-keyword">static</span> ArrayBuffer <span class="hljs-title">New</span><span class="hljs-params">(
      napi_env env,        <span class="hljs-comment">///&lt; Node-API environment</span>
      <span class="hljs-keyword">void</span>* externalData,  <span class="hljs-comment">///&lt; Pointer to the external buffer to be used by</span>
</span></span></pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-111" id="section-111"></a>
</div>
<p>/&lt; the array</p>

        </td>
        <td class="code highlight">
          <pre class="c">      <span class="hljs-keyword">size_t</span> byteLength    <span class="hljs-comment">///&lt; Length of the external buffer to be used by the</span>
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-112" id="section-112"></a>
</div>
<p>/&lt; array, in bytes</p>

        </td>
        <td class="code highlight">
          <pre class="c">  );

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-113" id="section-113"></a>
</div>
<p>/ Creates a new ArrayBuffer instance, using an external buffer with
/ specified byte length.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> Finalizer&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> ArrayBuffer <span class="hljs-title">New</span><span class="hljs-params">(
      napi_env env,        <span class="hljs-comment">///&lt; Node-API environment</span>
      <span class="hljs-keyword">void</span>* externalData,  <span class="hljs-comment">///&lt; Pointer to the external buffer to be used by</span>
</span></span></pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-114" id="section-114"></a>
</div>
<p>/&lt; the array</p>

        </td>
        <td class="code highlight">
          <pre class="c">      <span class="hljs-keyword">size_t</span> byteLength,   <span class="hljs-comment">///&lt; Length of the external buffer to be used by the</span>
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-115" id="section-115"></a>
</div>
<p>/&lt; array,
/  in bytes</p>

        </td>
        <td class="code highlight">
          <pre class="c">      Finalizer finalizeCallback  <span class="hljs-comment">///&lt; Function to be called when the array</span>
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-116" id="section-116"></a>
</div>
<p>/&lt; buffer is destroyed;
/  must implement <code>void operator()(Env env, / void* externalData)</code></p>

        </td>
        <td class="code highlight">
          <pre class="c">  );

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-117" id="section-117"></a>
</div>
<p>/ Creates a new ArrayBuffer instance, using an external buffer with
/ specified byte length.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> Finalizer, <span class="hljs-keyword">typename</span> Hint&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> ArrayBuffer <span class="hljs-title">New</span><span class="hljs-params">(
      napi_env env,        <span class="hljs-comment">///&lt; Node-API environment</span>
      <span class="hljs-keyword">void</span>* externalData,  <span class="hljs-comment">///&lt; Pointer to the external buffer to be used by</span>
</span></span></pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-118" id="section-118"></a>
</div>
<p>/&lt; the array</p>

        </td>
        <td class="code highlight">
          <pre class="c">      <span class="hljs-keyword">size_t</span> byteLength,   <span class="hljs-comment">///&lt; Length of the external buffer to be used by the</span>
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-119" id="section-119"></a>
</div>
<p>/&lt; array,
/  in bytes</p>

        </td>
        <td class="code highlight">
          <pre class="c">      Finalizer finalizeCallback,  <span class="hljs-comment">///&lt; Function to be called when the array</span>
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-120" id="section-120"></a>
</div>
<p>/&lt; buffer is destroyed;
/  must implement <code>void operator()(Env / env, void* externalData, Hint* hint)</code></p>

        </td>
        <td class="code highlight">
          <pre class="c">      Hint* finalizeHint  <span class="hljs-comment">///&lt; Hint (second parameter) to be passed to the</span>
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-121" id="section-121"></a>
</div>
<p>/&lt; finalize callback</p>

        </td>
        <td class="code highlight">
          <pre class="c">  );
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span>  <span class="hljs-comment">// NODE_API_NO_EXTERNAL_BUFFERS_ALLOWED</span></span>

  <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">CheckCast</span><span class="hljs-params">(napi_env env, napi_value value)</span></span>;

  ArrayBuffer();  <span class="hljs-comment">///&lt; Creates a new _empty_ ArrayBuffer instance.</span>
  ArrayBuffer(napi_env env,
              napi_value value);  <span class="hljs-comment">///&lt; Wraps a Node-API value primitive.</span>

  <span class="hljs-function"><span class="hljs-keyword">void</span>* <span class="hljs-title">Data</span><span class="hljs-params">()</span></span>;         <span class="hljs-comment">///&lt; Gets a pointer to the data buffer.</span>
  <span class="hljs-function"><span class="hljs-keyword">size_t</span> <span class="hljs-title">ByteLength</span><span class="hljs-params">()</span></span>;  <span class="hljs-comment">///&lt; Gets the length of the array buffer in bytes.</span>

<span class="hljs-meta">#<span class="hljs-meta-keyword">if</span> NAPI_VERSION &gt;= 7</span>
  <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">IsDetached</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Detach</span><span class="hljs-params">()</span></span>;
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span>  <span class="hljs-comment">// NAPI_VERSION &gt;= 7</span></span>
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-122" id="section-122"></a>
</div>
<p>/ A JavaScript typed-array value with unknown array type.
/
/ For type-specific operations, cast to a <code>TypedArrayOf&lt;T&gt;</code> instance using the
/ <code>As()</code> method:
/
/     Napi::TypedArray array = ...
/     if (t.TypedArrayType() == napi_int32_array) {
/         Napi::Int32Array int32Array = t.As<a href="Napi::Int32Array.html">Napi::Int32Array</a>();
/     }</p>

        </td>
        <td class="code highlight">
          <pre class="c"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TypedArray</span> :</span> <span class="hljs-keyword">public</span> Object {
 <span class="hljs-keyword">public</span>:
  <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">CheckCast</span><span class="hljs-params">(napi_env env, napi_value value)</span></span>;

  TypedArray();  <span class="hljs-comment">///&lt; Creates a new _empty_ TypedArray instance.</span>
  TypedArray(napi_env env,
             napi_value value);  <span class="hljs-comment">///&lt; Wraps a Node-API value primitive.</span>

  <span class="hljs-function">napi_typedarray_type <span class="hljs-title">TypedArrayType</span><span class="hljs-params">()</span>
      <span class="hljs-keyword">const</span></span>;  <span class="hljs-comment">///&lt; Gets the type of this typed-array.</span>
  <span class="hljs-function">Napi::ArrayBuffer <span class="hljs-title">ArrayBuffer</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;  <span class="hljs-comment">///&lt; Gets the backing array buffer.</span>

  <span class="hljs-function"><span class="hljs-keyword">uint8_t</span> <span class="hljs-title">ElementSize</span><span class="hljs-params">()</span>
      <span class="hljs-keyword">const</span></span>;  <span class="hljs-comment">///&lt; Gets the size in bytes of one element in the array.</span>
  <span class="hljs-function"><span class="hljs-keyword">size_t</span> <span class="hljs-title">ElementLength</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;  <span class="hljs-comment">///&lt; Gets the number of elements in the array.</span>
  <span class="hljs-function"><span class="hljs-keyword">size_t</span> <span class="hljs-title">ByteOffset</span><span class="hljs-params">()</span>
      <span class="hljs-keyword">const</span></span>;  <span class="hljs-comment">///&lt; Gets the offset into the buffer where the array starts.</span>
  <span class="hljs-function"><span class="hljs-keyword">size_t</span> <span class="hljs-title">ByteLength</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;  <span class="hljs-comment">///&lt; Gets the length of the array in bytes.</span>

 <span class="hljs-keyword">protected</span>:
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-123" id="section-123"></a>
</div>
<p>/ !cond INTERNAL</p>

        </td>
        <td class="code highlight">
          <pre class="c">  napi_typedarray_type _type;
  <span class="hljs-keyword">size_t</span> _length;

  TypedArray(napi_env env,
             napi_value value,
             napi_typedarray_type type,
             <span class="hljs-keyword">size_t</span> length);

  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;
  <span class="hljs-keyword">static</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">if</span> defined(NAPI_HAS_CONSTEXPR)</span>
      <span class="hljs-keyword">constexpr</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span>
      <span class="hljs-function">napi_typedarray_type
      <span class="hljs-title">TypedArrayTypeForPrimitiveType</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">std</span>::is_same&lt;T, <span class="hljs-keyword">int8_t</span>&gt;::value     ? napi_int8_array
           : <span class="hljs-built_in">std</span>::is_same&lt;T, <span class="hljs-keyword">uint8_t</span>&gt;::value  ? napi_uint8_array
           : <span class="hljs-built_in">std</span>::is_same&lt;T, <span class="hljs-keyword">int16_t</span>&gt;::value  ? napi_int16_array
           : <span class="hljs-built_in">std</span>::is_same&lt;T, <span class="hljs-keyword">uint16_t</span>&gt;::value ? napi_uint16_array
           : <span class="hljs-built_in">std</span>::is_same&lt;T, <span class="hljs-keyword">int32_t</span>&gt;::value  ? napi_int32_array
           : <span class="hljs-built_in">std</span>::is_same&lt;T, <span class="hljs-keyword">uint32_t</span>&gt;::value ? napi_uint32_array
           : <span class="hljs-built_in">std</span>::is_same&lt;T, <span class="hljs-keyword">float</span>&gt;::value    ? napi_float32_array
           : <span class="hljs-built_in">std</span>::is_same&lt;T, <span class="hljs-keyword">double</span>&gt;::value   ? napi_float64_array
#<span class="hljs-keyword">if</span> NAPI_VERSION &gt; <span class="hljs-number">5</span>
           : <span class="hljs-built_in">std</span>::is_same&lt;T, <span class="hljs-keyword">int64_t</span>&gt;::value  ? napi_bigint64_array
           : <span class="hljs-built_in">std</span>::is_same&lt;T, <span class="hljs-keyword">uint64_t</span>&gt;::value ? napi_biguint64_array
#endif  <span class="hljs-comment">// NAPI_VERSION &gt; 5</span>
                                              : napi_int8_array;
  }
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-124" id="section-124"></a>
</div>
<p>/ !endcond</p>

        </td>
        <td class="code highlight">
          <pre class="c">};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-125" id="section-125"></a>
</div>
<p>/ A JavaScript typed-array value with known array type.
/
/ Note while it is possible to create and access Uint8 &quot;clamped&quot; arrays using
/ this class, the <em>clamping</em> behavior is only applied in JavaScript.</p>

        </td>
        <td class="code highlight">
          <pre class="c"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TypedArrayOf</span> :</span> <span class="hljs-keyword">public</span> TypedArray {
 <span class="hljs-keyword">public</span>:
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-126" id="section-126"></a>
</div>
<p>/ Creates a new TypedArray instance over a new automatically-allocated array
/ buffer.
/
/ The array type parameter can normally be omitted (because it is inferred
/ from the template parameter T), except when creating a &quot;clamped&quot; array:
/
/     Uint8Array::New(env, length, napi_uint8_clamped_array)</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function"><span class="hljs-keyword">static</span> TypedArrayOf <span class="hljs-title">New</span><span class="hljs-params">(
      napi_env env,          <span class="hljs-comment">///&lt; Node-API environment</span>
      <span class="hljs-keyword">size_t</span> elementLength,  <span class="hljs-comment">///&lt; Length of the created array, as a number of</span>
</span></span></pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-127" id="section-127"></a>
</div>
<p>/&lt; elements</p>

        </td>
        <td class="code highlight">
          <pre class="c"><span class="hljs-meta">#<span class="hljs-meta-keyword">if</span> defined(NAPI_HAS_CONSTEXPR)</span>
      napi_typedarray_type type =
          TypedArray::TypedArrayTypeForPrimitiveType&lt;T&gt;()
#<span class="hljs-keyword">else</span>
      napi_typedarray_type type
#endif
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-128" id="section-128"></a>
</div>
<p>/&lt; Type of array, if different from the default array type for the
/&lt; template parameter T.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  );

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-129" id="section-129"></a>
</div>
<p>/ Creates a new TypedArray instance over a provided array buffer.
/
/ The array type parameter can normally be omitted (because it is inferred
/ from the template parameter T), except when creating a &quot;clamped&quot; array:
/
/     Uint8Array::New(env, length, buffer, 0, napi_uint8_clamped_array)</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function"><span class="hljs-keyword">static</span> TypedArrayOf <span class="hljs-title">New</span><span class="hljs-params">(
      napi_env env,          <span class="hljs-comment">///&lt; Node-API environment</span>
      <span class="hljs-keyword">size_t</span> elementLength,  <span class="hljs-comment">///&lt; Length of the created array, as a number of</span>
</span></span></pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-130" id="section-130"></a>
</div>
<p>/&lt; elements</p>

        </td>
        <td class="code highlight">
          <pre class="c">      Napi::ArrayBuffer arrayBuffer,  <span class="hljs-comment">///&lt; Backing array buffer instance to use</span>
      <span class="hljs-keyword">size_t</span> bufferOffset,  <span class="hljs-comment">///&lt; Offset into the array buffer where the</span>
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-131" id="section-131"></a>
</div>
<p>/&lt; typed-array starts</p>

        </td>
        <td class="code highlight">
          <pre class="c"><span class="hljs-meta">#<span class="hljs-meta-keyword">if</span> defined(NAPI_HAS_CONSTEXPR)</span>
      napi_typedarray_type type =
          TypedArray::TypedArrayTypeForPrimitiveType&lt;T&gt;()
#<span class="hljs-keyword">else</span>
      napi_typedarray_type type
#endif
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-132" id="section-132"></a>
</div>
<p>/&lt; Type of array, if different from the default array type for the
/&lt; template parameter T.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  );

  <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">CheckCast</span><span class="hljs-params">(napi_env env, napi_value value)</span></span>;

  TypedArrayOf();  <span class="hljs-comment">///&lt; Creates a new _empty_ TypedArrayOf instance.</span>
  TypedArrayOf(napi_env env,
               napi_value value);  <span class="hljs-comment">///&lt; Wraps a Node-API value primitive.</span>

  T&amp; <span class="hljs-keyword">operator</span>[](<span class="hljs-keyword">size_t</span> index);  <span class="hljs-comment">///&lt; Gets or sets an element in the array.</span>
  <span class="hljs-keyword">const</span> T&amp; <span class="hljs-keyword">operator</span>[](<span class="hljs-keyword">size_t</span> index) <span class="hljs-keyword">const</span>;  <span class="hljs-comment">///&lt; Gets an element in the array.</span>

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-133" id="section-133"></a>
</div>
<p>/ Gets a pointer to the array's backing buffer.
/
/ This is not necessarily the same as the <code>ArrayBuffer::Data()</code> pointer,
/ because the typed-array may have a non-zero <code>ByteOffset()</code> into the
/ <code>ArrayBuffer</code>.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function">T* <span class="hljs-title">Data</span><span class="hljs-params">()</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-134" id="section-134"></a>
</div>
<p>/ Gets a pointer to the array's backing buffer.
/
/ This is not necessarily the same as the <code>ArrayBuffer::Data()</code> pointer,
/ because the typed-array may have a non-zero <code>ByteOffset()</code> into the
/ <code>ArrayBuffer</code>.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function"><span class="hljs-keyword">const</span> T* <span class="hljs-title">Data</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;

 <span class="hljs-keyword">private</span>:
  T* _data;

  TypedArrayOf(napi_env env,
               napi_value value,
               napi_typedarray_type type,
               <span class="hljs-keyword">size_t</span> length,
               T* data);
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-135" id="section-135"></a>
</div>
<p>/ The DataView provides a low-level interface for reading/writing multiple
/ number types in an ArrayBuffer irrespective of the platform's endianness.</p>

        </td>
        <td class="code highlight">
          <pre class="c"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DataView</span> :</span> <span class="hljs-keyword">public</span> Object {
 <span class="hljs-keyword">public</span>:
  <span class="hljs-function"><span class="hljs-keyword">static</span> DataView <span class="hljs-title">New</span><span class="hljs-params">(napi_env env, Napi::ArrayBuffer arrayBuffer)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">static</span> DataView <span class="hljs-title">New</span><span class="hljs-params">(napi_env env,
                      Napi::ArrayBuffer arrayBuffer,
                      <span class="hljs-keyword">size_t</span> byteOffset)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">static</span> DataView <span class="hljs-title">New</span><span class="hljs-params">(napi_env env,
                      Napi::ArrayBuffer arrayBuffer,
                      <span class="hljs-keyword">size_t</span> byteOffset,
                      <span class="hljs-keyword">size_t</span> byteLength)</span></span>;

  <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">CheckCast</span><span class="hljs-params">(napi_env env, napi_value value)</span></span>;

  DataView();  <span class="hljs-comment">///&lt; Creates a new _empty_ DataView instance.</span>
  DataView(napi_env env,
           napi_value value);  <span class="hljs-comment">///&lt; Wraps a Node-API value primitive.</span>

  <span class="hljs-function">Napi::ArrayBuffer <span class="hljs-title">ArrayBuffer</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;  <span class="hljs-comment">///&lt; Gets the backing array buffer.</span>
  <span class="hljs-function"><span class="hljs-keyword">size_t</span> <span class="hljs-title">ByteOffset</span><span class="hljs-params">()</span>
      <span class="hljs-keyword">const</span></span>;  <span class="hljs-comment">///&lt; Gets the offset into the buffer where the array starts.</span>
  <span class="hljs-function"><span class="hljs-keyword">size_t</span> <span class="hljs-title">ByteLength</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;  <span class="hljs-comment">///&lt; Gets the length of the array in bytes.</span>

  <span class="hljs-function"><span class="hljs-keyword">void</span>* <span class="hljs-title">Data</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;

  <span class="hljs-function"><span class="hljs-keyword">float</span> <span class="hljs-title">GetFloat32</span><span class="hljs-params">(<span class="hljs-keyword">size_t</span> byteOffset)</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">double</span> <span class="hljs-title">GetFloat64</span><span class="hljs-params">(<span class="hljs-keyword">size_t</span> byteOffset)</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">int8_t</span> <span class="hljs-title">GetInt8</span><span class="hljs-params">(<span class="hljs-keyword">size_t</span> byteOffset)</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">int16_t</span> <span class="hljs-title">GetInt16</span><span class="hljs-params">(<span class="hljs-keyword">size_t</span> byteOffset)</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">int32_t</span> <span class="hljs-title">GetInt32</span><span class="hljs-params">(<span class="hljs-keyword">size_t</span> byteOffset)</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">uint8_t</span> <span class="hljs-title">GetUint8</span><span class="hljs-params">(<span class="hljs-keyword">size_t</span> byteOffset)</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">uint16_t</span> <span class="hljs-title">GetUint16</span><span class="hljs-params">(<span class="hljs-keyword">size_t</span> byteOffset)</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">uint32_t</span> <span class="hljs-title">GetUint32</span><span class="hljs-params">(<span class="hljs-keyword">size_t</span> byteOffset)</span> <span class="hljs-keyword">const</span></span>;

  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">SetFloat32</span><span class="hljs-params">(<span class="hljs-keyword">size_t</span> byteOffset, <span class="hljs-keyword">float</span> value)</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">SetFloat64</span><span class="hljs-params">(<span class="hljs-keyword">size_t</span> byteOffset, <span class="hljs-keyword">double</span> value)</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">SetInt8</span><span class="hljs-params">(<span class="hljs-keyword">size_t</span> byteOffset, <span class="hljs-keyword">int8_t</span> value)</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">SetInt16</span><span class="hljs-params">(<span class="hljs-keyword">size_t</span> byteOffset, <span class="hljs-keyword">int16_t</span> value)</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">SetInt32</span><span class="hljs-params">(<span class="hljs-keyword">size_t</span> byteOffset, <span class="hljs-keyword">int32_t</span> value)</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">SetUint8</span><span class="hljs-params">(<span class="hljs-keyword">size_t</span> byteOffset, <span class="hljs-keyword">uint8_t</span> value)</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">SetUint16</span><span class="hljs-params">(<span class="hljs-keyword">size_t</span> byteOffset, <span class="hljs-keyword">uint16_t</span> value)</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">SetUint32</span><span class="hljs-params">(<span class="hljs-keyword">size_t</span> byteOffset, <span class="hljs-keyword">uint32_t</span> value)</span> <span class="hljs-keyword">const</span></span>;

 <span class="hljs-keyword">private</span>:
  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;
  <span class="hljs-function">T <span class="hljs-title">ReadData</span><span class="hljs-params">(<span class="hljs-keyword">size_t</span> byteOffset)</span> <span class="hljs-keyword">const</span></span>;

  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">WriteData</span><span class="hljs-params">(<span class="hljs-keyword">size_t</span> byteOffset, T value)</span> <span class="hljs-keyword">const</span></span>;

  <span class="hljs-keyword">void</span>* _data{};
  <span class="hljs-keyword">size_t</span> _length{};
};

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Function</span> :</span> <span class="hljs-keyword">public</span> Object {
 <span class="hljs-keyword">public</span>:
  <span class="hljs-keyword">using</span> VoidCallback = <span class="hljs-keyword">void</span> (*)(<span class="hljs-keyword">const</span> CallbackInfo&amp; info);
  <span class="hljs-keyword">using</span> Callback = Value (*)(<span class="hljs-keyword">const</span> CallbackInfo&amp; info);

  <span class="hljs-keyword">template</span> &lt;VoidCallback cb&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> Function <span class="hljs-title">New</span><span class="hljs-params">(napi_env env,
                      <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* utf8name = <span class="hljs-literal">nullptr</span>,
                      <span class="hljs-keyword">void</span>* data = <span class="hljs-literal">nullptr</span>)</span></span>;

  <span class="hljs-keyword">template</span> &lt;Callback cb&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> Function <span class="hljs-title">New</span><span class="hljs-params">(napi_env env,
                      <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* utf8name = <span class="hljs-literal">nullptr</span>,
                      <span class="hljs-keyword">void</span>* data = <span class="hljs-literal">nullptr</span>)</span></span>;

  <span class="hljs-keyword">template</span> &lt;VoidCallback cb&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> Function <span class="hljs-title">New</span><span class="hljs-params">(napi_env env,
                      <span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&amp; utf8name,
                      <span class="hljs-keyword">void</span>* data = <span class="hljs-literal">nullptr</span>)</span></span>;

  <span class="hljs-keyword">template</span> &lt;Callback cb&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> Function <span class="hljs-title">New</span><span class="hljs-params">(napi_env env,
                      <span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&amp; utf8name,
                      <span class="hljs-keyword">void</span>* data = <span class="hljs-literal">nullptr</span>)</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-136" id="section-136"></a>
</div>
<p>/ Callable must implement operator() accepting a const CallbackInfo&amp;
/ and return either void or Value.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> Callable&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> Function <span class="hljs-title">New</span><span class="hljs-params">(napi_env env,
                      Callable cb,
                      <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* utf8name = <span class="hljs-literal">nullptr</span>,
                      <span class="hljs-keyword">void</span>* data = <span class="hljs-literal">nullptr</span>)</span></span>;
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-137" id="section-137"></a>
</div>
<p>/ Callable must implement operator() accepting a const CallbackInfo&amp;
/ and return either void or Value.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> Callable&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> Function <span class="hljs-title">New</span><span class="hljs-params">(napi_env env,
                      Callable cb,
                      <span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&amp; utf8name,
                      <span class="hljs-keyword">void</span>* data = <span class="hljs-literal">nullptr</span>)</span></span>;

  <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">CheckCast</span><span class="hljs-params">(napi_env env, napi_value value)</span></span>;

  Function();
  Function(napi_env env, napi_value value);

  <span class="hljs-function">MaybeOrValue&lt;Value&gt; <span class="hljs-title">operator</span><span class="hljs-params">()</span><span class="hljs-params">(
      <span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">initializer_list</span>&lt;napi_value&gt;&amp; args)</span> <span class="hljs-keyword">const</span></span>;

  <span class="hljs-function">MaybeOrValue&lt;Value&gt; <span class="hljs-title">Call</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">initializer_list</span>&lt;napi_value&gt;&amp; args)</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function">MaybeOrValue&lt;Value&gt; <span class="hljs-title">Call</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">vector</span>&lt;napi_value&gt;&amp; args)</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function">MaybeOrValue&lt;Value&gt; <span class="hljs-title">Call</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">vector</span>&lt;Value&gt;&amp; args)</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function">MaybeOrValue&lt;Value&gt; <span class="hljs-title">Call</span><span class="hljs-params">(<span class="hljs-keyword">size_t</span> argc, <span class="hljs-keyword">const</span> napi_value* args)</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function">MaybeOrValue&lt;Value&gt; <span class="hljs-title">Call</span><span class="hljs-params">(napi_value recv,
                           <span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">initializer_list</span>&lt;napi_value&gt;&amp; args)</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function">MaybeOrValue&lt;Value&gt; <span class="hljs-title">Call</span><span class="hljs-params">(napi_value recv,
                           <span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">vector</span>&lt;napi_value&gt;&amp; args)</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function">MaybeOrValue&lt;Value&gt; <span class="hljs-title">Call</span><span class="hljs-params">(napi_value recv,
                           <span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">vector</span>&lt;Value&gt;&amp; args)</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function">MaybeOrValue&lt;Value&gt; <span class="hljs-title">Call</span><span class="hljs-params">(napi_value recv,
                           <span class="hljs-keyword">size_t</span> argc,
                           <span class="hljs-keyword">const</span> napi_value* args)</span> <span class="hljs-keyword">const</span></span>;

  <span class="hljs-function">MaybeOrValue&lt;Value&gt; <span class="hljs-title">MakeCallback</span><span class="hljs-params">(
      napi_value recv,
      <span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">initializer_list</span>&lt;napi_value&gt;&amp; args,
      napi_async_context context = <span class="hljs-literal">nullptr</span>)</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function">MaybeOrValue&lt;Value&gt; <span class="hljs-title">MakeCallback</span><span class="hljs-params">(napi_value recv,
                                   <span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">vector</span>&lt;napi_value&gt;&amp; args,
                                   napi_async_context context = <span class="hljs-literal">nullptr</span>)</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function">MaybeOrValue&lt;Value&gt; <span class="hljs-title">MakeCallback</span><span class="hljs-params">(napi_value recv,
                                   <span class="hljs-keyword">size_t</span> argc,
                                   <span class="hljs-keyword">const</span> napi_value* args,
                                   napi_async_context context = <span class="hljs-literal">nullptr</span>)</span> <span class="hljs-keyword">const</span></span>;

  <span class="hljs-function">MaybeOrValue&lt;Object&gt; <span class="hljs-title">New</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">initializer_list</span>&lt;napi_value&gt;&amp; args)</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function">MaybeOrValue&lt;Object&gt; <span class="hljs-title">New</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">vector</span>&lt;napi_value&gt;&amp; args)</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function">MaybeOrValue&lt;Object&gt; <span class="hljs-title">New</span><span class="hljs-params">(<span class="hljs-keyword">size_t</span> argc, <span class="hljs-keyword">const</span> napi_value* args)</span> <span class="hljs-keyword">const</span></span>;
};

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Promise</span> :</span> <span class="hljs-keyword">public</span> Object {
 <span class="hljs-keyword">public</span>:
  <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Deferred</span> {</span>
   <span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">static</span> Deferred <span class="hljs-title">New</span><span class="hljs-params">(napi_env env)</span></span>;
    Deferred(napi_env env);

    <span class="hljs-function">Napi::Promise <span class="hljs-title">Promise</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;
    <span class="hljs-function">Napi::Env <span class="hljs-title">Env</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;

    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Resolve</span><span class="hljs-params">(napi_value value)</span> <span class="hljs-keyword">const</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Reject</span><span class="hljs-params">(napi_value value)</span> <span class="hljs-keyword">const</span></span>;

   <span class="hljs-keyword">private</span>:
    napi_env _env;
    napi_deferred _deferred;
    napi_value _promise;
  };

  <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">CheckCast</span><span class="hljs-params">(napi_env env, napi_value value)</span></span>;

  Promise(napi_env env, napi_value value);
};

<span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Buffer</span> :</span> <span class="hljs-keyword">public</span> Uint8Array {
 <span class="hljs-keyword">public</span>:
  <span class="hljs-function"><span class="hljs-keyword">static</span> Buffer&lt;T&gt; <span class="hljs-title">New</span><span class="hljs-params">(napi_env env, <span class="hljs-keyword">size_t</span> length)</span></span>;
<span class="hljs-meta">#<span class="hljs-meta-keyword">ifndef</span> NODE_API_NO_EXTERNAL_BUFFERS_ALLOWED</span>
  <span class="hljs-function"><span class="hljs-keyword">static</span> Buffer&lt;T&gt; <span class="hljs-title">New</span><span class="hljs-params">(napi_env env, T* data, <span class="hljs-keyword">size_t</span> length)</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-138" id="section-138"></a>
</div>
<p>Finalizer must implement <code>void operator()(Env env, T* data)</code>.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> Finalizer&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> Buffer&lt;T&gt; <span class="hljs-title">New</span><span class="hljs-params">(napi_env env,
                       T* data,
                       <span class="hljs-keyword">size_t</span> length,
                       Finalizer finalizeCallback)</span></span>;
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-139" id="section-139"></a>
</div>
<p>Finalizer must implement <code>void operator()(Env env, T* data, Hint* hint)</code>.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> Finalizer, <span class="hljs-keyword">typename</span> Hint&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> Buffer&lt;T&gt; <span class="hljs-title">New</span><span class="hljs-params">(napi_env env,
                       T* data,
                       <span class="hljs-keyword">size_t</span> length,
                       Finalizer finalizeCallback,
                       Hint* finalizeHint)</span></span>;
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span>  <span class="hljs-comment">// NODE_API_NO_EXTERNAL_BUFFERS_ALLOWED</span></span>

  <span class="hljs-function"><span class="hljs-keyword">static</span> Buffer&lt;T&gt; <span class="hljs-title">NewOrCopy</span><span class="hljs-params">(napi_env env, T* data, <span class="hljs-keyword">size_t</span> length)</span></span>;
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-140" id="section-140"></a>
</div>
<p>Finalizer must implement <code>void operator()(Env env, T* data)</code>.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> Finalizer&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> Buffer&lt;T&gt; <span class="hljs-title">NewOrCopy</span><span class="hljs-params">(napi_env env,
                             T* data,
                             <span class="hljs-keyword">size_t</span> length,
                             Finalizer finalizeCallback)</span></span>;
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-141" id="section-141"></a>
</div>
<p>Finalizer must implement <code>void operator()(Env env, T* data, Hint* hint)</code>.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> Finalizer, <span class="hljs-keyword">typename</span> Hint&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> Buffer&lt;T&gt; <span class="hljs-title">NewOrCopy</span><span class="hljs-params">(napi_env env,
                             T* data,
                             <span class="hljs-keyword">size_t</span> length,
                             Finalizer finalizeCallback,
                             Hint* finalizeHint)</span></span>;

  <span class="hljs-function"><span class="hljs-keyword">static</span> Buffer&lt;T&gt; <span class="hljs-title">Copy</span><span class="hljs-params">(napi_env env, <span class="hljs-keyword">const</span> T* data, <span class="hljs-keyword">size_t</span> length)</span></span>;

  <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">CheckCast</span><span class="hljs-params">(napi_env env, napi_value value)</span></span>;

  Buffer();
  Buffer(napi_env env, napi_value value);
  <span class="hljs-function"><span class="hljs-keyword">size_t</span> <span class="hljs-title">Length</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function">T* <span class="hljs-title">Data</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;

 <span class="hljs-keyword">private</span>:
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-142" id="section-142"></a>
</div>
<p>/ Holds a counted reference to a value; initially a weak reference unless
/ otherwise specified, may be changed to/from a strong reference by adjusting
/ the refcount.
/
/ The referenced value is not immediately destroyed when the reference count
/ is zero; it is merely then eligible for garbage-collection if there are no
/ other references to the value.</p>

        </td>
        <td class="code highlight">
          <pre class="c"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Reference</span> {</span>
 <span class="hljs-keyword">public</span>:
  <span class="hljs-function"><span class="hljs-keyword">static</span> Reference&lt;T&gt; <span class="hljs-title">New</span><span class="hljs-params">(<span class="hljs-keyword">const</span> T&amp; value, <span class="hljs-keyword">uint32_t</span> initialRefcount = <span class="hljs-number">0</span>)</span></span>;

  Reference();
  Reference(napi_env env, napi_ref ref);
  ~Reference();

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-143" id="section-143"></a>
</div>
<p>A reference can be moved but cannot be copied.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  Reference(Reference&lt;T&gt;&amp;&amp; other);
  Reference&lt;T&gt;&amp; <span class="hljs-keyword">operator</span>=(Reference&lt;T&gt;&amp;&amp; other);
  NAPI_DISALLOW_ASSIGN(Reference&lt;T&gt;)

  <span class="hljs-function"><span class="hljs-keyword">operator</span> <span class="hljs-title">napi_ref</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span>==(<span class="hljs-keyword">const</span> Reference&lt;T&gt;&amp; other) <span class="hljs-keyword">const</span>;
  <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span>!=(<span class="hljs-keyword">const</span> Reference&lt;T&gt;&amp; other) <span class="hljs-keyword">const</span>;

  <span class="hljs-function">Napi::Env <span class="hljs-title">Env</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">IsEmpty</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-144" id="section-144"></a>
</div>
<p>Note when getting the value of a Reference it is usually correct to do so
within a HandleScope so that the value handle gets cleaned up efficiently.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function">T <span class="hljs-title">Value</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;

  <span class="hljs-function"><span class="hljs-keyword">uint32_t</span> <span class="hljs-title">Ref</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">uint32_t</span> <span class="hljs-title">Unref</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Reset</span><span class="hljs-params">()</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Reset</span><span class="hljs-params">(<span class="hljs-keyword">const</span> T&amp; value, <span class="hljs-keyword">uint32_t</span> refcount = <span class="hljs-number">0</span>)</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-145" id="section-145"></a>
</div>
<p>Call this on a reference that is declared as static data, to prevent its
destructor from running at program shutdown time, which would attempt to
reset the reference when the environment is no longer valid. Avoid using
this if at all possible. If you do need to use static data, MAKE SURE to
warn your users that your addon is NOT threadsafe.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">SuppressDestruct</span><span class="hljs-params">()</span></span>;

 <span class="hljs-keyword">protected</span>:
  Reference(<span class="hljs-keyword">const</span> Reference&lt;T&gt;&amp;);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-146" id="section-146"></a>
</div>
<p>/ !cond INTERNAL</p>

        </td>
        <td class="code highlight">
          <pre class="c">  napi_env _env;
  napi_ref _ref;
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-147" id="section-147"></a>
</div>
<p>/ !endcond</p>

        </td>
        <td class="code highlight">
          <pre class="c">
 <span class="hljs-keyword">private</span>:
  <span class="hljs-keyword">bool</span> _suppressDestruct;
};

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ObjectReference</span> :</span> <span class="hljs-keyword">public</span> Reference&lt;Object&gt; {
 <span class="hljs-keyword">public</span>:
  ObjectReference();
  ObjectReference(napi_env env, napi_ref ref);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-148" id="section-148"></a>
</div>
<p>A reference can be moved but cannot be copied.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  ObjectReference(Reference&lt;Object&gt;&amp;&amp; other);
  ObjectReference&amp; <span class="hljs-keyword">operator</span>=(Reference&lt;Object&gt;&amp;&amp; other);
  ObjectReference(ObjectReference&amp;&amp; other);
  ObjectReference&amp; <span class="hljs-keyword">operator</span>=(ObjectReference&amp;&amp; other);
  NAPI_DISALLOW_ASSIGN(ObjectReference)

  <span class="hljs-function">MaybeOrValue&lt;Napi::Value&gt; <span class="hljs-title">Get</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* utf8name)</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function">MaybeOrValue&lt;Napi::Value&gt; <span class="hljs-title">Get</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&amp; utf8name)</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function">MaybeOrValue&lt;<span class="hljs-keyword">bool</span>&gt; <span class="hljs-title">Set</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* utf8name, napi_value value)</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function">MaybeOrValue&lt;<span class="hljs-keyword">bool</span>&gt; <span class="hljs-title">Set</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* utf8name, Napi::Value value)</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function">MaybeOrValue&lt;<span class="hljs-keyword">bool</span>&gt; <span class="hljs-title">Set</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* utf8name, <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* utf8value)</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function">MaybeOrValue&lt;<span class="hljs-keyword">bool</span>&gt; <span class="hljs-title">Set</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* utf8name, <span class="hljs-keyword">bool</span> boolValue)</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function">MaybeOrValue&lt;<span class="hljs-keyword">bool</span>&gt; <span class="hljs-title">Set</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* utf8name, <span class="hljs-keyword">double</span> numberValue)</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function">MaybeOrValue&lt;<span class="hljs-keyword">bool</span>&gt; <span class="hljs-title">Set</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&amp; utf8name, napi_value value)</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function">MaybeOrValue&lt;<span class="hljs-keyword">bool</span>&gt; <span class="hljs-title">Set</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&amp; utf8name, Napi::Value value)</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function">MaybeOrValue&lt;<span class="hljs-keyword">bool</span>&gt; <span class="hljs-title">Set</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&amp; utf8name,
                         <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&amp; utf8value)</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function">MaybeOrValue&lt;<span class="hljs-keyword">bool</span>&gt; <span class="hljs-title">Set</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&amp; utf8name, <span class="hljs-keyword">bool</span> boolValue)</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function">MaybeOrValue&lt;<span class="hljs-keyword">bool</span>&gt; <span class="hljs-title">Set</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&amp; utf8name, <span class="hljs-keyword">double</span> numberValue)</span> <span class="hljs-keyword">const</span></span>;

  <span class="hljs-function">MaybeOrValue&lt;Napi::Value&gt; <span class="hljs-title">Get</span><span class="hljs-params">(<span class="hljs-keyword">uint32_t</span> index)</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function">MaybeOrValue&lt;<span class="hljs-keyword">bool</span>&gt; <span class="hljs-title">Set</span><span class="hljs-params">(<span class="hljs-keyword">uint32_t</span> index, <span class="hljs-keyword">const</span> napi_value value)</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function">MaybeOrValue&lt;<span class="hljs-keyword">bool</span>&gt; <span class="hljs-title">Set</span><span class="hljs-params">(<span class="hljs-keyword">uint32_t</span> index, <span class="hljs-keyword">const</span> Napi::Value value)</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function">MaybeOrValue&lt;<span class="hljs-keyword">bool</span>&gt; <span class="hljs-title">Set</span><span class="hljs-params">(<span class="hljs-keyword">uint32_t</span> index, <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* utf8value)</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function">MaybeOrValue&lt;<span class="hljs-keyword">bool</span>&gt; <span class="hljs-title">Set</span><span class="hljs-params">(<span class="hljs-keyword">uint32_t</span> index, <span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&amp; utf8value)</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function">MaybeOrValue&lt;<span class="hljs-keyword">bool</span>&gt; <span class="hljs-title">Set</span><span class="hljs-params">(<span class="hljs-keyword">uint32_t</span> index, <span class="hljs-keyword">bool</span> boolValue)</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function">MaybeOrValue&lt;<span class="hljs-keyword">bool</span>&gt; <span class="hljs-title">Set</span><span class="hljs-params">(<span class="hljs-keyword">uint32_t</span> index, <span class="hljs-keyword">double</span> numberValue)</span> <span class="hljs-keyword">const</span></span>;

 <span class="hljs-keyword">protected</span>:
  ObjectReference(<span class="hljs-keyword">const</span> ObjectReference&amp;);
};

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FunctionReference</span> :</span> <span class="hljs-keyword">public</span> Reference&lt;Function&gt; {
 <span class="hljs-keyword">public</span>:
  FunctionReference();
  FunctionReference(napi_env env, napi_ref ref);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-149" id="section-149"></a>
</div>
<p>A reference can be moved but cannot be copied.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  FunctionReference(Reference&lt;Function&gt;&amp;&amp; other);
  FunctionReference&amp; <span class="hljs-keyword">operator</span>=(Reference&lt;Function&gt;&amp;&amp; other);
  FunctionReference(FunctionReference&amp;&amp; other);
  FunctionReference&amp; <span class="hljs-keyword">operator</span>=(FunctionReference&amp;&amp; other);
  NAPI_DISALLOW_ASSIGN_COPY(FunctionReference)

  <span class="hljs-function">MaybeOrValue&lt;Napi::Value&gt; <span class="hljs-title">operator</span><span class="hljs-params">()</span><span class="hljs-params">(
      <span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">initializer_list</span>&lt;napi_value&gt;&amp; args)</span> <span class="hljs-keyword">const</span></span>;

  <span class="hljs-function">MaybeOrValue&lt;Napi::Value&gt; <span class="hljs-title">Call</span><span class="hljs-params">(
      <span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">initializer_list</span>&lt;napi_value&gt;&amp; args)</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function">MaybeOrValue&lt;Napi::Value&gt; <span class="hljs-title">Call</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">vector</span>&lt;napi_value&gt;&amp; args)</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function">MaybeOrValue&lt;Napi::Value&gt; <span class="hljs-title">Call</span><span class="hljs-params">(
      napi_value recv, <span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">initializer_list</span>&lt;napi_value&gt;&amp; args)</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function">MaybeOrValue&lt;Napi::Value&gt; <span class="hljs-title">Call</span><span class="hljs-params">(napi_value recv,
                                 <span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">vector</span>&lt;napi_value&gt;&amp; args)</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function">MaybeOrValue&lt;Napi::Value&gt; <span class="hljs-title">Call</span><span class="hljs-params">(napi_value recv,
                                 <span class="hljs-keyword">size_t</span> argc,
                                 <span class="hljs-keyword">const</span> napi_value* args)</span> <span class="hljs-keyword">const</span></span>;

  <span class="hljs-function">MaybeOrValue&lt;Napi::Value&gt; <span class="hljs-title">MakeCallback</span><span class="hljs-params">(
      napi_value recv,
      <span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">initializer_list</span>&lt;napi_value&gt;&amp; args,
      napi_async_context context = <span class="hljs-literal">nullptr</span>)</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function">MaybeOrValue&lt;Napi::Value&gt; <span class="hljs-title">MakeCallback</span><span class="hljs-params">(
      napi_value recv,
      <span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">vector</span>&lt;napi_value&gt;&amp; args,
      napi_async_context context = <span class="hljs-literal">nullptr</span>)</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function">MaybeOrValue&lt;Napi::Value&gt; <span class="hljs-title">MakeCallback</span><span class="hljs-params">(
      napi_value recv,
      <span class="hljs-keyword">size_t</span> argc,
      <span class="hljs-keyword">const</span> napi_value* args,
      napi_async_context context = <span class="hljs-literal">nullptr</span>)</span> <span class="hljs-keyword">const</span></span>;

  <span class="hljs-function">MaybeOrValue&lt;Object&gt; <span class="hljs-title">New</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">initializer_list</span>&lt;napi_value&gt;&amp; args)</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function">MaybeOrValue&lt;Object&gt; <span class="hljs-title">New</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">vector</span>&lt;napi_value&gt;&amp; args)</span> <span class="hljs-keyword">const</span></span>;
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-150" id="section-150"></a>
</div>
<p>Shortcuts to creating a new reference with inferred type and refcount = 0.</p>

        </td>
        <td class="code highlight">
          <pre class="c"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-function">Reference&lt;T&gt; <span class="hljs-title">Weak</span><span class="hljs-params">(T value)</span></span>;
<span class="hljs-function">ObjectReference <span class="hljs-title">Weak</span><span class="hljs-params">(Object value)</span></span>;
<span class="hljs-function">FunctionReference <span class="hljs-title">Weak</span><span class="hljs-params">(Function value)</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-151" id="section-151"></a>
</div>
<p>Shortcuts to creating a new reference with inferred type and refcount = 1.</p>

        </td>
        <td class="code highlight">
          <pre class="c"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-function">Reference&lt;T&gt; <span class="hljs-title">Persistent</span><span class="hljs-params">(T value)</span></span>;
<span class="hljs-function">ObjectReference <span class="hljs-title">Persistent</span><span class="hljs-params">(Object value)</span></span>;
<span class="hljs-function">FunctionReference <span class="hljs-title">Persistent</span><span class="hljs-params">(Function value)</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-152" id="section-152"></a>
</div>
<p>/ A persistent reference to a JavaScript error object. Use of this class
/ depends somewhat on whether C++ exceptions are enabled at compile time.
/
/ ### Handling Errors With C++ Exceptions
/
/ If C++ exceptions are enabled, then the <code>Error</code> class extends
/ <code>std::exception</code> and enables integrated error-handling for C++ exceptions
/ and JavaScript exceptions.
/
/ If a Node-API call fails without executing any JavaScript code (for
/ example due to an invalid argument), then the Node-API wrapper
/ automatically converts and throws the error as a C++ exception of type
/ <code>Napi::Error</code>. Or if a JavaScript function called by C++ code via Node-API
/ throws a JavaScript exception, then the Node-API wrapper automatically
/ converts and throws it as a C++ exception of type <code>Napi::Error</code>.
/
/ If a C++ exception of type <code>Napi::Error</code> escapes from a Node-API C++
/ callback, then the Node-API wrapper automatically converts and throws it
/ as a JavaScript exception. Therefore, catching a C++ exception of type
/ <code>Napi::Error</code> prevents a JavaScript exception from being thrown.
/
/ #### Example 1A - Throwing a C++ exception:
/
/     Napi::Env env = ...
/     throw Napi::Error::New(env, &quot;Example exception&quot;);
/
/ Following C++ statements will not be executed. The exception will bubble
/ up as a C++ exception of type <code>Napi::Error</code>, until it is either caught
/ while still in C++, or else automatically propagated as a JavaScript
/ exception when the callback returns to JavaScript.
/
/ #### Example 2A - Propagating a Node-API C++ exception:
/
/     Napi::Function jsFunctionThatThrows = someObj.As<a href="Napi::Function.html">Napi::Function</a>();
/     Napi::Value result = jsFunctionThatThrows({ arg1, arg2 });
/
/ Following C++ statements will not be executed. The exception will bubble
/ up as a C++ exception of type <code>Napi::Error</code>, until it is either caught
/ while still in C++, or else automatically propagated as a JavaScript
/ exception when the callback returns to JavaScript.
/
/ #### Example 3A - Handling a Node-API C++ exception:
/
/     Napi::Function jsFunctionThatThrows = someObj.As<a href="Napi::Function.html">Napi::Function</a>();
/     Napi::Value result;
/     try {
/        result = jsFunctionThatThrows({ arg1, arg2 });
/     } catch (const Napi::Error&amp; e) {
/       cerr &lt;&lt; &quot;Caught JavaScript exception: &quot; + e.what();
/     }
/
/ Since the exception was caught here, it will not be propagated as a
/ JavaScript exception.
/
/ ### Handling Errors Without C++ Exceptions
/
/ If C++ exceptions are disabled (by defining <code>NAPI_DISABLE_CPP_EXCEPTIONS</code>)
/ then this class does not extend <code>std::exception</code>, and APIs in the <code>Napi</code>
/ namespace do not throw C++ exceptions when they fail. Instead, they raise
/ <em>pending</em> JavaScript exceptions and return <em>empty</em> <code>Value</code>s. Calling code
/ should check <code>Value::IsEmpty()</code> before attempting to use a returned value,
/ and may use methods on the <code>Env</code> class to check for, get, and clear a
/ pending JavaScript exception. If the pending exception is not cleared, it
/ will be thrown when the native callback returns to JavaScript.
/
/ #### Example 1B - Throwing a JS exception
/
/     Napi::Env env = ...
/     Napi::Error::New(env, &quot;Example
/     exception&quot;).ThrowAsJavaScriptException(); return;
/
/ After throwing a JS exception, the code should generally return
/ immediately from the native callback, after performing any necessary
/ cleanup.
/
/ #### Example 2B - Propagating a Node-API JS exception:
/
/     Napi::Function jsFunctionThatThrows = someObj.As<a href="Napi::Function.html">Napi::Function</a>();
/     Napi::Value result = jsFunctionThatThrows({ arg1, arg2 });
/     if (result.IsEmpty()) return;
/
/ An empty value result from a Node-API call indicates an error occurred,
/ and a JavaScript exception is pending. To let the exception propagate, the
/ code should generally return immediately from the native callback, after
/ performing any necessary cleanup.
/
/ #### Example 3B - Handling a Node-API JS exception:
/
/     Napi::Function jsFunctionThatThrows = someObj.As<a href="Napi::Function.html">Napi::Function</a>();
/     Napi::Value result = jsFunctionThatThrows({ arg1, arg2 });
/     if (result.IsEmpty()) {
/       Napi::Error e = env.GetAndClearPendingException();
/       cerr &lt;&lt; &quot;Caught JavaScript exception: &quot; + e.Message();
/     }
/
/ Since the exception was cleared here, it will not be propagated as a
/ JavaScript exception after the native callback returns.</p>

        </td>
        <td class="code highlight">
          <pre class="c"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Error</span> :</span> <span class="hljs-keyword">public</span> ObjectReference
<span class="hljs-meta">#<span class="hljs-meta-keyword">ifdef</span> NAPI_CPP_EXCEPTIONS</span>
    ,
              <span class="hljs-keyword">public</span> <span class="hljs-built_in">std</span>::exception
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span>  <span class="hljs-comment">// NAPI_CPP_EXCEPTIONS</span></span>
{
 <span class="hljs-keyword">public</span>:
  <span class="hljs-function"><span class="hljs-keyword">static</span> Error <span class="hljs-title">New</span><span class="hljs-params">(napi_env env)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">static</span> Error <span class="hljs-title">New</span><span class="hljs-params">(napi_env env, <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* message)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">static</span> Error <span class="hljs-title">New</span><span class="hljs-params">(napi_env env, <span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&amp; message)</span></span>;

  <span class="hljs-function"><span class="hljs-keyword">static</span> NAPI_NO_RETURN <span class="hljs-keyword">void</span> <span class="hljs-title">Fatal</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* location, <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* message)</span></span>;

  Error();
  Error(napi_env env, napi_value value);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-153" id="section-153"></a>
</div>
<p>An error can be moved or copied.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  Error(Error&amp;&amp; other);
  Error&amp; <span class="hljs-keyword">operator</span>=(Error&amp;&amp; other);
  Error(<span class="hljs-keyword">const</span> Error&amp;);
  Error&amp; <span class="hljs-keyword">operator</span>=(<span class="hljs-keyword">const</span> Error&amp;);

  <span class="hljs-function"><span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&amp; <span class="hljs-title">Message</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span> NAPI_NOEXCEPT</span>;
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">ThrowAsJavaScriptException</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;

  <span class="hljs-function">Object <span class="hljs-title">Value</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;

<span class="hljs-meta">#<span class="hljs-meta-keyword">ifdef</span> NAPI_CPP_EXCEPTIONS</span>
  <span class="hljs-function"><span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* <span class="hljs-title">what</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span> NAPI_NOEXCEPT <span class="hljs-keyword">override</span></span>;
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span>  <span class="hljs-comment">// NAPI_CPP_EXCEPTIONS</span></span>

 <span class="hljs-keyword">protected</span>:
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-154" id="section-154"></a>
</div>
<p>/ !cond INTERNAL</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-keyword">using</span> create_error_fn = napi_status (*)(napi_env envb,
                                          napi_value code,
                                          napi_value msg,
                                          napi_value* result);

  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> TError&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> TError <span class="hljs-title">New</span><span class="hljs-params">(napi_env env,
                    <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* message,
                    <span class="hljs-keyword">size_t</span> length,
                    create_error_fn create_error)</span></span>;
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-155" id="section-155"></a>
</div>
<p>/ !endcond</p>

        </td>
        <td class="code highlight">
          <pre class="c">
 <span class="hljs-keyword">private</span>:
  <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">inline</span> <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* <span class="hljs-title">ERROR_WRAP_VALUE</span><span class="hljs-params">()</span> NAPI_NOEXCEPT</span>;
  <span class="hljs-keyword">mutable</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> _message;
};

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TypeError</span> :</span> <span class="hljs-keyword">public</span> Error {
 <span class="hljs-keyword">public</span>:
  <span class="hljs-function"><span class="hljs-keyword">static</span> TypeError <span class="hljs-title">New</span><span class="hljs-params">(napi_env env, <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* message)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">static</span> TypeError <span class="hljs-title">New</span><span class="hljs-params">(napi_env env, <span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&amp; message)</span></span>;

  TypeError();
  TypeError(napi_env env, napi_value value);
};

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RangeError</span> :</span> <span class="hljs-keyword">public</span> Error {
 <span class="hljs-keyword">public</span>:
  <span class="hljs-function"><span class="hljs-keyword">static</span> RangeError <span class="hljs-title">New</span><span class="hljs-params">(napi_env env, <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* message)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">static</span> RangeError <span class="hljs-title">New</span><span class="hljs-params">(napi_env env, <span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&amp; message)</span></span>;

  RangeError();
  RangeError(napi_env env, napi_value value);
};

<span class="hljs-meta">#<span class="hljs-meta-keyword">if</span> NAPI_VERSION &gt; 8</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SyntaxError</span> :</span> <span class="hljs-keyword">public</span> Error {
 <span class="hljs-keyword">public</span>:
  <span class="hljs-function"><span class="hljs-keyword">static</span> SyntaxError <span class="hljs-title">New</span><span class="hljs-params">(napi_env env, <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* message)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">static</span> SyntaxError <span class="hljs-title">New</span><span class="hljs-params">(napi_env env, <span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&amp; message)</span></span>;

  SyntaxError();
  SyntaxError(napi_env env, napi_value value);
};
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span>  <span class="hljs-comment">// NAPI_VERSION &gt; 8</span></span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CallbackInfo</span> {</span>
 <span class="hljs-keyword">public</span>:
  CallbackInfo(napi_env env, napi_callback_info info);
  ~CallbackInfo();

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-156" id="section-156"></a>
</div>
<p>Disallow copying to prevent multiple free of _dynamicArgs</p>

        </td>
        <td class="code highlight">
          <pre class="c">  NAPI_DISALLOW_ASSIGN_COPY(CallbackInfo)

  <span class="hljs-function">Napi::Env <span class="hljs-title">Env</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function">Value <span class="hljs-title">NewTarget</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">IsConstructCall</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">size_t</span> <span class="hljs-title">Length</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-keyword">const</span> Value <span class="hljs-keyword">operator</span>[](<span class="hljs-keyword">size_t</span> index) <span class="hljs-keyword">const</span>;
  <span class="hljs-function">Value <span class="hljs-title">This</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">void</span>* <span class="hljs-title">Data</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">SetData</span><span class="hljs-params">(<span class="hljs-keyword">void</span>* data)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-keyword">operator</span> <span class="hljs-title">napi_callback_info</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;

 <span class="hljs-keyword">private</span>:
  <span class="hljs-keyword">const</span> <span class="hljs-keyword">size_t</span> _staticArgCount = <span class="hljs-number">6</span>;
  napi_env _env;
  napi_callback_info _info;
  napi_value _this;
  <span class="hljs-keyword">size_t</span> _argc;
  napi_value* _argv;
  napi_value _staticArgs[<span class="hljs-number">6</span>]{};
  napi_value* _dynamicArgs;
  <span class="hljs-keyword">void</span>* _data;
};

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PropertyDescriptor</span> {</span>
 <span class="hljs-keyword">public</span>:
  <span class="hljs-keyword">using</span> GetterCallback = Napi::Value (*)(<span class="hljs-keyword">const</span> Napi::CallbackInfo&amp; info);
  <span class="hljs-keyword">using</span> SetterCallback = <span class="hljs-keyword">void</span> (*)(<span class="hljs-keyword">const</span> Napi::CallbackInfo&amp; info);

<span class="hljs-meta">#<span class="hljs-meta-keyword">ifndef</span> NODE_ADDON_API_DISABLE_DEPRECATED</span>
  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> Getter&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> PropertyDescriptor <span class="hljs-title">Accessor</span><span class="hljs-params">(
      <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* utf8name,
      Getter getter,
      napi_property_attributes attributes = napi_default,
      <span class="hljs-keyword">void</span>* data = <span class="hljs-literal">nullptr</span>)</span></span>;
  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> Getter&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> PropertyDescriptor <span class="hljs-title">Accessor</span><span class="hljs-params">(
      <span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&amp; utf8name,
      Getter getter,
      napi_property_attributes attributes = napi_default,
      <span class="hljs-keyword">void</span>* data = <span class="hljs-literal">nullptr</span>)</span></span>;
  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> Getter&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> PropertyDescriptor <span class="hljs-title">Accessor</span><span class="hljs-params">(
      napi_value name,
      Getter getter,
      napi_property_attributes attributes = napi_default,
      <span class="hljs-keyword">void</span>* data = <span class="hljs-literal">nullptr</span>)</span></span>;
  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> Getter&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> PropertyDescriptor <span class="hljs-title">Accessor</span><span class="hljs-params">(
      Name name,
      Getter getter,
      napi_property_attributes attributes = napi_default,
      <span class="hljs-keyword">void</span>* data = <span class="hljs-literal">nullptr</span>)</span></span>;
  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> Getter, <span class="hljs-keyword">typename</span> Setter&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> PropertyDescriptor <span class="hljs-title">Accessor</span><span class="hljs-params">(
      <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* utf8name,
      Getter getter,
      Setter setter,
      napi_property_attributes attributes = napi_default,
      <span class="hljs-keyword">void</span>* data = <span class="hljs-literal">nullptr</span>)</span></span>;
  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> Getter, <span class="hljs-keyword">typename</span> Setter&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> PropertyDescriptor <span class="hljs-title">Accessor</span><span class="hljs-params">(
      <span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&amp; utf8name,
      Getter getter,
      Setter setter,
      napi_property_attributes attributes = napi_default,
      <span class="hljs-keyword">void</span>* data = <span class="hljs-literal">nullptr</span>)</span></span>;
  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> Getter, <span class="hljs-keyword">typename</span> Setter&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> PropertyDescriptor <span class="hljs-title">Accessor</span><span class="hljs-params">(
      napi_value name,
      Getter getter,
      Setter setter,
      napi_property_attributes attributes = napi_default,
      <span class="hljs-keyword">void</span>* data = <span class="hljs-literal">nullptr</span>)</span></span>;
  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> Getter, <span class="hljs-keyword">typename</span> Setter&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> PropertyDescriptor <span class="hljs-title">Accessor</span><span class="hljs-params">(
      Name name,
      Getter getter,
      Setter setter,
      napi_property_attributes attributes = napi_default,
      <span class="hljs-keyword">void</span>* data = <span class="hljs-literal">nullptr</span>)</span></span>;
  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> Callable&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> PropertyDescriptor <span class="hljs-title">Function</span><span class="hljs-params">(
      <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* utf8name,
      Callable cb,
      napi_property_attributes attributes = napi_default,
      <span class="hljs-keyword">void</span>* data = <span class="hljs-literal">nullptr</span>)</span></span>;
  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> Callable&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> PropertyDescriptor <span class="hljs-title">Function</span><span class="hljs-params">(
      <span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&amp; utf8name,
      Callable cb,
      napi_property_attributes attributes = napi_default,
      <span class="hljs-keyword">void</span>* data = <span class="hljs-literal">nullptr</span>)</span></span>;
  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> Callable&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> PropertyDescriptor <span class="hljs-title">Function</span><span class="hljs-params">(
      napi_value name,
      Callable cb,
      napi_property_attributes attributes = napi_default,
      <span class="hljs-keyword">void</span>* data = <span class="hljs-literal">nullptr</span>)</span></span>;
  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> Callable&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> PropertyDescriptor <span class="hljs-title">Function</span><span class="hljs-params">(
      Name name,
      Callable cb,
      napi_property_attributes attributes = napi_default,
      <span class="hljs-keyword">void</span>* data = <span class="hljs-literal">nullptr</span>)</span></span>;
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span>  <span class="hljs-comment">// !NODE_ADDON_API_DISABLE_DEPRECATED</span></span>

  <span class="hljs-keyword">template</span> &lt;GetterCallback Getter&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> PropertyDescriptor <span class="hljs-title">Accessor</span><span class="hljs-params">(
      <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* utf8name,
      napi_property_attributes attributes = napi_default,
      <span class="hljs-keyword">void</span>* data = <span class="hljs-literal">nullptr</span>)</span></span>;

  <span class="hljs-keyword">template</span> &lt;GetterCallback Getter&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> PropertyDescriptor <span class="hljs-title">Accessor</span><span class="hljs-params">(
      <span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&amp; utf8name,
      napi_property_attributes attributes = napi_default,
      <span class="hljs-keyword">void</span>* data = <span class="hljs-literal">nullptr</span>)</span></span>;

  <span class="hljs-keyword">template</span> &lt;GetterCallback Getter&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> PropertyDescriptor <span class="hljs-title">Accessor</span><span class="hljs-params">(
      Name name,
      napi_property_attributes attributes = napi_default,
      <span class="hljs-keyword">void</span>* data = <span class="hljs-literal">nullptr</span>)</span></span>;

  <span class="hljs-keyword">template</span> &lt;GetterCallback Getter, SetterCallback Setter&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> PropertyDescriptor <span class="hljs-title">Accessor</span><span class="hljs-params">(
      <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* utf8name,
      napi_property_attributes attributes = napi_default,
      <span class="hljs-keyword">void</span>* data = <span class="hljs-literal">nullptr</span>)</span></span>;

  <span class="hljs-keyword">template</span> &lt;GetterCallback Getter, SetterCallback Setter&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> PropertyDescriptor <span class="hljs-title">Accessor</span><span class="hljs-params">(
      <span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&amp; utf8name,
      napi_property_attributes attributes = napi_default,
      <span class="hljs-keyword">void</span>* data = <span class="hljs-literal">nullptr</span>)</span></span>;

  <span class="hljs-keyword">template</span> &lt;GetterCallback Getter, SetterCallback Setter&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> PropertyDescriptor <span class="hljs-title">Accessor</span><span class="hljs-params">(
      Name name,
      napi_property_attributes attributes = napi_default,
      <span class="hljs-keyword">void</span>* data = <span class="hljs-literal">nullptr</span>)</span></span>;

  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> Getter&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> PropertyDescriptor <span class="hljs-title">Accessor</span><span class="hljs-params">(
      Napi::Env env,
      Napi::Object object,
      <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* utf8name,
      Getter getter,
      napi_property_attributes attributes = napi_default,
      <span class="hljs-keyword">void</span>* data = <span class="hljs-literal">nullptr</span>)</span></span>;
  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> Getter&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> PropertyDescriptor <span class="hljs-title">Accessor</span><span class="hljs-params">(
      Napi::Env env,
      Napi::Object object,
      <span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&amp; utf8name,
      Getter getter,
      napi_property_attributes attributes = napi_default,
      <span class="hljs-keyword">void</span>* data = <span class="hljs-literal">nullptr</span>)</span></span>;
  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> Getter&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> PropertyDescriptor <span class="hljs-title">Accessor</span><span class="hljs-params">(
      Napi::Env env,
      Napi::Object object,
      Name name,
      Getter getter,
      napi_property_attributes attributes = napi_default,
      <span class="hljs-keyword">void</span>* data = <span class="hljs-literal">nullptr</span>)</span></span>;
  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> Getter, <span class="hljs-keyword">typename</span> Setter&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> PropertyDescriptor <span class="hljs-title">Accessor</span><span class="hljs-params">(
      Napi::Env env,
      Napi::Object object,
      <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* utf8name,
      Getter getter,
      Setter setter,
      napi_property_attributes attributes = napi_default,
      <span class="hljs-keyword">void</span>* data = <span class="hljs-literal">nullptr</span>)</span></span>;
  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> Getter, <span class="hljs-keyword">typename</span> Setter&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> PropertyDescriptor <span class="hljs-title">Accessor</span><span class="hljs-params">(
      Napi::Env env,
      Napi::Object object,
      <span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&amp; utf8name,
      Getter getter,
      Setter setter,
      napi_property_attributes attributes = napi_default,
      <span class="hljs-keyword">void</span>* data = <span class="hljs-literal">nullptr</span>)</span></span>;
  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> Getter, <span class="hljs-keyword">typename</span> Setter&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> PropertyDescriptor <span class="hljs-title">Accessor</span><span class="hljs-params">(
      Napi::Env env,
      Napi::Object object,
      Name name,
      Getter getter,
      Setter setter,
      napi_property_attributes attributes = napi_default,
      <span class="hljs-keyword">void</span>* data = <span class="hljs-literal">nullptr</span>)</span></span>;
  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> Callable&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> PropertyDescriptor <span class="hljs-title">Function</span><span class="hljs-params">(
      Napi::Env env,
      Napi::Object object,
      <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* utf8name,
      Callable cb,
      napi_property_attributes attributes = napi_default,
      <span class="hljs-keyword">void</span>* data = <span class="hljs-literal">nullptr</span>)</span></span>;
  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> Callable&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> PropertyDescriptor <span class="hljs-title">Function</span><span class="hljs-params">(
      Napi::Env env,
      Napi::Object object,
      <span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&amp; utf8name,
      Callable cb,
      napi_property_attributes attributes = napi_default,
      <span class="hljs-keyword">void</span>* data = <span class="hljs-literal">nullptr</span>)</span></span>;
  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> Callable&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> PropertyDescriptor <span class="hljs-title">Function</span><span class="hljs-params">(
      Napi::Env env,
      Napi::Object object,
      Name name,
      Callable cb,
      napi_property_attributes attributes = napi_default,
      <span class="hljs-keyword">void</span>* data = <span class="hljs-literal">nullptr</span>)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">static</span> PropertyDescriptor <span class="hljs-title">Value</span><span class="hljs-params">(
      <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* utf8name,
      napi_value value,
      napi_property_attributes attributes = napi_default)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">static</span> PropertyDescriptor <span class="hljs-title">Value</span><span class="hljs-params">(
      <span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&amp; utf8name,
      napi_value value,
      napi_property_attributes attributes = napi_default)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">static</span> PropertyDescriptor <span class="hljs-title">Value</span><span class="hljs-params">(
      napi_value name,
      napi_value value,
      napi_property_attributes attributes = napi_default)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">static</span> PropertyDescriptor <span class="hljs-title">Value</span><span class="hljs-params">(
      Name name,
      Napi::Value value,
      napi_property_attributes attributes = napi_default)</span></span>;

  PropertyDescriptor(napi_property_descriptor desc);

  <span class="hljs-keyword">operator</span> napi_property_descriptor&amp;();
  <span class="hljs-keyword">operator</span> <span class="hljs-keyword">const</span> napi_property_descriptor&amp;() <span class="hljs-keyword">const</span>;

 <span class="hljs-keyword">private</span>:
  napi_property_descriptor _desc;
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-157" id="section-157"></a>
</div>
<p>/ Property descriptor for use with <code>ObjectWrap::DefineClass()</code>.
/
/ This is different from the standalone <code>PropertyDescriptor</code> because it is
/ specific to each <code>ObjectWrap&lt;T&gt;</code> subclass. This prevents using descriptors
/ from a different class when defining a new class (preventing the callbacks
/ from having incorrect <code>this</code> pointers).</p>

        </td>
        <td class="code highlight">
          <pre class="c"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ClassPropertyDescriptor</span> {</span>
 <span class="hljs-keyword">public</span>:
  ClassPropertyDescriptor(napi_property_descriptor desc) : _desc(desc) {}

  <span class="hljs-keyword">operator</span> napi_property_descriptor&amp;() { <span class="hljs-keyword">return</span> _desc; }
  <span class="hljs-keyword">operator</span> <span class="hljs-keyword">const</span> napi_property_descriptor&amp;() <span class="hljs-keyword">const</span> { <span class="hljs-keyword">return</span> _desc; }

 <span class="hljs-keyword">private</span>:
  napi_property_descriptor _desc;
};

<span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T, <span class="hljs-keyword">typename</span> TCallback&gt;
<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">MethodCallbackData</span> {</span>
  TCallback callback;
  <span class="hljs-keyword">void</span>* data;
};

<span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T, <span class="hljs-keyword">typename</span> TGetterCallback, <span class="hljs-keyword">typename</span> TSetterCallback&gt;
<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">AccessorCallbackData</span> {</span>
  TGetterCallback getterCallback;
  TSetterCallback setterCallback;
  <span class="hljs-keyword">void</span>* data;
};

<span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">InstanceWrap</span> {</span>
 <span class="hljs-keyword">public</span>:
  <span class="hljs-keyword">using</span> InstanceVoidMethodCallback = <span class="hljs-keyword">void</span> (T::*)(<span class="hljs-keyword">const</span> CallbackInfo&amp; info);
  <span class="hljs-keyword">using</span> InstanceMethodCallback = Napi::Value (T::*)(<span class="hljs-keyword">const</span> CallbackInfo&amp; info);
  <span class="hljs-keyword">using</span> InstanceGetterCallback = Napi::Value (T::*)(<span class="hljs-keyword">const</span> CallbackInfo&amp; info);
  <span class="hljs-keyword">using</span> InstanceSetterCallback = <span class="hljs-keyword">void</span> (T::*)(<span class="hljs-keyword">const</span> CallbackInfo&amp; info,
                                             <span class="hljs-keyword">const</span> Napi::Value&amp; value);

  <span class="hljs-keyword">using</span> PropertyDescriptor = ClassPropertyDescriptor&lt;T&gt;;

  <span class="hljs-function"><span class="hljs-keyword">static</span> PropertyDescriptor <span class="hljs-title">InstanceMethod</span><span class="hljs-params">(
      <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* utf8name,
      InstanceVoidMethodCallback method,
      napi_property_attributes attributes = napi_default,
      <span class="hljs-keyword">void</span>* data = <span class="hljs-literal">nullptr</span>)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">static</span> PropertyDescriptor <span class="hljs-title">InstanceMethod</span><span class="hljs-params">(
      <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* utf8name,
      InstanceMethodCallback method,
      napi_property_attributes attributes = napi_default,
      <span class="hljs-keyword">void</span>* data = <span class="hljs-literal">nullptr</span>)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">static</span> PropertyDescriptor <span class="hljs-title">InstanceMethod</span><span class="hljs-params">(
      Symbol name,
      InstanceVoidMethodCallback method,
      napi_property_attributes attributes = napi_default,
      <span class="hljs-keyword">void</span>* data = <span class="hljs-literal">nullptr</span>)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">static</span> PropertyDescriptor <span class="hljs-title">InstanceMethod</span><span class="hljs-params">(
      Symbol name,
      InstanceMethodCallback method,
      napi_property_attributes attributes = napi_default,
      <span class="hljs-keyword">void</span>* data = <span class="hljs-literal">nullptr</span>)</span></span>;
  <span class="hljs-keyword">template</span> &lt;InstanceVoidMethodCallback method&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> PropertyDescriptor <span class="hljs-title">InstanceMethod</span><span class="hljs-params">(
      <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* utf8name,
      napi_property_attributes attributes = napi_default,
      <span class="hljs-keyword">void</span>* data = <span class="hljs-literal">nullptr</span>)</span></span>;
  <span class="hljs-keyword">template</span> &lt;InstanceMethodCallback method&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> PropertyDescriptor <span class="hljs-title">InstanceMethod</span><span class="hljs-params">(
      <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* utf8name,
      napi_property_attributes attributes = napi_default,
      <span class="hljs-keyword">void</span>* data = <span class="hljs-literal">nullptr</span>)</span></span>;
  <span class="hljs-keyword">template</span> &lt;InstanceVoidMethodCallback method&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> PropertyDescriptor <span class="hljs-title">InstanceMethod</span><span class="hljs-params">(
      Symbol name,
      napi_property_attributes attributes = napi_default,
      <span class="hljs-keyword">void</span>* data = <span class="hljs-literal">nullptr</span>)</span></span>;
  <span class="hljs-keyword">template</span> &lt;InstanceMethodCallback method&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> PropertyDescriptor <span class="hljs-title">InstanceMethod</span><span class="hljs-params">(
      Symbol name,
      napi_property_attributes attributes = napi_default,
      <span class="hljs-keyword">void</span>* data = <span class="hljs-literal">nullptr</span>)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">static</span> PropertyDescriptor <span class="hljs-title">InstanceAccessor</span><span class="hljs-params">(
      <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* utf8name,
      InstanceGetterCallback getter,
      InstanceSetterCallback setter,
      napi_property_attributes attributes = napi_default,
      <span class="hljs-keyword">void</span>* data = <span class="hljs-literal">nullptr</span>)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">static</span> PropertyDescriptor <span class="hljs-title">InstanceAccessor</span><span class="hljs-params">(
      Symbol name,
      InstanceGetterCallback getter,
      InstanceSetterCallback setter,
      napi_property_attributes attributes = napi_default,
      <span class="hljs-keyword">void</span>* data = <span class="hljs-literal">nullptr</span>)</span></span>;
  <span class="hljs-keyword">template</span> &lt;InstanceGetterCallback getter,
            InstanceSetterCallback setter = <span class="hljs-literal">nullptr</span>&gt;
  <span class="hljs-keyword">static</span> PropertyDescriptor InstanceAccessor(
      <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* utf8name,
      napi_property_attributes attributes = napi_default,
      <span class="hljs-keyword">void</span>* data = <span class="hljs-literal">nullptr</span>);
  <span class="hljs-keyword">template</span> &lt;InstanceGetterCallback getter,
            InstanceSetterCallback setter = <span class="hljs-literal">nullptr</span>&gt;
  <span class="hljs-keyword">static</span> PropertyDescriptor InstanceAccessor(
      Symbol name,
      napi_property_attributes attributes = napi_default,
      <span class="hljs-keyword">void</span>* data = <span class="hljs-literal">nullptr</span>);
  <span class="hljs-function"><span class="hljs-keyword">static</span> PropertyDescriptor <span class="hljs-title">InstanceValue</span><span class="hljs-params">(
      <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* utf8name,
      Napi::Value value,
      napi_property_attributes attributes = napi_default)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">static</span> PropertyDescriptor <span class="hljs-title">InstanceValue</span><span class="hljs-params">(
      Symbol name,
      Napi::Value value,
      napi_property_attributes attributes = napi_default)</span></span>;

 <span class="hljs-keyword">protected</span>:
  <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">AttachPropData</span><span class="hljs-params">(napi_env env,
                             napi_value value,
                             <span class="hljs-keyword">const</span> napi_property_descriptor* prop)</span></span>;

 <span class="hljs-keyword">private</span>:
  <span class="hljs-keyword">using</span> This = InstanceWrap&lt;T&gt;;

  <span class="hljs-keyword">using</span> InstanceVoidMethodCallbackData =
      MethodCallbackData&lt;T, InstanceVoidMethodCallback&gt;;
  <span class="hljs-keyword">using</span> InstanceMethodCallbackData =
      MethodCallbackData&lt;T, InstanceMethodCallback&gt;;
  <span class="hljs-keyword">using</span> InstanceAccessorCallbackData =
      AccessorCallbackData&lt;T, InstanceGetterCallback, InstanceSetterCallback&gt;;

  <span class="hljs-function"><span class="hljs-keyword">static</span> napi_value <span class="hljs-title">InstanceVoidMethodCallbackWrapper</span><span class="hljs-params">(napi_env env,
                                                      napi_callback_info info)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">static</span> napi_value <span class="hljs-title">InstanceMethodCallbackWrapper</span><span class="hljs-params">(napi_env env,
                                                  napi_callback_info info)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">static</span> napi_value <span class="hljs-title">InstanceGetterCallbackWrapper</span><span class="hljs-params">(napi_env env,
                                                  napi_callback_info info)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">static</span> napi_value <span class="hljs-title">InstanceSetterCallbackWrapper</span><span class="hljs-params">(napi_env env,
                                                  napi_callback_info info)</span></span>;

  <span class="hljs-keyword">template</span> &lt;InstanceSetterCallback method&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> napi_value <span class="hljs-title">WrappedMethod</span><span class="hljs-params">(napi_env env,
                                  napi_callback_info info)</span> NAPI_NOEXCEPT</span>;

  <span class="hljs-keyword">template</span> &lt;InstanceSetterCallback setter&gt;
  <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">SetterTag</span> {</span>};

  <span class="hljs-keyword">template</span> &lt;InstanceSetterCallback setter&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> napi_callback <span class="hljs-title">WrapSetter</span><span class="hljs-params">(SetterTag&lt;setter&gt;)</span> NAPI_NOEXCEPT </span>{
    <span class="hljs-keyword">return</span> &amp;This::WrappedMethod&lt;setter&gt;;
  }
  <span class="hljs-function"><span class="hljs-keyword">static</span> napi_callback <span class="hljs-title">WrapSetter</span><span class="hljs-params">(SetterTag&lt;<span class="hljs-literal">nullptr</span>&gt;)</span> NAPI_NOEXCEPT </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-literal">nullptr</span>;
  }
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-158" id="section-158"></a>
</div>
<p>/ Base class to be extended by C++ classes exposed to JavaScript; each C++
/ class instance gets &quot;wrapped&quot; by a JavaScript object that is managed by this
/ class.
/
/ At initialization time, the <code>DefineClass()</code> method must be used to
/ hook up the accessor and method callbacks. It takes a list of
/ property descriptors, which can be constructed via the various
/ static methods on the base class.
/
/ #### Example:
/
/     class Example: public Napi::ObjectWrap<Example> {
/       public:
/         static void Initialize(Napi::Env&amp; env, Napi::Object&amp; target) {
/           Napi::Function constructor = DefineClass(env, &quot;Example&quot;, {
/             InstanceAccessor&lt;&amp;Example::GetSomething,
/             &amp;Example::SetSomething&gt;(&quot;value&quot;),
/             InstanceMethod&lt;&amp;Example::DoSomething&gt;(&quot;doSomething&quot;),
/           });
/           target.Set(&quot;Example&quot;, constructor);
/         }
/
/         Example(const Napi::CallbackInfo&amp; info); // Constructor
/         Napi::Value GetSomething(const Napi::CallbackInfo&amp; info);
/         void SetSomething(const Napi::CallbackInfo&amp; info, const Napi::Value&amp;
/         value); Napi::Value DoSomething(const Napi::CallbackInfo&amp; info);
/     }</p>

        </td>
        <td class="code highlight">
          <pre class="c"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ObjectWrap</span> :</span> <span class="hljs-keyword">public</span> InstanceWrap&lt;T&gt;, <span class="hljs-keyword">public</span> Reference&lt;Object&gt; {
 <span class="hljs-keyword">public</span>:
  ObjectWrap(<span class="hljs-keyword">const</span> CallbackInfo&amp; callbackInfo);
  <span class="hljs-keyword">virtual</span> ~ObjectWrap();

  <span class="hljs-function"><span class="hljs-keyword">static</span> T* <span class="hljs-title">Unwrap</span><span class="hljs-params">(Object wrapper)</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-159" id="section-159"></a>
</div>
<p>Methods exposed to JavaScript must conform to one of these callback
signatures.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-keyword">using</span> StaticVoidMethodCallback = <span class="hljs-keyword">void</span> (*)(<span class="hljs-keyword">const</span> CallbackInfo&amp; info);
  <span class="hljs-keyword">using</span> StaticMethodCallback = Napi::Value (*)(<span class="hljs-keyword">const</span> CallbackInfo&amp; info);
  <span class="hljs-keyword">using</span> StaticGetterCallback = Napi::Value (*)(<span class="hljs-keyword">const</span> CallbackInfo&amp; info);
  <span class="hljs-keyword">using</span> StaticSetterCallback = <span class="hljs-keyword">void</span> (*)(<span class="hljs-keyword">const</span> CallbackInfo&amp; info,
                                        <span class="hljs-keyword">const</span> Napi::Value&amp; value);

  <span class="hljs-keyword">using</span> PropertyDescriptor = ClassPropertyDescriptor&lt;T&gt;;

  <span class="hljs-function"><span class="hljs-keyword">static</span> Function <span class="hljs-title">DefineClass</span><span class="hljs-params">(
      Napi::Env env,
      <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* utf8name,
      <span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">initializer_list</span>&lt;PropertyDescriptor&gt;&amp; properties,
      <span class="hljs-keyword">void</span>* data = <span class="hljs-literal">nullptr</span>)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">static</span> Function <span class="hljs-title">DefineClass</span><span class="hljs-params">(Napi::Env env,
                              <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* utf8name,
                              <span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">vector</span>&lt;PropertyDescriptor&gt;&amp; properties,
                              <span class="hljs-keyword">void</span>* data = <span class="hljs-literal">nullptr</span>)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">static</span> PropertyDescriptor <span class="hljs-title">StaticMethod</span><span class="hljs-params">(
      <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* utf8name,
      StaticVoidMethodCallback method,
      napi_property_attributes attributes = napi_default,
      <span class="hljs-keyword">void</span>* data = <span class="hljs-literal">nullptr</span>)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">static</span> PropertyDescriptor <span class="hljs-title">StaticMethod</span><span class="hljs-params">(
      <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* utf8name,
      StaticMethodCallback method,
      napi_property_attributes attributes = napi_default,
      <span class="hljs-keyword">void</span>* data = <span class="hljs-literal">nullptr</span>)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">static</span> PropertyDescriptor <span class="hljs-title">StaticMethod</span><span class="hljs-params">(
      Symbol name,
      StaticVoidMethodCallback method,
      napi_property_attributes attributes = napi_default,
      <span class="hljs-keyword">void</span>* data = <span class="hljs-literal">nullptr</span>)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">static</span> PropertyDescriptor <span class="hljs-title">StaticMethod</span><span class="hljs-params">(
      Symbol name,
      StaticMethodCallback method,
      napi_property_attributes attributes = napi_default,
      <span class="hljs-keyword">void</span>* data = <span class="hljs-literal">nullptr</span>)</span></span>;
  <span class="hljs-keyword">template</span> &lt;StaticVoidMethodCallback method&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> PropertyDescriptor <span class="hljs-title">StaticMethod</span><span class="hljs-params">(
      <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* utf8name,
      napi_property_attributes attributes = napi_default,
      <span class="hljs-keyword">void</span>* data = <span class="hljs-literal">nullptr</span>)</span></span>;
  <span class="hljs-keyword">template</span> &lt;StaticVoidMethodCallback method&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> PropertyDescriptor <span class="hljs-title">StaticMethod</span><span class="hljs-params">(
      Symbol name,
      napi_property_attributes attributes = napi_default,
      <span class="hljs-keyword">void</span>* data = <span class="hljs-literal">nullptr</span>)</span></span>;
  <span class="hljs-keyword">template</span> &lt;StaticMethodCallback method&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> PropertyDescriptor <span class="hljs-title">StaticMethod</span><span class="hljs-params">(
      <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* utf8name,
      napi_property_attributes attributes = napi_default,
      <span class="hljs-keyword">void</span>* data = <span class="hljs-literal">nullptr</span>)</span></span>;
  <span class="hljs-keyword">template</span> &lt;StaticMethodCallback method&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> PropertyDescriptor <span class="hljs-title">StaticMethod</span><span class="hljs-params">(
      Symbol name,
      napi_property_attributes attributes = napi_default,
      <span class="hljs-keyword">void</span>* data = <span class="hljs-literal">nullptr</span>)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">static</span> PropertyDescriptor <span class="hljs-title">StaticAccessor</span><span class="hljs-params">(
      <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* utf8name,
      StaticGetterCallback getter,
      StaticSetterCallback setter,
      napi_property_attributes attributes = napi_default,
      <span class="hljs-keyword">void</span>* data = <span class="hljs-literal">nullptr</span>)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">static</span> PropertyDescriptor <span class="hljs-title">StaticAccessor</span><span class="hljs-params">(
      Symbol name,
      StaticGetterCallback getter,
      StaticSetterCallback setter,
      napi_property_attributes attributes = napi_default,
      <span class="hljs-keyword">void</span>* data = <span class="hljs-literal">nullptr</span>)</span></span>;
  <span class="hljs-keyword">template</span> &lt;StaticGetterCallback getter, StaticSetterCallback setter = <span class="hljs-literal">nullptr</span>&gt;
  <span class="hljs-keyword">static</span> PropertyDescriptor StaticAccessor(
      <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* utf8name,
      napi_property_attributes attributes = napi_default,
      <span class="hljs-keyword">void</span>* data = <span class="hljs-literal">nullptr</span>);
  <span class="hljs-keyword">template</span> &lt;StaticGetterCallback getter, StaticSetterCallback setter = <span class="hljs-literal">nullptr</span>&gt;
  <span class="hljs-keyword">static</span> PropertyDescriptor StaticAccessor(
      Symbol name,
      napi_property_attributes attributes = napi_default,
      <span class="hljs-keyword">void</span>* data = <span class="hljs-literal">nullptr</span>);
  <span class="hljs-function"><span class="hljs-keyword">static</span> PropertyDescriptor <span class="hljs-title">StaticValue</span><span class="hljs-params">(
      <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* utf8name,
      Napi::Value value,
      napi_property_attributes attributes = napi_default)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">static</span> PropertyDescriptor <span class="hljs-title">StaticValue</span><span class="hljs-params">(
      Symbol name,
      Napi::Value value,
      napi_property_attributes attributes = napi_default)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">static</span> Napi::Value <span class="hljs-title">OnCalledAsFunction</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Napi::CallbackInfo&amp; callbackInfo)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Finalize</span><span class="hljs-params">(Napi::Env env)</span></span>;

 <span class="hljs-keyword">private</span>:
  <span class="hljs-keyword">using</span> This = ObjectWrap&lt;T&gt;;

  <span class="hljs-function"><span class="hljs-keyword">static</span> napi_value <span class="hljs-title">ConstructorCallbackWrapper</span><span class="hljs-params">(napi_env env,
                                               napi_callback_info info)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">static</span> napi_value <span class="hljs-title">StaticVoidMethodCallbackWrapper</span><span class="hljs-params">(napi_env env,
                                                    napi_callback_info info)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">static</span> napi_value <span class="hljs-title">StaticMethodCallbackWrapper</span><span class="hljs-params">(napi_env env,
                                                napi_callback_info info)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">static</span> napi_value <span class="hljs-title">StaticGetterCallbackWrapper</span><span class="hljs-params">(napi_env env,
                                                napi_callback_info info)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">static</span> napi_value <span class="hljs-title">StaticSetterCallbackWrapper</span><span class="hljs-params">(napi_env env,
                                                napi_callback_info info)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">FinalizeCallback</span><span class="hljs-params">(napi_env env, <span class="hljs-keyword">void</span>* data, <span class="hljs-keyword">void</span>* hint)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">static</span> Function <span class="hljs-title">DefineClass</span><span class="hljs-params">(Napi::Env env,
                              <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* utf8name,
                              <span class="hljs-keyword">const</span> <span class="hljs-keyword">size_t</span> props_count,
                              <span class="hljs-keyword">const</span> napi_property_descriptor* props,
                              <span class="hljs-keyword">void</span>* data = <span class="hljs-literal">nullptr</span>)</span></span>;

  <span class="hljs-keyword">using</span> StaticVoidMethodCallbackData =
      MethodCallbackData&lt;T, StaticVoidMethodCallback&gt;;
  <span class="hljs-keyword">using</span> StaticMethodCallbackData = MethodCallbackData&lt;T, StaticMethodCallback&gt;;

  <span class="hljs-keyword">using</span> StaticAccessorCallbackData =
      AccessorCallbackData&lt;T, StaticGetterCallback, StaticSetterCallback&gt;;

  <span class="hljs-keyword">template</span> &lt;StaticSetterCallback method&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> napi_value <span class="hljs-title">WrappedMethod</span><span class="hljs-params">(napi_env env,
                                  napi_callback_info info)</span> NAPI_NOEXCEPT</span>;

  <span class="hljs-keyword">template</span> &lt;StaticSetterCallback setter&gt;
  <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">StaticSetterTag</span> {</span>};

  <span class="hljs-keyword">template</span> &lt;StaticSetterCallback setter&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> napi_callback <span class="hljs-title">WrapStaticSetter</span><span class="hljs-params">(StaticSetterTag&lt;setter&gt;)</span> NAPI_NOEXCEPT </span>{
    <span class="hljs-keyword">return</span> &amp;This::WrappedMethod&lt;setter&gt;;
  }
  <span class="hljs-function"><span class="hljs-keyword">static</span> napi_callback <span class="hljs-title">WrapStaticSetter</span><span class="hljs-params">(StaticSetterTag&lt;<span class="hljs-literal">nullptr</span>&gt;)</span>
      NAPI_NOEXCEPT </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-literal">nullptr</span>;
  }

  <span class="hljs-keyword">bool</span> _construction_failed = <span class="hljs-literal">true</span>;
};

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HandleScope</span> {</span>
 <span class="hljs-keyword">public</span>:
  HandleScope(napi_env env, napi_handle_scope scope);
  <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">HandleScope</span><span class="hljs-params">(Napi::Env env)</span></span>;
  ~HandleScope();

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-160" id="section-160"></a>
</div>
<p>Disallow copying to prevent double close of napi_handle_scope</p>

        </td>
        <td class="code highlight">
          <pre class="c">  NAPI_DISALLOW_ASSIGN_COPY(HandleScope)

  <span class="hljs-function"><span class="hljs-keyword">operator</span> <span class="hljs-title">napi_handle_scope</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;

  <span class="hljs-function">Napi::Env <span class="hljs-title">Env</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;

 <span class="hljs-keyword">private</span>:
  napi_env _env;
  napi_handle_scope _scope;
};

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">EscapableHandleScope</span> {</span>
 <span class="hljs-keyword">public</span>:
  EscapableHandleScope(napi_env env, napi_escapable_handle_scope scope);
  <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">EscapableHandleScope</span><span class="hljs-params">(Napi::Env env)</span></span>;
  ~EscapableHandleScope();

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-161" id="section-161"></a>
</div>
<p>Disallow copying to prevent double close of napi_escapable_handle_scope</p>

        </td>
        <td class="code highlight">
          <pre class="c">  NAPI_DISALLOW_ASSIGN_COPY(EscapableHandleScope)

  <span class="hljs-function"><span class="hljs-keyword">operator</span> <span class="hljs-title">napi_escapable_handle_scope</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;

  <span class="hljs-function">Napi::Env <span class="hljs-title">Env</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function">Value <span class="hljs-title">Escape</span><span class="hljs-params">(napi_value escapee)</span></span>;

 <span class="hljs-keyword">private</span>:
  napi_env _env;
  napi_escapable_handle_scope _scope;
};

<span class="hljs-meta">#<span class="hljs-meta-keyword">if</span> (NAPI_VERSION &gt; 2)</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CallbackScope</span> {</span>
 <span class="hljs-keyword">public</span>:
  CallbackScope(napi_env env, napi_callback_scope scope);
  CallbackScope(napi_env env, napi_async_context context);
  <span class="hljs-keyword">virtual</span> ~CallbackScope();

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-162" id="section-162"></a>
</div>
<p>Disallow copying to prevent double close of napi_callback_scope</p>

        </td>
        <td class="code highlight">
          <pre class="c">  NAPI_DISALLOW_ASSIGN_COPY(CallbackScope)

  <span class="hljs-function"><span class="hljs-keyword">operator</span> <span class="hljs-title">napi_callback_scope</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;

  <span class="hljs-function">Napi::Env <span class="hljs-title">Env</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;

 <span class="hljs-keyword">private</span>:
  napi_env _env;
  napi_callback_scope _scope;
};
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AsyncContext</span> {</span>
 <span class="hljs-keyword">public</span>:
  <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">AsyncContext</span><span class="hljs-params">(napi_env env, <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* resource_name)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">AsyncContext</span><span class="hljs-params">(napi_env env,
                        <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* resource_name,
                        <span class="hljs-keyword">const</span> Object&amp; resource)</span></span>;
  <span class="hljs-keyword">virtual</span> ~AsyncContext();

  AsyncContext(AsyncContext&amp;&amp; other);
  AsyncContext&amp; <span class="hljs-keyword">operator</span>=(AsyncContext&amp;&amp; other);
  NAPI_DISALLOW_ASSIGN_COPY(AsyncContext)

  <span class="hljs-function"><span class="hljs-keyword">operator</span> <span class="hljs-title">napi_async_context</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;

  <span class="hljs-function">Napi::Env <span class="hljs-title">Env</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;

 <span class="hljs-keyword">private</span>:
  napi_env _env;
  napi_async_context _context;
};

<span class="hljs-meta">#<span class="hljs-meta-keyword">if</span> NAPI_HAS_THREADS</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AsyncWorker</span> {</span>
 <span class="hljs-keyword">public</span>:
  <span class="hljs-keyword">virtual</span> ~AsyncWorker();

  NAPI_DISALLOW_ASSIGN_COPY(AsyncWorker)

  <span class="hljs-function"><span class="hljs-keyword">operator</span> <span class="hljs-title">napi_async_work</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;

  <span class="hljs-function">Napi::Env <span class="hljs-title">Env</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;

  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Queue</span><span class="hljs-params">()</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Cancel</span><span class="hljs-params">()</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">SuppressDestruct</span><span class="hljs-params">()</span></span>;

  <span class="hljs-function">ObjectReference&amp; <span class="hljs-title">Receiver</span><span class="hljs-params">()</span></span>;
  <span class="hljs-function">FunctionReference&amp; <span class="hljs-title">Callback</span><span class="hljs-params">()</span></span>;

  <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnExecute</span><span class="hljs-params">(Napi::Env env)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnWorkComplete</span><span class="hljs-params">(Napi::Env env, napi_status status)</span></span>;

 <span class="hljs-keyword">protected</span>:
  <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">AsyncWorker</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Function&amp; callback)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">AsyncWorker</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Function&amp; callback, <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* resource_name)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">AsyncWorker</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Function&amp; callback,
                       <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* resource_name,
                       <span class="hljs-keyword">const</span> Object&amp; resource)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">AsyncWorker</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Object&amp; receiver, <span class="hljs-keyword">const</span> Function&amp; callback)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">AsyncWorker</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Object&amp; receiver,
                       <span class="hljs-keyword">const</span> Function&amp; callback,
                       <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* resource_name)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">AsyncWorker</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Object&amp; receiver,
                       <span class="hljs-keyword">const</span> Function&amp; callback,
                       <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* resource_name,
                       <span class="hljs-keyword">const</span> Object&amp; resource)</span></span>;

  <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">AsyncWorker</span><span class="hljs-params">(Napi::Env env)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">AsyncWorker</span><span class="hljs-params">(Napi::Env env, <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* resource_name)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">AsyncWorker</span><span class="hljs-params">(Napi::Env env,
                       <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* resource_name,
                       <span class="hljs-keyword">const</span> Object&amp; resource)</span></span>;

  <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Execute</span><span class="hljs-params">()</span> </span>= <span class="hljs-number">0</span>;
  <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnOK</span><span class="hljs-params">()</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnError</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Error&amp; e)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Destroy</span><span class="hljs-params">()</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">vector</span>&lt;napi_value&gt; <span class="hljs-title">GetResult</span><span class="hljs-params">(Napi::Env env)</span></span>;

  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">SetError</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&amp; error)</span></span>;

 <span class="hljs-keyword">private</span>:
  <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">inline</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnAsyncWorkExecute</span><span class="hljs-params">(napi_env env, <span class="hljs-keyword">void</span>* asyncworker)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">inline</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnAsyncWorkComplete</span><span class="hljs-params">(napi_env env,
                                         napi_status status,
                                         <span class="hljs-keyword">void</span>* asyncworker)</span></span>;

  napi_env _env;
  napi_async_work _work;
  ObjectReference _receiver;
  FunctionReference _callback;
  <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> _error;
  <span class="hljs-keyword">bool</span> _suppress_destruct;
};
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span>  <span class="hljs-comment">// NAPI_HAS_THREADS</span></span>

<span class="hljs-meta">#<span class="hljs-meta-keyword">if</span> (NAPI_VERSION &gt; 3 &amp;&amp; NAPI_HAS_THREADS)</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ThreadSafeFunction</span> {</span>
 <span class="hljs-keyword">public</span>:
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-163" id="section-163"></a>
</div>
<p>This API may only be called from the main thread.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ResourceString&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> ThreadSafeFunction <span class="hljs-title">New</span><span class="hljs-params">(napi_env env,
                                <span class="hljs-keyword">const</span> Function&amp; callback,
                                ResourceString resourceName,
                                <span class="hljs-keyword">size_t</span> maxQueueSize,
                                <span class="hljs-keyword">size_t</span> initialThreadCount)</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-164" id="section-164"></a>
</div>
<p>This API may only be called from the main thread.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ResourceString, <span class="hljs-keyword">typename</span> ContextType&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> ThreadSafeFunction <span class="hljs-title">New</span><span class="hljs-params">(napi_env env,
                                <span class="hljs-keyword">const</span> Function&amp; callback,
                                ResourceString resourceName,
                                <span class="hljs-keyword">size_t</span> maxQueueSize,
                                <span class="hljs-keyword">size_t</span> initialThreadCount,
                                ContextType* context)</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-165" id="section-165"></a>
</div>
<p>This API may only be called from the main thread.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ResourceString, <span class="hljs-keyword">typename</span> Finalizer&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> ThreadSafeFunction <span class="hljs-title">New</span><span class="hljs-params">(napi_env env,
                                <span class="hljs-keyword">const</span> Function&amp; callback,
                                ResourceString resourceName,
                                <span class="hljs-keyword">size_t</span> maxQueueSize,
                                <span class="hljs-keyword">size_t</span> initialThreadCount,
                                Finalizer finalizeCallback)</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-166" id="section-166"></a>
</div>
<p>This API may only be called from the main thread.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ResourceString,
            <span class="hljs-keyword">typename</span> Finalizer,
            <span class="hljs-keyword">typename</span> FinalizerDataType&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> ThreadSafeFunction <span class="hljs-title">New</span><span class="hljs-params">(napi_env env,
                                <span class="hljs-keyword">const</span> Function&amp; callback,
                                ResourceString resourceName,
                                <span class="hljs-keyword">size_t</span> maxQueueSize,
                                <span class="hljs-keyword">size_t</span> initialThreadCount,
                                Finalizer finalizeCallback,
                                FinalizerDataType* data)</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-167" id="section-167"></a>
</div>
<p>This API may only be called from the main thread.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ResourceString, <span class="hljs-keyword">typename</span> ContextType, <span class="hljs-keyword">typename</span> Finalizer&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> ThreadSafeFunction <span class="hljs-title">New</span><span class="hljs-params">(napi_env env,
                                <span class="hljs-keyword">const</span> Function&amp; callback,
                                ResourceString resourceName,
                                <span class="hljs-keyword">size_t</span> maxQueueSize,
                                <span class="hljs-keyword">size_t</span> initialThreadCount,
                                ContextType* context,
                                Finalizer finalizeCallback)</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-168" id="section-168"></a>
</div>
<p>This API may only be called from the main thread.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ResourceString,
            <span class="hljs-keyword">typename</span> ContextType,
            <span class="hljs-keyword">typename</span> Finalizer,
            <span class="hljs-keyword">typename</span> FinalizerDataType&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> ThreadSafeFunction <span class="hljs-title">New</span><span class="hljs-params">(napi_env env,
                                <span class="hljs-keyword">const</span> Function&amp; callback,
                                ResourceString resourceName,
                                <span class="hljs-keyword">size_t</span> maxQueueSize,
                                <span class="hljs-keyword">size_t</span> initialThreadCount,
                                ContextType* context,
                                Finalizer finalizeCallback,
                                FinalizerDataType* data)</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-169" id="section-169"></a>
</div>
<p>This API may only be called from the main thread.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ResourceString&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> ThreadSafeFunction <span class="hljs-title">New</span><span class="hljs-params">(napi_env env,
                                <span class="hljs-keyword">const</span> Function&amp; callback,
                                <span class="hljs-keyword">const</span> Object&amp; resource,
                                ResourceString resourceName,
                                <span class="hljs-keyword">size_t</span> maxQueueSize,
                                <span class="hljs-keyword">size_t</span> initialThreadCount)</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-170" id="section-170"></a>
</div>
<p>This API may only be called from the main thread.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ResourceString, <span class="hljs-keyword">typename</span> ContextType&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> ThreadSafeFunction <span class="hljs-title">New</span><span class="hljs-params">(napi_env env,
                                <span class="hljs-keyword">const</span> Function&amp; callback,
                                <span class="hljs-keyword">const</span> Object&amp; resource,
                                ResourceString resourceName,
                                <span class="hljs-keyword">size_t</span> maxQueueSize,
                                <span class="hljs-keyword">size_t</span> initialThreadCount,
                                ContextType* context)</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-171" id="section-171"></a>
</div>
<p>This API may only be called from the main thread.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ResourceString, <span class="hljs-keyword">typename</span> Finalizer&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> ThreadSafeFunction <span class="hljs-title">New</span><span class="hljs-params">(napi_env env,
                                <span class="hljs-keyword">const</span> Function&amp; callback,
                                <span class="hljs-keyword">const</span> Object&amp; resource,
                                ResourceString resourceName,
                                <span class="hljs-keyword">size_t</span> maxQueueSize,
                                <span class="hljs-keyword">size_t</span> initialThreadCount,
                                Finalizer finalizeCallback)</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-172" id="section-172"></a>
</div>
<p>This API may only be called from the main thread.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ResourceString,
            <span class="hljs-keyword">typename</span> Finalizer,
            <span class="hljs-keyword">typename</span> FinalizerDataType&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> ThreadSafeFunction <span class="hljs-title">New</span><span class="hljs-params">(napi_env env,
                                <span class="hljs-keyword">const</span> Function&amp; callback,
                                <span class="hljs-keyword">const</span> Object&amp; resource,
                                ResourceString resourceName,
                                <span class="hljs-keyword">size_t</span> maxQueueSize,
                                <span class="hljs-keyword">size_t</span> initialThreadCount,
                                Finalizer finalizeCallback,
                                FinalizerDataType* data)</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-173" id="section-173"></a>
</div>
<p>This API may only be called from the main thread.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ResourceString, <span class="hljs-keyword">typename</span> ContextType, <span class="hljs-keyword">typename</span> Finalizer&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> ThreadSafeFunction <span class="hljs-title">New</span><span class="hljs-params">(napi_env env,
                                <span class="hljs-keyword">const</span> Function&amp; callback,
                                <span class="hljs-keyword">const</span> Object&amp; resource,
                                ResourceString resourceName,
                                <span class="hljs-keyword">size_t</span> maxQueueSize,
                                <span class="hljs-keyword">size_t</span> initialThreadCount,
                                ContextType* context,
                                Finalizer finalizeCallback)</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-174" id="section-174"></a>
</div>
<p>This API may only be called from the main thread.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ResourceString,
            <span class="hljs-keyword">typename</span> ContextType,
            <span class="hljs-keyword">typename</span> Finalizer,
            <span class="hljs-keyword">typename</span> FinalizerDataType&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> ThreadSafeFunction <span class="hljs-title">New</span><span class="hljs-params">(napi_env env,
                                <span class="hljs-keyword">const</span> Function&amp; callback,
                                <span class="hljs-keyword">const</span> Object&amp; resource,
                                ResourceString resourceName,
                                <span class="hljs-keyword">size_t</span> maxQueueSize,
                                <span class="hljs-keyword">size_t</span> initialThreadCount,
                                ContextType* context,
                                Finalizer finalizeCallback,
                                FinalizerDataType* data)</span></span>;

  ThreadSafeFunction();
  ThreadSafeFunction(napi_threadsafe_function tsFunctionValue);

  <span class="hljs-function"><span class="hljs-keyword">operator</span> <span class="hljs-title">napi_threadsafe_function</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-175" id="section-175"></a>
</div>
<p>This API may be called from any thread.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function">napi_status <span class="hljs-title">BlockingCall</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-176" id="section-176"></a>
</div>
<p>This API may be called from any thread.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> Callback&gt;
  <span class="hljs-function">napi_status <span class="hljs-title">BlockingCall</span><span class="hljs-params">(Callback callback)</span> <span class="hljs-keyword">const</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-177" id="section-177"></a>
</div>
<p>This API may be called from any thread.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> DataType, <span class="hljs-keyword">typename</span> Callback&gt;
  <span class="hljs-function">napi_status <span class="hljs-title">BlockingCall</span><span class="hljs-params">(DataType* data, Callback callback)</span> <span class="hljs-keyword">const</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-178" id="section-178"></a>
</div>
<p>This API may be called from any thread.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function">napi_status <span class="hljs-title">NonBlockingCall</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-179" id="section-179"></a>
</div>
<p>This API may be called from any thread.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> Callback&gt;
  <span class="hljs-function">napi_status <span class="hljs-title">NonBlockingCall</span><span class="hljs-params">(Callback callback)</span> <span class="hljs-keyword">const</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-180" id="section-180"></a>
</div>
<p>This API may be called from any thread.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> DataType, <span class="hljs-keyword">typename</span> Callback&gt;
  <span class="hljs-function">napi_status <span class="hljs-title">NonBlockingCall</span><span class="hljs-params">(DataType* data, Callback callback)</span> <span class="hljs-keyword">const</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-181" id="section-181"></a>
</div>
<p>This API may only be called from the main thread.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Ref</span><span class="hljs-params">(napi_env env)</span> <span class="hljs-keyword">const</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-182" id="section-182"></a>
</div>
<p>This API may only be called from the main thread.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Unref</span><span class="hljs-params">(napi_env env)</span> <span class="hljs-keyword">const</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-183" id="section-183"></a>
</div>
<p>This API may be called from any thread.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function">napi_status <span class="hljs-title">Acquire</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-184" id="section-184"></a>
</div>
<p>This API may be called from any thread.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function">napi_status <span class="hljs-title">Release</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-185" id="section-185"></a>
</div>
<p>This API may be called from any thread.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function">napi_status <span class="hljs-title">Abort</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;

  <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">ConvertibleContext</span> {</span>
    <span class="hljs-keyword">template</span> &lt;<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">T</span>&gt;
    <span class="hljs-title">operator</span> <span class="hljs-title">T</span>*() {</span>
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">static_cast</span>&lt;T*&gt;(context);
    }
    <span class="hljs-keyword">void</span>* context;
  };

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-186" id="section-186"></a>
</div>
<p>This API may be called from any thread.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function">ConvertibleContext <span class="hljs-title">GetContext</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;

 <span class="hljs-keyword">private</span>:
  <span class="hljs-keyword">using</span> CallbackWrapper = <span class="hljs-built_in">std</span>::function&lt;<span class="hljs-keyword">void</span>(Napi::Env, Napi::Function)&gt;;

  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ResourceString,
            <span class="hljs-keyword">typename</span> ContextType,
            <span class="hljs-keyword">typename</span> Finalizer,
            <span class="hljs-keyword">typename</span> FinalizerDataType&gt;
  <span class="hljs-function"><span class="hljs-keyword">static</span> ThreadSafeFunction <span class="hljs-title">New</span><span class="hljs-params">(napi_env env,
                                <span class="hljs-keyword">const</span> Function&amp; callback,
                                <span class="hljs-keyword">const</span> Object&amp; resource,
                                ResourceString resourceName,
                                <span class="hljs-keyword">size_t</span> maxQueueSize,
                                <span class="hljs-keyword">size_t</span> initialThreadCount,
                                ContextType* context,
                                Finalizer finalizeCallback,
                                FinalizerDataType* data,
                                napi_finalize wrapper)</span></span>;

  <span class="hljs-function">napi_status <span class="hljs-title">CallInternal</span><span class="hljs-params">(CallbackWrapper* callbackWrapper,
                           napi_threadsafe_function_call_mode mode)</span> <span class="hljs-keyword">const</span></span>;

  <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">CallJS</span><span class="hljs-params">(napi_env env,
                     napi_value jsCallback,
                     <span class="hljs-keyword">void</span>* context,
                     <span class="hljs-keyword">void</span>* data)</span></span>;

  napi_threadsafe_function _tsfn;
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-187" id="section-187"></a>
</div>
<p>A TypedThreadSafeFunction by default has no context (nullptr) and can
accept any type (void) to its CallJs.</p>

        </td>
        <td class="code highlight">
          <pre class="c"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ContextType = <span class="hljs-built_in">std</span>::<span class="hljs-keyword">nullptr_t</span>,
          <span class="hljs-keyword">typename</span> DataType = <span class="hljs-keyword">void</span>,
          <span class="hljs-keyword">void</span> (*CallJs)(Napi::Env, Napi::Function, ContextType*, DataType*) =
              <span class="hljs-literal">nullptr</span>&gt;
class TypedThreadSafeFunction {
 <span class="hljs-keyword">public</span>:
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-188" id="section-188"></a>
</div>
<p>This API may only be called from the main thread.
Helper function that returns nullptr if running Node-API 5+, otherwise a
non-empty, no-op Function. This provides the ability to specify at
compile-time a callback parameter to <code>New</code> that safely does no action
when targeting <em>any</em> Node-API version.</p>

        </td>
        <td class="code highlight">
          <pre class="c"><span class="hljs-meta">#<span class="hljs-meta-keyword">if</span> NAPI_VERSION &gt; 4</span>
  <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-built_in">std</span>::<span class="hljs-keyword">nullptr_t</span> <span class="hljs-title">EmptyFunctionFactory</span><span class="hljs-params">(Napi::Env env)</span></span>;
<span class="hljs-meta">#<span class="hljs-meta-keyword">else</span></span>
  <span class="hljs-function"><span class="hljs-keyword">static</span> Napi::Function <span class="hljs-title">EmptyFunctionFactory</span><span class="hljs-params">(Napi::Env env)</span></span>;
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span>
  <span class="hljs-function"><span class="hljs-keyword">static</span> Napi::Function <span class="hljs-title">FunctionOrEmpty</span><span class="hljs-params">(Napi::Env env,
                                        Napi::Function&amp; callback)</span></span>;

<span class="hljs-meta">#<span class="hljs-meta-keyword">if</span> NAPI_VERSION &gt; 4</span>
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-189" id="section-189"></a>
</div>
<p>This API may only be called from the main thread.
Creates a new threadsafe function with:
Callback [missing] Resource [missing] Finalizer [missing]</p>

        </td>
        <td class="code highlight">
          <pre class="c">  template &lt;typename ResourceString&gt;
  static TypedThreadSafeFunction&lt;ContextType, DataType, CallJs&gt; New(
      napi_env env,
      ResourceString resourceName,
      size_t maxQueueSize,
      size_t initialThreadCount,
      ContextType* context = nullptr);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-190" id="section-190"></a>
</div>
<p>This API may only be called from the main thread.
Creates a new threadsafe function with:
Callback [missing] Resource [passed] Finalizer [missing]</p>

        </td>
        <td class="code highlight">
          <pre class="c">  template &lt;typename ResourceString&gt;
  static TypedThreadSafeFunction&lt;ContextType, DataType, CallJs&gt; New(
      napi_env env,
      const Object&amp; resource,
      ResourceString resourceName,
      size_t maxQueueSize,
      size_t initialThreadCount,
      ContextType* context = nullptr);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-191" id="section-191"></a>
</div>
<p>This API may only be called from the main thread.
Creates a new threadsafe function with:
Callback [missing] Resource [missing] Finalizer [passed]</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ResourceString,
            <span class="hljs-keyword">typename</span> Finalizer,
            <span class="hljs-keyword">typename</span> FinalizerDataType = <span class="hljs-keyword">void</span>&gt;
  <span class="hljs-keyword">static</span> TypedThreadSafeFunction&lt;ContextType, DataType, CallJs&gt; New(
      napi_env env,
      ResourceString resourceName,
      <span class="hljs-keyword">size_t</span> maxQueueSize,
      <span class="hljs-keyword">size_t</span> initialThreadCount,
      ContextType* context,
      Finalizer finalizeCallback,
      FinalizerDataType* data = <span class="hljs-literal">nullptr</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-192" id="section-192"></a>
</div>
<p>This API may only be called from the main thread.
Creates a new threadsafe function with:
Callback [missing] Resource [passed] Finalizer [passed]</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ResourceString,
            <span class="hljs-keyword">typename</span> Finalizer,
            <span class="hljs-keyword">typename</span> FinalizerDataType = <span class="hljs-keyword">void</span>&gt;
  <span class="hljs-keyword">static</span> TypedThreadSafeFunction&lt;ContextType, DataType, CallJs&gt; New(
      napi_env env,
      <span class="hljs-keyword">const</span> Object&amp; resource,
      ResourceString resourceName,
      <span class="hljs-keyword">size_t</span> maxQueueSize,
      <span class="hljs-keyword">size_t</span> initialThreadCount,
      ContextType* context,
      Finalizer finalizeCallback,
      FinalizerDataType* data = <span class="hljs-literal">nullptr</span>);
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span>

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-193" id="section-193"></a>
</div>
<p>This API may only be called from the main thread.
Creates a new threadsafe function with:
Callback [passed] Resource [missing] Finalizer [missing]</p>

        </td>
        <td class="code highlight">
          <pre class="c">  template &lt;typename ResourceString&gt;
  static TypedThreadSafeFunction&lt;ContextType, DataType, CallJs&gt; New(
      napi_env env,
      const Function&amp; callback,
      ResourceString resourceName,
      size_t maxQueueSize,
      size_t initialThreadCount,
      ContextType* context = nullptr);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-194" id="section-194"></a>
</div>
<p>This API may only be called from the main thread.
Creates a new threadsafe function with:
Callback [passed] Resource [passed] Finalizer [missing]</p>

        </td>
        <td class="code highlight">
          <pre class="c">  template &lt;typename ResourceString&gt;
  static TypedThreadSafeFunction&lt;ContextType, DataType, CallJs&gt; New(
      napi_env env,
      const Function&amp; callback,
      const Object&amp; resource,
      ResourceString resourceName,
      size_t maxQueueSize,
      size_t initialThreadCount,
      ContextType* context = nullptr);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-195" id="section-195"></a>
</div>
<p>This API may only be called from the main thread.
Creates a new threadsafe function with:
Callback [passed] Resource [missing] Finalizer [passed]</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ResourceString,
            <span class="hljs-keyword">typename</span> Finalizer,
            <span class="hljs-keyword">typename</span> FinalizerDataType = <span class="hljs-keyword">void</span>&gt;
  <span class="hljs-keyword">static</span> TypedThreadSafeFunction&lt;ContextType, DataType, CallJs&gt; New(
      napi_env env,
      <span class="hljs-keyword">const</span> Function&amp; callback,
      ResourceString resourceName,
      <span class="hljs-keyword">size_t</span> maxQueueSize,
      <span class="hljs-keyword">size_t</span> initialThreadCount,
      ContextType* context,
      Finalizer finalizeCallback,
      FinalizerDataType* data = <span class="hljs-literal">nullptr</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-196" id="section-196"></a>
</div>
<p>This API may only be called from the main thread.
Creates a new threadsafe function with:
Callback [passed] Resource [passed] Finalizer [passed]</p>

        </td>
        <td class="code highlight">
          <pre class="c">  template &lt;typename CallbackType,
            typename ResourceString,
            typename Finalizer,
            typename FinalizerDataType&gt;
  static TypedThreadSafeFunction&lt;ContextType, DataType, CallJs&gt; New(
      napi_env env,
      CallbackType callback,
      const Object&amp; resource,
      ResourceString resourceName,
      size_t maxQueueSize,
      size_t initialThreadCount,
      ContextType* context,
      Finalizer finalizeCallback,
      FinalizerDataType* data = nullptr);

  TypedThreadSafeFunction();
  TypedThreadSafeFunction(napi_threadsafe_function tsFunctionValue);

  operator napi_threadsafe_function() const;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-197" id="section-197"></a>
</div>
<p>This API may be called from any thread.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function">napi_status <span class="hljs-title">BlockingCall</span><span class="hljs-params">(DataType* data = <span class="hljs-literal">nullptr</span>)</span> <span class="hljs-keyword">const</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-198" id="section-198"></a>
</div>
<p>This API may be called from any thread.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function">napi_status <span class="hljs-title">NonBlockingCall</span><span class="hljs-params">(DataType* data = <span class="hljs-literal">nullptr</span>)</span> <span class="hljs-keyword">const</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-199" id="section-199"></a>
</div>
<p>This API may only be called from the main thread.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Ref</span><span class="hljs-params">(napi_env env)</span> <span class="hljs-keyword">const</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-200" id="section-200"></a>
</div>
<p>This API may only be called from the main thread.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Unref</span><span class="hljs-params">(napi_env env)</span> <span class="hljs-keyword">const</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-201" id="section-201"></a>
</div>
<p>This API may be called from any thread.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function">napi_status <span class="hljs-title">Acquire</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-202" id="section-202"></a>
</div>
<p>This API may be called from any thread.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function">napi_status <span class="hljs-title">Release</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-203" id="section-203"></a>
</div>
<p>This API may be called from any thread.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  <span class="hljs-function">napi_status <span class="hljs-title">Abort</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-204" id="section-204"></a>
</div>
<p>This API may be called from any thread.</p>

        </td>
        <td class="code highlight">
          <pre class="c">  ContextType* GetContext() const;

 private:
  template &lt;typename ResourceString,
            typename Finalizer,
            typename FinalizerDataType&gt;
  static TypedThreadSafeFunction&lt;ContextType, DataType, CallJs&gt; New(
      napi_env env,
      const Function&amp; callback,
      const Object&amp; resource,
      ResourceString resourceName,
      size_t maxQueueSize,
      size_t initialThreadCount,
      ContextType* context,
      Finalizer finalizeCallback,
      FinalizerDataType* data,
      napi_finalize wrapper);

  static void CallJsInternal(napi_env env,
                             napi_value jsCallback,
                             void* context,
                             void* data);

 protected:
  napi_threadsafe_function _tsfn;
};
template &lt;typename DataType&gt;
class AsyncProgressWorkerBase : public AsyncWorker {
 public:
  virtual void OnWorkProgress(DataType* data) = 0;
  class ThreadSafeData {
   public:
    ThreadSafeData(AsyncProgressWorkerBase* asyncprogressworker, DataType* data)
        : _asyncprogressworker(asyncprogressworker), _data(data) {}

    AsyncProgressWorkerBase* asyncprogressworker() {
      return _asyncprogressworker;
    };
    DataType* data() { return _data; };

   private:
    AsyncProgressWorkerBase* _asyncprogressworker;
    DataType* _data;
  };
  void OnWorkComplete(Napi::Env env, napi_status status) override;

 protected:
  explicit AsyncProgressWorkerBase(const Object&amp; receiver,
                                   const Function&amp; callback,
                                   const char* resource_name,
                                   const Object&amp; resource,
                                   size_t queue_size = 1);
  virtual ~AsyncProgressWorkerBase();

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-205" id="section-205"></a>
</div>
<p>Optional callback of Napi::ThreadSafeFunction only available after
NAPI_VERSION 4. Refs: https://github.com/nodejs/node/pull/27791</p>

        </td>
        <td class="code highlight">
          <pre class="c"><span class="hljs-meta">#<span class="hljs-meta-keyword">if</span> NAPI_VERSION &gt; 4</span>
  <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">AsyncProgressWorkerBase</span><span class="hljs-params">(Napi::Env env,
                                   <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* resource_name,
                                   <span class="hljs-keyword">const</span> Object&amp; resource,
                                   <span class="hljs-keyword">size_t</span> queue_size = <span class="hljs-number">1</span>)</span></span>;
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span>

  <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">inline</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnAsyncWorkProgress</span><span class="hljs-params">(Napi::Env env,
                                         Napi::Function jsCallback,
                                         <span class="hljs-keyword">void</span>* data)</span></span>;

  <span class="hljs-function">napi_status <span class="hljs-title">NonBlockingCall</span><span class="hljs-params">(DataType* data)</span></span>;

 <span class="hljs-keyword">private</span>:
  ThreadSafeFunction _tsfn;
  <span class="hljs-keyword">bool</span> _work_completed = <span class="hljs-literal">false</span>;
  napi_status _complete_status;
  <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">inline</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnThreadSafeFunctionFinalize</span><span class="hljs-params">(
      Napi::Env env, <span class="hljs-keyword">void</span>* data, AsyncProgressWorkerBase* context)</span></span>;
};

<span class="hljs-keyword">template</span> &lt;<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">T</span>&gt;
<span class="hljs-title">class</span> <span class="hljs-title">AsyncProgressWorker</span> :</span> <span class="hljs-keyword">public</span> AsyncProgressWorkerBase&lt;<span class="hljs-keyword">void</span>&gt; {
 <span class="hljs-keyword">public</span>:
  <span class="hljs-keyword">virtual</span> ~AsyncProgressWorker();

  <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ExecutionProgress</span> {</span>
    <span class="hljs-keyword">friend</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AsyncProgressWorker</span>;</span>

   <span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Signal</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Send</span><span class="hljs-params">(<span class="hljs-keyword">const</span> T* data, <span class="hljs-keyword">size_t</span> count)</span> <span class="hljs-keyword">const</span></span>;

   <span class="hljs-keyword">private</span>:
    <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">ExecutionProgress</span><span class="hljs-params">(AsyncProgressWorker* worker)</span> : _<span class="hljs-title">worker</span><span class="hljs-params">(worker)</span> </span>{}
    AsyncProgressWorker* <span class="hljs-keyword">const</span> _worker;
  };

  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">OnWorkProgress</span><span class="hljs-params">(<span class="hljs-keyword">void</span>*)</span> <span class="hljs-keyword">override</span></span>;

 <span class="hljs-keyword">protected</span>:
  <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">AsyncProgressWorker</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Function&amp; callback)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">AsyncProgressWorker</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Function&amp; callback,
                               <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* resource_name)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">AsyncProgressWorker</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Function&amp; callback,
                               <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* resource_name,
                               <span class="hljs-keyword">const</span> Object&amp; resource)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">AsyncProgressWorker</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Object&amp; receiver,
                               <span class="hljs-keyword">const</span> Function&amp; callback)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">AsyncProgressWorker</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Object&amp; receiver,
                               <span class="hljs-keyword">const</span> Function&amp; callback,
                               <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* resource_name)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">AsyncProgressWorker</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Object&amp; receiver,
                               <span class="hljs-keyword">const</span> Function&amp; callback,
                               <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* resource_name,
                               <span class="hljs-keyword">const</span> Object&amp; resource)</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-206" id="section-206"></a>
</div>
<p>Optional callback of Napi::ThreadSafeFunction only available after
NAPI_VERSION 4. Refs: https://github.com/nodejs/node/pull/27791</p>

        </td>
        <td class="code highlight">
          <pre class="c"><span class="hljs-meta">#<span class="hljs-meta-keyword">if</span> NAPI_VERSION &gt; 4</span>
  <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">AsyncProgressWorker</span><span class="hljs-params">(Napi::Env env)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">AsyncProgressWorker</span><span class="hljs-params">(Napi::Env env, <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* resource_name)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">AsyncProgressWorker</span><span class="hljs-params">(Napi::Env env,
                               <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* resource_name,
                               <span class="hljs-keyword">const</span> Object&amp; resource)</span></span>;
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span>
  <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Execute</span><span class="hljs-params">(<span class="hljs-keyword">const</span> ExecutionProgress&amp; progress)</span> </span>= <span class="hljs-number">0</span>;
  <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnProgress</span><span class="hljs-params">(<span class="hljs-keyword">const</span> T* data, <span class="hljs-keyword">size_t</span> count)</span> </span>= <span class="hljs-number">0</span>;

 <span class="hljs-keyword">private</span>:
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Execute</span><span class="hljs-params">()</span> <span class="hljs-keyword">override</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Signal</span><span class="hljs-params">()</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">SendProgress_</span><span class="hljs-params">(<span class="hljs-keyword">const</span> T* data, <span class="hljs-keyword">size_t</span> count)</span></span>;

  <span class="hljs-built_in">std</span>::mutex _mutex;
  T* _asyncdata;
  <span class="hljs-keyword">size_t</span> _asyncsize;
  <span class="hljs-keyword">bool</span> _signaled;
};

<span class="hljs-keyword">template</span> &lt;<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">T</span>&gt;
<span class="hljs-title">class</span> <span class="hljs-title">AsyncProgressQueueWorker</span>
    :</span> <span class="hljs-keyword">public</span> AsyncProgressWorkerBase&lt;<span class="hljs-built_in">std</span>::pair&lt;T*, <span class="hljs-keyword">size_t</span>&gt;&gt; {
 <span class="hljs-keyword">public</span>:
  <span class="hljs-keyword">virtual</span> ~AsyncProgressQueueWorker(){};

  <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ExecutionProgress</span> {</span>
    <span class="hljs-keyword">friend</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AsyncProgressQueueWorker</span>;</span>

   <span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Signal</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Send</span><span class="hljs-params">(<span class="hljs-keyword">const</span> T* data, <span class="hljs-keyword">size_t</span> count)</span> <span class="hljs-keyword">const</span></span>;

   <span class="hljs-keyword">private</span>:
    <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">ExecutionProgress</span><span class="hljs-params">(AsyncProgressQueueWorker* worker)</span>
        : _<span class="hljs-title">worker</span><span class="hljs-params">(worker)</span> </span>{}
    AsyncProgressQueueWorker* <span class="hljs-keyword">const</span> _worker;
  };

  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">OnWorkComplete</span><span class="hljs-params">(Napi::Env env, napi_status status)</span> <span class="hljs-keyword">override</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">OnWorkProgress</span><span class="hljs-params">(<span class="hljs-built_in">std</span>::pair&lt;T*, <span class="hljs-keyword">size_t</span>&gt;*)</span> <span class="hljs-keyword">override</span></span>;

 <span class="hljs-keyword">protected</span>:
  <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">AsyncProgressQueueWorker</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Function&amp; callback)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">AsyncProgressQueueWorker</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Function&amp; callback,
                                    <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* resource_name)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">AsyncProgressQueueWorker</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Function&amp; callback,
                                    <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* resource_name,
                                    <span class="hljs-keyword">const</span> Object&amp; resource)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">AsyncProgressQueueWorker</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Object&amp; receiver,
                                    <span class="hljs-keyword">const</span> Function&amp; callback)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">AsyncProgressQueueWorker</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Object&amp; receiver,
                                    <span class="hljs-keyword">const</span> Function&amp; callback,
                                    <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* resource_name)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">AsyncProgressQueueWorker</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Object&amp; receiver,
                                    <span class="hljs-keyword">const</span> Function&amp; callback,
                                    <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* resource_name,
                                    <span class="hljs-keyword">const</span> Object&amp; resource)</span></span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-207" id="section-207"></a>
</div>
<p>Optional callback of Napi::ThreadSafeFunction only available after
NAPI_VERSION 4. Refs: https://github.com/nodejs/node/pull/27791</p>

        </td>
        <td class="code highlight">
          <pre class="c"><span class="hljs-meta">#<span class="hljs-meta-keyword">if</span> NAPI_VERSION &gt; 4</span>
  <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">AsyncProgressQueueWorker</span><span class="hljs-params">(Napi::Env env)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">AsyncProgressQueueWorker</span><span class="hljs-params">(Napi::Env env, <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* resource_name)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">AsyncProgressQueueWorker</span><span class="hljs-params">(Napi::Env env,
                                    <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* resource_name,
                                    <span class="hljs-keyword">const</span> Object&amp; resource)</span></span>;
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span>
  <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Execute</span><span class="hljs-params">(<span class="hljs-keyword">const</span> ExecutionProgress&amp; progress)</span> </span>= <span class="hljs-number">0</span>;
  <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnProgress</span><span class="hljs-params">(<span class="hljs-keyword">const</span> T* data, <span class="hljs-keyword">size_t</span> count)</span> </span>= <span class="hljs-number">0</span>;

 <span class="hljs-keyword">private</span>:
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Execute</span><span class="hljs-params">()</span> <span class="hljs-keyword">override</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Signal</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">SendProgress_</span><span class="hljs-params">(<span class="hljs-keyword">const</span> T* data, <span class="hljs-keyword">size_t</span> count)</span></span>;
};
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span>  <span class="hljs-comment">// NAPI_VERSION &gt; 3 &amp;&amp; NAPI_HAS_THREADS</span></span>

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-208" id="section-208"></a>
</div>
<p>Memory management.</p>

        </td>
        <td class="code highlight">
          <pre class="c"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MemoryManagement</span> {</span>
 <span class="hljs-keyword">public</span>:
  <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">int64_t</span> <span class="hljs-title">AdjustExternalMemory</span><span class="hljs-params">(Env env, <span class="hljs-keyword">int64_t</span> change_in_bytes)</span></span>;
};

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-209" id="section-209"></a>
</div>
<p>Version management</p>

        </td>
        <td class="code highlight">
          <pre class="c"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">VersionManagement</span> {</span>
 <span class="hljs-keyword">public</span>:
  <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">uint32_t</span> <span class="hljs-title">GetNapiVersion</span><span class="hljs-params">(Env env)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">const</span> napi_node_version* <span class="hljs-title">GetNodeVersion</span><span class="hljs-params">(Env env)</span></span>;
};

<span class="hljs-meta">#<span class="hljs-meta-keyword">if</span> NAPI_VERSION &gt; 5</span>
<span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Addon</span> :</span> <span class="hljs-keyword">public</span> InstanceWrap&lt;T&gt; {
 <span class="hljs-keyword">public</span>:
  <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">inline</span> Object <span class="hljs-title">Init</span><span class="hljs-params">(Env env, Object exports)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">static</span> T* <span class="hljs-title">Unwrap</span><span class="hljs-params">(Object wrapper)</span></span>;

 <span class="hljs-keyword">protected</span>:
  <span class="hljs-keyword">using</span> AddonProp = ClassPropertyDescriptor&lt;T&gt;;
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">DefineAddon</span><span class="hljs-params">(Object exports,
                   <span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">initializer_list</span>&lt;AddonProp&gt;&amp; props)</span></span>;
  <span class="hljs-function">Napi::Object <span class="hljs-title">DefineProperties</span><span class="hljs-params">(Object object,
                                <span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">initializer_list</span>&lt;AddonProp&gt;&amp; props)</span></span>;

 <span class="hljs-keyword">private</span>:
  Object entry_point_;
};
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span>  <span class="hljs-comment">// NAPI_VERSION &gt; 5</span></span>

<span class="hljs-meta">#<span class="hljs-meta-keyword">ifdef</span> NAPI_CPP_CUSTOM_NAMESPACE</span>
}  <span class="hljs-comment">// namespace NAPI_CPP_CUSTOM_NAMESPACE</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span>

}  <span class="hljs-comment">// namespace Napi</span>

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-210" id="section-210"></a>
</div>
<p>Inline implementations of all the above class methods are included here.</p>

        </td>
        <td class="code highlight">
          <pre class="c"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"napi-inl.h"</span></span>

<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span>  <span class="hljs-comment">// SRC_NAPI_H_</span></span>

</pre>
        </td>
      </tr>
    
  </tbody>
</table>

  </div>
</body>
</html>
