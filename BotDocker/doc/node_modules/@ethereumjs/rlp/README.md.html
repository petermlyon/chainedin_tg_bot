<!DOCTYPE html>
<html>
<head>
  <title>README.md</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../../doc-style.css" />
  <script src="../../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../../";
    var thisFile = "node_modules/@ethereumjs/rlp/README.md";
    var defaultSidebar = true;
  </script>
  <script src="../../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

      <div class="heading h1">
        <a href="#@ethereumjsrlp">@ethereumjs/rlp</a>
      </div>

      <div class="heading h2">
        <a href="#installation">Installation</a>
      </div>

      <div class="heading h2">
        <a href="#usage">Usage</a>
      </div>

      <div class="heading h2">
        <a href="#api">API</a>
      </div>

      <div class="heading h3">
        <a href="#buffer-compatibility">Buffer compatibility</a>
      </div>

      <div class="heading h3">
        <a href="#bigint-support">BigInt Support</a>
      </div>

      <div class="heading h2">
        <a href="#cli">CLI</a>
      </div>

      <div class="heading h3">
        <a href="#examples">Examples</a>
      </div>

      <div class="heading h2">
        <a href="#tests">Tests</a>
      </div>

      <div class="heading h2">
        <a href="#code-coverage">Code Coverage</a>
      </div>

      <div class="heading h2">
        <a href="#ethereumjs">EthereumJS</a>
      </div>

      <div class="heading h2">
        <a href="#license">License</a>
      </div>

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="docs markdown"><div class="pilwrap" id="@ethereumjsrlp">
  <h1>
    <a href="#@ethereumjsrlp" name="@ethereumjsrlp" class="pilcrow"></a>
@ethereumjs/rlp
  </h1>
</div>
<p><a href="https://www.npmjs.com/package/@ethereumjs/rlp"><img src="https://img.shields.io/npm/v/@ethereumjs/rlp.svg" alt="NPM Package"></a>
<a href="https://github.com/ethereumjs/ethereumjs-monorepo/issues?q=is%3Aopen+is%3Aissue+label%3A%22package%3A+rlp%22"><img src="https://img.shields.io/github/issues/ethereumjs/ethereumjs-monorepo/package:%20rlp?label=issues" alt="GitHub Issues"></a>
<a href="https://github.com/ethereumjs/ethereumjs-monorepo/actions?query=workflow%3A%22rlp%22"><img src="https://github.com/ethereumjs/ethereumjs-monorepo/workflows/rlp/badge.svg" alt="Actions Status"></a>
<a href="https://codecov.io/gh/ethereumjs/ethereumjs-monorepo/tree/master/packages/rlp"><img src="https://codecov.io/gh/ethereumjs/ethereumjs-monorepo/branch/master/graph/badge.svg?flag=rlp" alt="Code Coverage"></a>
<a href="https://discord.gg/TNwARpR"><img src="https://img.shields.io/static/v1?logo=discord&amp;label=discord&amp;message=Join&amp;color=blue" alt="Discord"></a></p>
<p><a href="https://ethereum.org/en/developers/docs/data-structures-and-encoding/rlp">Recursive Length Prefix</a> encoding for Node.js and the browser.</p>
<div class="pilwrap" id="installation">
  <h2>
    <a href="#installation" name="installation" class="pilcrow"></a>
Installation
  </h2>
</div>
<p>To obtain the latest version, simply require the project using <code>npm</code>:</p>
<pre><code class="shell">npm install @ethereumjs/rlp
</code></pre>
<p>Install with <code>-g</code> if you want to use the CLI.</p>
<div class="pilwrap" id="usage">
  <h2>
    <a href="#usage" name="usage" class="pilcrow"></a>
Usage
  </h2>
</div>
<pre><code class="typescript"><span class="hljs-keyword">import</span> assert <span class="hljs-keyword">from</span> <span class="hljs-string">'assert'</span>
<span class="hljs-keyword">import</span> { RLP } <span class="hljs-keyword">from</span> <span class="hljs-string">'@ethereumjs/rlp'</span>

<span class="hljs-keyword">const</span> nestedList = [[], [[]], [[], [[]]]]
<span class="hljs-keyword">const</span> encoded = RLP.encode(nestedList)
<span class="hljs-keyword">const</span> decoded = RLP.decode(encoded)
assert.deepEqual(nestedList, decoded)
</code></pre>
<div class="pilwrap" id="api">
  <h2>
    <a href="#api" name="api" class="pilcrow"></a>
API
  </h2>
</div>
<p><code>RLP.encode(plain)</code> - RLP encodes an <code>Array</code>, <code>Uint8Array</code> or <code>String</code> and returns a <code>Uint8Array</code>.</p>
<p><code>RLP.decode(encoded, [stream=false])</code> - Decodes an RLP encoded <code>Uint8Array</code>, <code>Array</code> or <code>String</code> and returns a <code>Uint8Array</code> or <code>NestedUint8Array</code>. If <code>stream</code> is enabled, it will just decode the first rlp sequence in the Uint8Array. By default, it would throw an error if there are more bytes in Uint8Array than used by the rlp sequence.</p>
<div class="pilwrap" id="buffer-compatibility">
  <h3>
    <a href="#buffer-compatibility" name="buffer-compatibility" class="pilcrow"></a>
Buffer compatibility
  </h3>
</div>
<p>If you would like to continue using Buffers like in rlp v2, you can use:</p>
<pre><code class="typescript"><span class="hljs-keyword">import</span> assert <span class="hljs-keyword">from</span> <span class="hljs-string">'assert'</span>
<span class="hljs-keyword">import</span> { arrToBufArr, bufArrToArr } <span class="hljs-keyword">from</span> <span class="hljs-string">'@ethereumjs/util'</span>
<span class="hljs-keyword">import</span> { RLP } <span class="hljs-keyword">from</span> <span class="hljs-string">'@ethereumjs/rlp'</span>

<span class="hljs-keyword">const</span> bufferList = [Buffer.from(<span class="hljs-string">'123'</span>, <span class="hljs-string">'hex'</span>), Buffer.from(<span class="hljs-string">'456'</span>, <span class="hljs-string">'hex'</span>)]
<span class="hljs-keyword">const</span> encoded = RLP.encode(bufArrToArr(bufferList))
<span class="hljs-keyword">const</span> encodedAsBuffer = Buffer.from(encoded)
<span class="hljs-keyword">const</span> decoded = RLP.decode(<span class="hljs-built_in">Uint8Array</span>.from(encodedAsBuffer)) <span class="hljs-comment">// or RLP.decode(encoded)</span>
<span class="hljs-keyword">const</span> decodedAsBuffers = arrToBufArr(decoded)
assert.deepEqual(bufferList, decodedAsBuffers)
</code></pre>
<div class="pilwrap" id="bigint-support">
  <h3>
    <a href="#bigint-support" name="bigint-support" class="pilcrow"></a>
BigInt Support
  </h3>
</div>
<p>Starting with v4 the usage of <a href="https://github.com/indutny/bn.js/">BN.js</a> for big numbers has been removed from the library and replaced with the usage of the native JS <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt">BigInt</a> data type (introduced in <code>ES2020</code>).</p>
<p>Please note that number-related API signatures have changed along with this version update and the minimal build target has been updated to <code>ES2020</code>.</p>
<div class="pilwrap" id="cli">
  <h2>
    <a href="#cli" name="cli" class="pilcrow"></a>
CLI
  </h2>
</div>
<p><code>rlp encode &lt;JSON string&gt;</code><br>
<code>rlp decode &lt;0x-prefixed hex string&gt;</code></p>
<div class="pilwrap" id="examples">
  <h3>
    <a href="#examples" name="examples" class="pilcrow"></a>
Examples
  </h3>
</div>
<ul>
<li><code>rlp encode '5'</code> -&gt; <code>0x05</code></li>
<li><code>rlp encode '[5]'</code> -&gt; <code>0xc105</code></li>
<li><code>rlp encode '[&quot;cat&quot;, &quot;dog&quot;]'</code> -&gt; <code>0xc88363617483646f67</code></li>
<li><code>rlp decode 0xc88363617483646f67</code> -&gt; <code>[&quot;cat&quot;,&quot;dog&quot;]</code></li>
</ul>
<div class="pilwrap" id="tests">
  <h2>
    <a href="#tests" name="tests" class="pilcrow"></a>
Tests
  </h2>
</div>
<p>Tests use mocha.</p>
<p>To run tests and linting: <code>npm test</code></p>
<p>To auto-fix linting problems run: <code>npm run lint:fix</code></p>
<div class="pilwrap" id="code-coverage">
  <h2>
    <a href="#code-coverage" name="code-coverage" class="pilcrow"></a>
Code Coverage
  </h2>
</div>
<p>Install dev dependencies: <code>npm install</code></p>
<p>Run coverage: <code>npm run coverage</code></p>
<p>The results will be at: <code>coverage/lcov-report/index.html</code></p>
<div class="pilwrap" id="ethereumjs">
  <h2>
    <a href="#ethereumjs" name="ethereumjs" class="pilcrow"></a>
EthereumJS
  </h2>
</div>
<p>See our organizational <a href="https://ethereumjs.readthedocs.io">documentation</a> for an introduction to <code>EthereumJS</code> as well as information on current standards and best practices. If you want to join for work or carry out improvements on the libraries, please review our <a href="https://ethereumjs.readthedocs.io/en/latest/contributing.html">contribution guidelines</a> first.</p>
<div class="pilwrap" id="license">
  <h2>
    <a href="#license" name="license" class="pilcrow"></a>
License
  </h2>
</div>
<p><a href="https://tldrlegal.com/license/mozilla-public-license-2.0-(mpl-2)">MPL-2.0</a></p>
</div>
  </div>
</body>
</html>
