<!DOCTYPE html>
<html>
<head>
  <title>index.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../doc-style.css" />
  <script src="../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../";
    var thisFile = "node_modules/file-type/index.js";
    var defaultSidebar = true;
  </script>
  <script src="../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
    
      <tr>
        <td class="docs">
          <h1>index.js</h1>
        </td>
        <td class="code highlight"></td>
      </tr>
    
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-1" id="section-1"></a>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-meta">'use strict'</span>;
<span class="hljs-built_in">module</span>.exports = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">buf</span>) </span>{
	<span class="hljs-keyword">if</span> (!(buf &amp;&amp; buf.length &gt; <span class="hljs-number">1</span>)) {
		<span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
	}

	<span class="hljs-keyword">if</span> (buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0xFF</span> &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0xD8</span> &amp;&amp; buf[<span class="hljs-number">2</span>] === <span class="hljs-number">0xFF</span>) {
		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">ext</span>: <span class="hljs-string">'jpg'</span>,
			<span class="hljs-attr">mime</span>: <span class="hljs-string">'image/jpeg'</span>
		};
	}

	<span class="hljs-keyword">if</span> (buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0x89</span> &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0x50</span> &amp;&amp; buf[<span class="hljs-number">2</span>] === <span class="hljs-number">0x4E</span> &amp;&amp; buf[<span class="hljs-number">3</span>] === <span class="hljs-number">0x47</span>) {
		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">ext</span>: <span class="hljs-string">'png'</span>,
			<span class="hljs-attr">mime</span>: <span class="hljs-string">'image/png'</span>
		};
	}

	<span class="hljs-keyword">if</span> (buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0x47</span> &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0x49</span> &amp;&amp; buf[<span class="hljs-number">2</span>] === <span class="hljs-number">0x46</span>) {
		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">ext</span>: <span class="hljs-string">'gif'</span>,
			<span class="hljs-attr">mime</span>: <span class="hljs-string">'image/gif'</span>
		};
	}

	<span class="hljs-keyword">if</span> (buf[<span class="hljs-number">8</span>] === <span class="hljs-number">0x57</span> &amp;&amp; buf[<span class="hljs-number">9</span>] === <span class="hljs-number">0x45</span> &amp;&amp; buf[<span class="hljs-number">10</span>] === <span class="hljs-number">0x42</span> &amp;&amp; buf[<span class="hljs-number">11</span>] === <span class="hljs-number">0x50</span>) {
		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">ext</span>: <span class="hljs-string">'webp'</span>,
			<span class="hljs-attr">mime</span>: <span class="hljs-string">'image/webp'</span>
		};
	}

	<span class="hljs-keyword">if</span> (buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0x46</span> &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0x4C</span> &amp;&amp; buf[<span class="hljs-number">2</span>] === <span class="hljs-number">0x49</span> &amp;&amp; buf[<span class="hljs-number">3</span>] === <span class="hljs-number">0x46</span>) {
		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">ext</span>: <span class="hljs-string">'flif'</span>,
			<span class="hljs-attr">mime</span>: <span class="hljs-string">'image/flif'</span>
		};
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-2" id="section-2"></a>
</div>
<p>needs to be before <code>tif</code> check</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">	<span class="hljs-keyword">if</span> (((buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0x49</span> &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0x49</span> &amp;&amp; buf[<span class="hljs-number">2</span>] === <span class="hljs-number">0x2A</span> &amp;&amp; buf[<span class="hljs-number">3</span>] === <span class="hljs-number">0x0</span>) || (buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0x4D</span> &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0x4D</span> &amp;&amp; buf[<span class="hljs-number">2</span>] === <span class="hljs-number">0x0</span> &amp;&amp; buf[<span class="hljs-number">3</span>] === <span class="hljs-number">0x2A</span>)) &amp;&amp; buf[<span class="hljs-number">8</span>] === <span class="hljs-number">0x43</span> &amp;&amp; buf[<span class="hljs-number">9</span>] === <span class="hljs-number">0x52</span>) {
		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">ext</span>: <span class="hljs-string">'cr2'</span>,
			<span class="hljs-attr">mime</span>: <span class="hljs-string">'image/x-canon-cr2'</span>
		};
	}

	<span class="hljs-keyword">if</span> ((buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0x49</span> &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0x49</span> &amp;&amp; buf[<span class="hljs-number">2</span>] === <span class="hljs-number">0x2A</span> &amp;&amp; buf[<span class="hljs-number">3</span>] === <span class="hljs-number">0x0</span>) || (buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0x4D</span> &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0x4D</span> &amp;&amp; buf[<span class="hljs-number">2</span>] === <span class="hljs-number">0x0</span> &amp;&amp; buf[<span class="hljs-number">3</span>] === <span class="hljs-number">0x2A</span>)) {
		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">ext</span>: <span class="hljs-string">'tif'</span>,
			<span class="hljs-attr">mime</span>: <span class="hljs-string">'image/tiff'</span>
		};
	}

	<span class="hljs-keyword">if</span> (buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0x42</span> &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0x4D</span>) {
		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">ext</span>: <span class="hljs-string">'bmp'</span>,
			<span class="hljs-attr">mime</span>: <span class="hljs-string">'image/bmp'</span>
		};
	}

	<span class="hljs-keyword">if</span> (buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0x49</span> &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0x49</span> &amp;&amp; buf[<span class="hljs-number">2</span>] === <span class="hljs-number">0xBC</span>) {
		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">ext</span>: <span class="hljs-string">'jxr'</span>,
			<span class="hljs-attr">mime</span>: <span class="hljs-string">'image/vnd.ms-photo'</span>
		};
	}

	<span class="hljs-keyword">if</span> (buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0x38</span> &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0x42</span> &amp;&amp; buf[<span class="hljs-number">2</span>] === <span class="hljs-number">0x50</span> &amp;&amp; buf[<span class="hljs-number">3</span>] === <span class="hljs-number">0x53</span>) {
		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">ext</span>: <span class="hljs-string">'psd'</span>,
			<span class="hljs-attr">mime</span>: <span class="hljs-string">'image/vnd.adobe.photoshop'</span>
		};
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-3" id="section-3"></a>
</div>
<p>needs to be before <code>zip</code> check</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">	<span class="hljs-keyword">if</span> (buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0x50</span> &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0x4B</span> &amp;&amp; buf[<span class="hljs-number">2</span>] === <span class="hljs-number">0x3</span> &amp;&amp; buf[<span class="hljs-number">3</span>] === <span class="hljs-number">0x4</span> &amp;&amp; buf[<span class="hljs-number">30</span>] === <span class="hljs-number">0x6D</span> &amp;&amp; buf[<span class="hljs-number">31</span>] === <span class="hljs-number">0x69</span> &amp;&amp; buf[<span class="hljs-number">32</span>] === <span class="hljs-number">0x6D</span> &amp;&amp; buf[<span class="hljs-number">33</span>] === <span class="hljs-number">0x65</span> &amp;&amp; buf[<span class="hljs-number">34</span>] === <span class="hljs-number">0x74</span> &amp;&amp; buf[<span class="hljs-number">35</span>] === <span class="hljs-number">0x79</span> &amp;&amp; buf[<span class="hljs-number">36</span>] === <span class="hljs-number">0x70</span> &amp;&amp; buf[<span class="hljs-number">37</span>] === <span class="hljs-number">0x65</span> &amp;&amp; buf[<span class="hljs-number">38</span>] === <span class="hljs-number">0x61</span> &amp;&amp; buf[<span class="hljs-number">39</span>] === <span class="hljs-number">0x70</span> &amp;&amp; buf[<span class="hljs-number">40</span>] === <span class="hljs-number">0x70</span> &amp;&amp; buf[<span class="hljs-number">41</span>] === <span class="hljs-number">0x6C</span> &amp;&amp; buf[<span class="hljs-number">42</span>] === <span class="hljs-number">0x69</span> &amp;&amp; buf[<span class="hljs-number">43</span>] === <span class="hljs-number">0x63</span> &amp;&amp; buf[<span class="hljs-number">44</span>] === <span class="hljs-number">0x61</span> &amp;&amp; buf[<span class="hljs-number">45</span>] === <span class="hljs-number">0x74</span> &amp;&amp; buf[<span class="hljs-number">46</span>] === <span class="hljs-number">0x69</span> &amp;&amp; buf[<span class="hljs-number">47</span>] === <span class="hljs-number">0x6F</span> &amp;&amp; buf[<span class="hljs-number">48</span>] === <span class="hljs-number">0x6E</span> &amp;&amp; buf[<span class="hljs-number">49</span>] === <span class="hljs-number">0x2F</span> &amp;&amp; buf[<span class="hljs-number">50</span>] === <span class="hljs-number">0x65</span> &amp;&amp; buf[<span class="hljs-number">51</span>] === <span class="hljs-number">0x70</span> &amp;&amp; buf[<span class="hljs-number">52</span>] === <span class="hljs-number">0x75</span> &amp;&amp; buf[<span class="hljs-number">53</span>] === <span class="hljs-number">0x62</span> &amp;&amp; buf[<span class="hljs-number">54</span>] === <span class="hljs-number">0x2B</span> &amp;&amp; buf[<span class="hljs-number">55</span>] === <span class="hljs-number">0x7A</span> &amp;&amp; buf[<span class="hljs-number">56</span>] === <span class="hljs-number">0x69</span> &amp;&amp; buf[<span class="hljs-number">57</span>] === <span class="hljs-number">0x70</span>) {
		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">ext</span>: <span class="hljs-string">'epub'</span>,
			<span class="hljs-attr">mime</span>: <span class="hljs-string">'application/epub+zip'</span>
		};
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-4" id="section-4"></a>
</div>
<p>needs to be before <code>zip</code> check
assumes signed .xpi from addons.mozilla.org</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">	<span class="hljs-keyword">if</span> (buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0x50</span> &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0x4B</span> &amp;&amp; buf[<span class="hljs-number">2</span>] === <span class="hljs-number">0x3</span> &amp;&amp; buf[<span class="hljs-number">3</span>] === <span class="hljs-number">0x4</span> &amp;&amp; buf[<span class="hljs-number">30</span>] === <span class="hljs-number">0x4D</span> &amp;&amp; buf[<span class="hljs-number">31</span>] === <span class="hljs-number">0x45</span> &amp;&amp; buf[<span class="hljs-number">32</span>] === <span class="hljs-number">0x54</span> &amp;&amp; buf[<span class="hljs-number">33</span>] === <span class="hljs-number">0x41</span> &amp;&amp; buf[<span class="hljs-number">34</span>] === <span class="hljs-number">0x2D</span> &amp;&amp; buf[<span class="hljs-number">35</span>] === <span class="hljs-number">0x49</span> &amp;&amp; buf[<span class="hljs-number">36</span>] === <span class="hljs-number">0x4E</span> &amp;&amp; buf[<span class="hljs-number">37</span>] === <span class="hljs-number">0x46</span> &amp;&amp; buf[<span class="hljs-number">38</span>] === <span class="hljs-number">0x2F</span> &amp;&amp; buf[<span class="hljs-number">39</span>] === <span class="hljs-number">0x6D</span> &amp;&amp; buf[<span class="hljs-number">40</span>] === <span class="hljs-number">0x6F</span> &amp;&amp; buf[<span class="hljs-number">41</span>] === <span class="hljs-number">0x7A</span> &amp;&amp; buf[<span class="hljs-number">42</span>] === <span class="hljs-number">0x69</span> &amp;&amp; buf[<span class="hljs-number">43</span>] === <span class="hljs-number">0x6C</span> &amp;&amp; buf[<span class="hljs-number">44</span>] === <span class="hljs-number">0x6C</span> &amp;&amp; buf[<span class="hljs-number">45</span>] === <span class="hljs-number">0x61</span> &amp;&amp; buf[<span class="hljs-number">46</span>] === <span class="hljs-number">0x2E</span> &amp;&amp; buf[<span class="hljs-number">47</span>] === <span class="hljs-number">0x72</span> &amp;&amp; buf[<span class="hljs-number">48</span>] === <span class="hljs-number">0x73</span> &amp;&amp; buf[<span class="hljs-number">49</span>] === <span class="hljs-number">0x61</span>) {
		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">ext</span>: <span class="hljs-string">'xpi'</span>,
			<span class="hljs-attr">mime</span>: <span class="hljs-string">'application/x-xpinstall'</span>
		};
	}

	<span class="hljs-keyword">if</span> (buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0x50</span> &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0x4B</span> &amp;&amp; (buf[<span class="hljs-number">2</span>] === <span class="hljs-number">0x3</span> || buf[<span class="hljs-number">2</span>] === <span class="hljs-number">0x5</span> || buf[<span class="hljs-number">2</span>] === <span class="hljs-number">0x7</span>) &amp;&amp; (buf[<span class="hljs-number">3</span>] === <span class="hljs-number">0x4</span> || buf[<span class="hljs-number">3</span>] === <span class="hljs-number">0x6</span> || buf[<span class="hljs-number">3</span>] === <span class="hljs-number">0x8</span>)) {
		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">ext</span>: <span class="hljs-string">'zip'</span>,
			<span class="hljs-attr">mime</span>: <span class="hljs-string">'application/zip'</span>
		};
	}

	<span class="hljs-keyword">if</span> (buf[<span class="hljs-number">257</span>] === <span class="hljs-number">0x75</span> &amp;&amp; buf[<span class="hljs-number">258</span>] === <span class="hljs-number">0x73</span> &amp;&amp; buf[<span class="hljs-number">259</span>] === <span class="hljs-number">0x74</span> &amp;&amp; buf[<span class="hljs-number">260</span>] === <span class="hljs-number">0x61</span> &amp;&amp; buf[<span class="hljs-number">261</span>] === <span class="hljs-number">0x72</span>) {
		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">ext</span>: <span class="hljs-string">'tar'</span>,
			<span class="hljs-attr">mime</span>: <span class="hljs-string">'application/x-tar'</span>
		};
	}

	<span class="hljs-keyword">if</span> (buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0x52</span> &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0x61</span> &amp;&amp; buf[<span class="hljs-number">2</span>] === <span class="hljs-number">0x72</span> &amp;&amp; buf[<span class="hljs-number">3</span>] === <span class="hljs-number">0x21</span> &amp;&amp; buf[<span class="hljs-number">4</span>] === <span class="hljs-number">0x1A</span> &amp;&amp; buf[<span class="hljs-number">5</span>] === <span class="hljs-number">0x7</span> &amp;&amp; (buf[<span class="hljs-number">6</span>] === <span class="hljs-number">0x0</span> || buf[<span class="hljs-number">6</span>] === <span class="hljs-number">0x1</span>)) {
		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">ext</span>: <span class="hljs-string">'rar'</span>,
			<span class="hljs-attr">mime</span>: <span class="hljs-string">'application/x-rar-compressed'</span>
		};
	}

	<span class="hljs-keyword">if</span> (buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0x1F</span> &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0x8B</span> &amp;&amp; buf[<span class="hljs-number">2</span>] === <span class="hljs-number">0x8</span>) {
		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">ext</span>: <span class="hljs-string">'gz'</span>,
			<span class="hljs-attr">mime</span>: <span class="hljs-string">'application/gzip'</span>
		};
	}

	<span class="hljs-keyword">if</span> (buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0x42</span> &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0x5A</span> &amp;&amp; buf[<span class="hljs-number">2</span>] === <span class="hljs-number">0x68</span>) {
		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">ext</span>: <span class="hljs-string">'bz2'</span>,
			<span class="hljs-attr">mime</span>: <span class="hljs-string">'application/x-bzip2'</span>
		};
	}

	<span class="hljs-keyword">if</span> (buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0x37</span> &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0x7A</span> &amp;&amp; buf[<span class="hljs-number">2</span>] === <span class="hljs-number">0xBC</span> &amp;&amp; buf[<span class="hljs-number">3</span>] === <span class="hljs-number">0xAF</span> &amp;&amp; buf[<span class="hljs-number">4</span>] === <span class="hljs-number">0x27</span> &amp;&amp; buf[<span class="hljs-number">5</span>] === <span class="hljs-number">0x1C</span>) {
		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">ext</span>: <span class="hljs-string">'7z'</span>,
			<span class="hljs-attr">mime</span>: <span class="hljs-string">'application/x-7z-compressed'</span>
		};
	}

	<span class="hljs-keyword">if</span> (buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0x78</span> &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0x01</span>) {
		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">ext</span>: <span class="hljs-string">'dmg'</span>,
			<span class="hljs-attr">mime</span>: <span class="hljs-string">'application/x-apple-diskimage'</span>
		};
	}

	<span class="hljs-keyword">if</span> (
		(buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0x0</span> &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0x0</span> &amp;&amp; buf[<span class="hljs-number">2</span>] === <span class="hljs-number">0x0</span> &amp;&amp; (buf[<span class="hljs-number">3</span>] === <span class="hljs-number">0x18</span> || buf[<span class="hljs-number">3</span>] === <span class="hljs-number">0x20</span>) &amp;&amp; buf[<span class="hljs-number">4</span>] === <span class="hljs-number">0x66</span> &amp;&amp; buf[<span class="hljs-number">5</span>] === <span class="hljs-number">0x74</span> &amp;&amp; buf[<span class="hljs-number">6</span>] === <span class="hljs-number">0x79</span> &amp;&amp; buf[<span class="hljs-number">7</span>] === <span class="hljs-number">0x70</span>) ||
		(buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0x33</span> &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0x67</span> &amp;&amp; buf[<span class="hljs-number">2</span>] === <span class="hljs-number">0x70</span> &amp;&amp; buf[<span class="hljs-number">3</span>] === <span class="hljs-number">0x35</span>) ||
		(buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0x0</span> &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0x0</span> &amp;&amp; buf[<span class="hljs-number">2</span>] === <span class="hljs-number">0x0</span> &amp;&amp; buf[<span class="hljs-number">3</span>] === <span class="hljs-number">0x1C</span> &amp;&amp; buf[<span class="hljs-number">4</span>] === <span class="hljs-number">0x66</span> &amp;&amp; buf[<span class="hljs-number">5</span>] === <span class="hljs-number">0x74</span> &amp;&amp; buf[<span class="hljs-number">6</span>] === <span class="hljs-number">0x79</span> &amp;&amp; buf[<span class="hljs-number">7</span>] === <span class="hljs-number">0x70</span> &amp;&amp; buf[<span class="hljs-number">8</span>] === <span class="hljs-number">0x6D</span> &amp;&amp; buf[<span class="hljs-number">9</span>] === <span class="hljs-number">0x70</span> &amp;&amp; buf[<span class="hljs-number">10</span>] === <span class="hljs-number">0x34</span> &amp;&amp; buf[<span class="hljs-number">11</span>] === <span class="hljs-number">0x32</span> &amp;&amp; buf[<span class="hljs-number">16</span>] === <span class="hljs-number">0x6D</span> &amp;&amp; buf[<span class="hljs-number">17</span>] === <span class="hljs-number">0x70</span> &amp;&amp; buf[<span class="hljs-number">18</span>] === <span class="hljs-number">0x34</span> &amp;&amp; buf[<span class="hljs-number">19</span>] === <span class="hljs-number">0x31</span> &amp;&amp; buf[<span class="hljs-number">20</span>] === <span class="hljs-number">0x6D</span> &amp;&amp; buf[<span class="hljs-number">21</span>] === <span class="hljs-number">0x70</span> &amp;&amp; buf[<span class="hljs-number">22</span>] === <span class="hljs-number">0x34</span> &amp;&amp; buf[<span class="hljs-number">23</span>] === <span class="hljs-number">0x32</span> &amp;&amp; buf[<span class="hljs-number">24</span>] === <span class="hljs-number">0x69</span> &amp;&amp; buf[<span class="hljs-number">25</span>] === <span class="hljs-number">0x73</span> &amp;&amp; buf[<span class="hljs-number">26</span>] === <span class="hljs-number">0x6F</span> &amp;&amp; buf[<span class="hljs-number">27</span>] === <span class="hljs-number">0x6D</span>) ||
		(buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0x0</span> &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0x0</span> &amp;&amp; buf[<span class="hljs-number">2</span>] === <span class="hljs-number">0x0</span> &amp;&amp; buf[<span class="hljs-number">3</span>] === <span class="hljs-number">0x1C</span> &amp;&amp; buf[<span class="hljs-number">4</span>] === <span class="hljs-number">0x66</span> &amp;&amp; buf[<span class="hljs-number">5</span>] === <span class="hljs-number">0x74</span> &amp;&amp; buf[<span class="hljs-number">6</span>] === <span class="hljs-number">0x79</span> &amp;&amp; buf[<span class="hljs-number">7</span>] === <span class="hljs-number">0x70</span> &amp;&amp; buf[<span class="hljs-number">8</span>] === <span class="hljs-number">0x69</span> &amp;&amp; buf[<span class="hljs-number">9</span>] === <span class="hljs-number">0x73</span> &amp;&amp; buf[<span class="hljs-number">10</span>] === <span class="hljs-number">0x6F</span> &amp;&amp; buf[<span class="hljs-number">11</span>] === <span class="hljs-number">0x6D</span>) ||
		(buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0x0</span> &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0x0</span> &amp;&amp; buf[<span class="hljs-number">2</span>] === <span class="hljs-number">0x0</span> &amp;&amp; buf[<span class="hljs-number">3</span>] === <span class="hljs-number">0x1c</span> &amp;&amp; buf[<span class="hljs-number">4</span>] === <span class="hljs-number">0x66</span> &amp;&amp; buf[<span class="hljs-number">5</span>] === <span class="hljs-number">0x74</span> &amp;&amp; buf[<span class="hljs-number">6</span>] === <span class="hljs-number">0x79</span> &amp;&amp; buf[<span class="hljs-number">7</span>] === <span class="hljs-number">0x70</span> &amp;&amp; buf[<span class="hljs-number">8</span>] === <span class="hljs-number">0x6D</span> &amp;&amp; buf[<span class="hljs-number">9</span>] === <span class="hljs-number">0x70</span> &amp;&amp; buf[<span class="hljs-number">10</span>] === <span class="hljs-number">0x34</span> &amp;&amp; buf[<span class="hljs-number">11</span>] === <span class="hljs-number">0x32</span> &amp;&amp; buf[<span class="hljs-number">12</span>] === <span class="hljs-number">0x0</span> &amp;&amp; buf[<span class="hljs-number">13</span>] === <span class="hljs-number">0x0</span> &amp;&amp; buf[<span class="hljs-number">14</span>] === <span class="hljs-number">0x0</span> &amp;&amp; buf[<span class="hljs-number">15</span>] === <span class="hljs-number">0x0</span>)
	) {
		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">ext</span>: <span class="hljs-string">'mp4'</span>,
			<span class="hljs-attr">mime</span>: <span class="hljs-string">'video/mp4'</span>
		};
	}

	<span class="hljs-keyword">if</span> ((buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0x0</span> &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0x0</span> &amp;&amp; buf[<span class="hljs-number">2</span>] === <span class="hljs-number">0x0</span> &amp;&amp; buf[<span class="hljs-number">3</span>] === <span class="hljs-number">0x1C</span> &amp;&amp; buf[<span class="hljs-number">4</span>] === <span class="hljs-number">0x66</span> &amp;&amp; buf[<span class="hljs-number">5</span>] === <span class="hljs-number">0x74</span> &amp;&amp; buf[<span class="hljs-number">6</span>] === <span class="hljs-number">0x79</span> &amp;&amp; buf[<span class="hljs-number">7</span>] === <span class="hljs-number">0x70</span> &amp;&amp; buf[<span class="hljs-number">8</span>] === <span class="hljs-number">0x4D</span> &amp;&amp; buf[<span class="hljs-number">9</span>] === <span class="hljs-number">0x34</span> &amp;&amp; buf[<span class="hljs-number">10</span>] === <span class="hljs-number">0x56</span>)) {
		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">ext</span>: <span class="hljs-string">'m4v'</span>,
			<span class="hljs-attr">mime</span>: <span class="hljs-string">'video/x-m4v'</span>
		};
	}

	<span class="hljs-keyword">if</span> (buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0x4D</span> &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0x54</span> &amp;&amp; buf[<span class="hljs-number">2</span>] === <span class="hljs-number">0x68</span> &amp;&amp; buf[<span class="hljs-number">3</span>] === <span class="hljs-number">0x64</span>) {
		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">ext</span>: <span class="hljs-string">'mid'</span>,
			<span class="hljs-attr">mime</span>: <span class="hljs-string">'audio/midi'</span>
		};
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-5" id="section-5"></a>
</div>
<p>needs to be before the <code>webm</code> check</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">	<span class="hljs-keyword">if</span> (buf[<span class="hljs-number">31</span>] === <span class="hljs-number">0x6D</span> &amp;&amp; buf[<span class="hljs-number">32</span>] === <span class="hljs-number">0x61</span> &amp;&amp; buf[<span class="hljs-number">33</span>] === <span class="hljs-number">0x74</span> &amp;&amp; buf[<span class="hljs-number">34</span>] === <span class="hljs-number">0x72</span> &amp;&amp; buf[<span class="hljs-number">35</span>] === <span class="hljs-number">0x6f</span> &amp;&amp; buf[<span class="hljs-number">36</span>] === <span class="hljs-number">0x73</span> &amp;&amp; buf[<span class="hljs-number">37</span>] === <span class="hljs-number">0x6B</span> &amp;&amp; buf[<span class="hljs-number">38</span>] === <span class="hljs-number">0x61</span>) {
		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">ext</span>: <span class="hljs-string">'mkv'</span>,
			<span class="hljs-attr">mime</span>: <span class="hljs-string">'video/x-matroska'</span>
		};
	}

	<span class="hljs-keyword">if</span> (buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0x1A</span> &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0x45</span> &amp;&amp; buf[<span class="hljs-number">2</span>] === <span class="hljs-number">0xDF</span> &amp;&amp; buf[<span class="hljs-number">3</span>] === <span class="hljs-number">0xA3</span>) {
		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">ext</span>: <span class="hljs-string">'webm'</span>,
			<span class="hljs-attr">mime</span>: <span class="hljs-string">'video/webm'</span>
		};
	}

	<span class="hljs-keyword">if</span> (buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0x0</span> &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0x0</span> &amp;&amp; buf[<span class="hljs-number">2</span>] === <span class="hljs-number">0x0</span> &amp;&amp; buf[<span class="hljs-number">3</span>] === <span class="hljs-number">0x14</span> &amp;&amp; buf[<span class="hljs-number">4</span>] === <span class="hljs-number">0x66</span> &amp;&amp; buf[<span class="hljs-number">5</span>] === <span class="hljs-number">0x74</span> &amp;&amp; buf[<span class="hljs-number">6</span>] === <span class="hljs-number">0x79</span> &amp;&amp; buf[<span class="hljs-number">7</span>] === <span class="hljs-number">0x70</span>) {
		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">ext</span>: <span class="hljs-string">'mov'</span>,
			<span class="hljs-attr">mime</span>: <span class="hljs-string">'video/quicktime'</span>
		};
	}

	<span class="hljs-keyword">if</span> (buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0x52</span> &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0x49</span> &amp;&amp; buf[<span class="hljs-number">2</span>] === <span class="hljs-number">0x46</span> &amp;&amp; buf[<span class="hljs-number">3</span>] === <span class="hljs-number">0x46</span> &amp;&amp; buf[<span class="hljs-number">8</span>] === <span class="hljs-number">0x41</span> &amp;&amp; buf[<span class="hljs-number">9</span>] === <span class="hljs-number">0x56</span> &amp;&amp; buf[<span class="hljs-number">10</span>] === <span class="hljs-number">0x49</span>) {
		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">ext</span>: <span class="hljs-string">'avi'</span>,
			<span class="hljs-attr">mime</span>: <span class="hljs-string">'video/x-msvideo'</span>
		};
	}

	<span class="hljs-keyword">if</span> (buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0x30</span> &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0x26</span> &amp;&amp; buf[<span class="hljs-number">2</span>] === <span class="hljs-number">0xB2</span> &amp;&amp; buf[<span class="hljs-number">3</span>] === <span class="hljs-number">0x75</span> &amp;&amp; buf[<span class="hljs-number">4</span>] === <span class="hljs-number">0x8E</span> &amp;&amp; buf[<span class="hljs-number">5</span>] === <span class="hljs-number">0x66</span> &amp;&amp; buf[<span class="hljs-number">6</span>] === <span class="hljs-number">0xCF</span> &amp;&amp; buf[<span class="hljs-number">7</span>] === <span class="hljs-number">0x11</span> &amp;&amp; buf[<span class="hljs-number">8</span>] === <span class="hljs-number">0xA6</span> &amp;&amp; buf[<span class="hljs-number">9</span>] === <span class="hljs-number">0xD9</span>) {
		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">ext</span>: <span class="hljs-string">'wmv'</span>,
			<span class="hljs-attr">mime</span>: <span class="hljs-string">'video/x-ms-wmv'</span>
		};
	}

	<span class="hljs-keyword">if</span> (buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0x0</span> &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0x0</span> &amp;&amp; buf[<span class="hljs-number">2</span>] === <span class="hljs-number">0x1</span> &amp;&amp; buf[<span class="hljs-number">3</span>].toString(<span class="hljs-number">16</span>)[<span class="hljs-number">0</span>] === <span class="hljs-string">'b'</span>) {
		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">ext</span>: <span class="hljs-string">'mpg'</span>,
			<span class="hljs-attr">mime</span>: <span class="hljs-string">'video/mpeg'</span>
		};
	}

	<span class="hljs-keyword">if</span> ((buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0x49</span> &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0x44</span> &amp;&amp; buf[<span class="hljs-number">2</span>] === <span class="hljs-number">0x33</span>) || (buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0xFF</span> &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0xfb</span>)) {
		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">ext</span>: <span class="hljs-string">'mp3'</span>,
			<span class="hljs-attr">mime</span>: <span class="hljs-string">'audio/mpeg'</span>
		};
	}

	<span class="hljs-keyword">if</span> ((buf[<span class="hljs-number">4</span>] === <span class="hljs-number">0x66</span> &amp;&amp; buf[<span class="hljs-number">5</span>] === <span class="hljs-number">0x74</span> &amp;&amp; buf[<span class="hljs-number">6</span>] === <span class="hljs-number">0x79</span> &amp;&amp; buf[<span class="hljs-number">7</span>] === <span class="hljs-number">0x70</span> &amp;&amp; buf[<span class="hljs-number">8</span>] === <span class="hljs-number">0x4D</span> &amp;&amp; buf[<span class="hljs-number">9</span>] === <span class="hljs-number">0x34</span> &amp;&amp; buf[<span class="hljs-number">10</span>] === <span class="hljs-number">0x41</span>) || (buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0x4D</span> &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0x34</span> &amp;&amp; buf[<span class="hljs-number">2</span>] === <span class="hljs-number">0x41</span> &amp;&amp; buf[<span class="hljs-number">3</span>] === <span class="hljs-number">0x20</span>)) {
		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">ext</span>: <span class="hljs-string">'m4a'</span>,
			<span class="hljs-attr">mime</span>: <span class="hljs-string">'audio/m4a'</span>
		};
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-6" id="section-6"></a>
</div>
<p>needs to be before <code>ogg</code> check</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">	<span class="hljs-keyword">if</span> (buf[<span class="hljs-number">28</span>] === <span class="hljs-number">0x4F</span> &amp;&amp; buf[<span class="hljs-number">29</span>] === <span class="hljs-number">0x70</span> &amp;&amp; buf[<span class="hljs-number">30</span>] === <span class="hljs-number">0x75</span> &amp;&amp; buf[<span class="hljs-number">31</span>] === <span class="hljs-number">0x73</span> &amp;&amp; buf[<span class="hljs-number">32</span>] === <span class="hljs-number">0x48</span> &amp;&amp; buf[<span class="hljs-number">33</span>] === <span class="hljs-number">0x65</span> &amp;&amp; buf[<span class="hljs-number">34</span>] === <span class="hljs-number">0x61</span> &amp;&amp; buf[<span class="hljs-number">35</span>] === <span class="hljs-number">0x64</span>) {
		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">ext</span>: <span class="hljs-string">'opus'</span>,
			<span class="hljs-attr">mime</span>: <span class="hljs-string">'audio/opus'</span>
		};
	}

	<span class="hljs-keyword">if</span> (buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0x4F</span> &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0x67</span> &amp;&amp; buf[<span class="hljs-number">2</span>] === <span class="hljs-number">0x67</span> &amp;&amp; buf[<span class="hljs-number">3</span>] === <span class="hljs-number">0x53</span>) {
		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">ext</span>: <span class="hljs-string">'ogg'</span>,
			<span class="hljs-attr">mime</span>: <span class="hljs-string">'audio/ogg'</span>
		};
	}

	<span class="hljs-keyword">if</span> (buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0x66</span> &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0x4C</span> &amp;&amp; buf[<span class="hljs-number">2</span>] === <span class="hljs-number">0x61</span> &amp;&amp; buf[<span class="hljs-number">3</span>] === <span class="hljs-number">0x43</span>) {
		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">ext</span>: <span class="hljs-string">'flac'</span>,
			<span class="hljs-attr">mime</span>: <span class="hljs-string">'audio/x-flac'</span>
		};
	}

	<span class="hljs-keyword">if</span> (buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0x52</span> &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0x49</span> &amp;&amp; buf[<span class="hljs-number">2</span>] === <span class="hljs-number">0x46</span> &amp;&amp; buf[<span class="hljs-number">3</span>] === <span class="hljs-number">0x46</span> &amp;&amp; buf[<span class="hljs-number">8</span>] === <span class="hljs-number">0x57</span> &amp;&amp; buf[<span class="hljs-number">9</span>] === <span class="hljs-number">0x41</span> &amp;&amp; buf[<span class="hljs-number">10</span>] === <span class="hljs-number">0x56</span> &amp;&amp; buf[<span class="hljs-number">11</span>] === <span class="hljs-number">0x45</span>) {
		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">ext</span>: <span class="hljs-string">'wav'</span>,
			<span class="hljs-attr">mime</span>: <span class="hljs-string">'audio/x-wav'</span>
		};
	}

	<span class="hljs-keyword">if</span> (buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0x23</span> &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0x21</span> &amp;&amp; buf[<span class="hljs-number">2</span>] === <span class="hljs-number">0x41</span> &amp;&amp; buf[<span class="hljs-number">3</span>] === <span class="hljs-number">0x4D</span> &amp;&amp; buf[<span class="hljs-number">4</span>] === <span class="hljs-number">0x52</span> &amp;&amp; buf[<span class="hljs-number">5</span>] === <span class="hljs-number">0x0A</span>) {
		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">ext</span>: <span class="hljs-string">'amr'</span>,
			<span class="hljs-attr">mime</span>: <span class="hljs-string">'audio/amr'</span>
		};
	}

	<span class="hljs-keyword">if</span> (buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0x25</span> &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0x50</span> &amp;&amp; buf[<span class="hljs-number">2</span>] === <span class="hljs-number">0x44</span> &amp;&amp; buf[<span class="hljs-number">3</span>] === <span class="hljs-number">0x46</span>) {
		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">ext</span>: <span class="hljs-string">'pdf'</span>,
			<span class="hljs-attr">mime</span>: <span class="hljs-string">'application/pdf'</span>
		};
	}

	<span class="hljs-keyword">if</span> (buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0x4D</span> &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0x5A</span>) {
		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">ext</span>: <span class="hljs-string">'exe'</span>,
			<span class="hljs-attr">mime</span>: <span class="hljs-string">'application/x-msdownload'</span>
		};
	}

	<span class="hljs-keyword">if</span> ((buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0x43</span> || buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0x46</span>) &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0x57</span> &amp;&amp; buf[<span class="hljs-number">2</span>] === <span class="hljs-number">0x53</span>) {
		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">ext</span>: <span class="hljs-string">'swf'</span>,
			<span class="hljs-attr">mime</span>: <span class="hljs-string">'application/x-shockwave-flash'</span>
		};
	}

	<span class="hljs-keyword">if</span> (buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0x7B</span> &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0x5C</span> &amp;&amp; buf[<span class="hljs-number">2</span>] === <span class="hljs-number">0x72</span> &amp;&amp; buf[<span class="hljs-number">3</span>] === <span class="hljs-number">0x74</span> &amp;&amp; buf[<span class="hljs-number">4</span>] === <span class="hljs-number">0x66</span>) {
		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">ext</span>: <span class="hljs-string">'rtf'</span>,
			<span class="hljs-attr">mime</span>: <span class="hljs-string">'application/rtf'</span>
		};
	}

	<span class="hljs-keyword">if</span> (
		(buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0x77</span> &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0x4F</span> &amp;&amp; buf[<span class="hljs-number">2</span>] === <span class="hljs-number">0x46</span> &amp;&amp; buf[<span class="hljs-number">3</span>] === <span class="hljs-number">0x46</span>) &amp;&amp;
		(
			(buf[<span class="hljs-number">4</span>] === <span class="hljs-number">0x00</span> &amp;&amp; buf[<span class="hljs-number">5</span>] === <span class="hljs-number">0x01</span> &amp;&amp; buf[<span class="hljs-number">6</span>] === <span class="hljs-number">0x00</span> &amp;&amp; buf[<span class="hljs-number">7</span>] === <span class="hljs-number">0x00</span>) ||
			(buf[<span class="hljs-number">4</span>] === <span class="hljs-number">0x4F</span> &amp;&amp; buf[<span class="hljs-number">5</span>] === <span class="hljs-number">0x54</span> &amp;&amp; buf[<span class="hljs-number">6</span>] === <span class="hljs-number">0x54</span> &amp;&amp; buf[<span class="hljs-number">7</span>] === <span class="hljs-number">0x4F</span>)
		)
	) {
		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">ext</span>: <span class="hljs-string">'woff'</span>,
			<span class="hljs-attr">mime</span>: <span class="hljs-string">'application/font-woff'</span>
		};
	}

	<span class="hljs-keyword">if</span> (
		(buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0x77</span> &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0x4F</span> &amp;&amp; buf[<span class="hljs-number">2</span>] === <span class="hljs-number">0x46</span> &amp;&amp; buf[<span class="hljs-number">3</span>] === <span class="hljs-number">0x32</span>) &amp;&amp;
		(
			(buf[<span class="hljs-number">4</span>] === <span class="hljs-number">0x00</span> &amp;&amp; buf[<span class="hljs-number">5</span>] === <span class="hljs-number">0x01</span> &amp;&amp; buf[<span class="hljs-number">6</span>] === <span class="hljs-number">0x00</span> &amp;&amp; buf[<span class="hljs-number">7</span>] === <span class="hljs-number">0x00</span>) ||
			(buf[<span class="hljs-number">4</span>] === <span class="hljs-number">0x4F</span> &amp;&amp; buf[<span class="hljs-number">5</span>] === <span class="hljs-number">0x54</span> &amp;&amp; buf[<span class="hljs-number">6</span>] === <span class="hljs-number">0x54</span> &amp;&amp; buf[<span class="hljs-number">7</span>] === <span class="hljs-number">0x4F</span>)
		)
	) {
		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">ext</span>: <span class="hljs-string">'woff2'</span>,
			<span class="hljs-attr">mime</span>: <span class="hljs-string">'application/font-woff'</span>
		};
	}

	<span class="hljs-keyword">if</span> (
		(buf[<span class="hljs-number">34</span>] === <span class="hljs-number">0x4C</span> &amp;&amp; buf[<span class="hljs-number">35</span>] === <span class="hljs-number">0x50</span>) &amp;&amp;
		(
			(buf[<span class="hljs-number">8</span>] === <span class="hljs-number">0x00</span> &amp;&amp; buf[<span class="hljs-number">9</span>] === <span class="hljs-number">0x00</span> &amp;&amp; buf[<span class="hljs-number">10</span>] === <span class="hljs-number">0x01</span>) ||
			(buf[<span class="hljs-number">8</span>] === <span class="hljs-number">0x01</span> &amp;&amp; buf[<span class="hljs-number">9</span>] === <span class="hljs-number">0x00</span> &amp;&amp; buf[<span class="hljs-number">10</span>] === <span class="hljs-number">0x02</span>) ||
			(buf[<span class="hljs-number">8</span>] === <span class="hljs-number">0x02</span> &amp;&amp; buf[<span class="hljs-number">9</span>] === <span class="hljs-number">0x00</span> &amp;&amp; buf[<span class="hljs-number">10</span>] === <span class="hljs-number">0x02</span>)
		)
	) {
		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">ext</span>: <span class="hljs-string">'eot'</span>,
			<span class="hljs-attr">mime</span>: <span class="hljs-string">'application/octet-stream'</span>
		};
	}

	<span class="hljs-keyword">if</span> (buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0x00</span> &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0x01</span> &amp;&amp; buf[<span class="hljs-number">2</span>] === <span class="hljs-number">0x00</span> &amp;&amp; buf[<span class="hljs-number">3</span>] === <span class="hljs-number">0x00</span> &amp;&amp; buf[<span class="hljs-number">4</span>] === <span class="hljs-number">0x00</span>) {
		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">ext</span>: <span class="hljs-string">'ttf'</span>,
			<span class="hljs-attr">mime</span>: <span class="hljs-string">'application/font-sfnt'</span>
		};
	}

	<span class="hljs-keyword">if</span> (buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0x4F</span> &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0x54</span> &amp;&amp; buf[<span class="hljs-number">2</span>] === <span class="hljs-number">0x54</span> &amp;&amp; buf[<span class="hljs-number">3</span>] === <span class="hljs-number">0x4F</span> &amp;&amp; buf[<span class="hljs-number">4</span>] === <span class="hljs-number">0x00</span>) {
		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">ext</span>: <span class="hljs-string">'otf'</span>,
			<span class="hljs-attr">mime</span>: <span class="hljs-string">'application/font-sfnt'</span>
		};
	}

	<span class="hljs-keyword">if</span> (buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0x00</span> &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0x00</span> &amp;&amp; buf[<span class="hljs-number">2</span>] === <span class="hljs-number">0x01</span> &amp;&amp; buf[<span class="hljs-number">3</span>] === <span class="hljs-number">0x00</span>) {
		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">ext</span>: <span class="hljs-string">'ico'</span>,
			<span class="hljs-attr">mime</span>: <span class="hljs-string">'image/x-icon'</span>
		};
	}

	<span class="hljs-keyword">if</span> (buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0x46</span> &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0x4C</span> &amp;&amp; buf[<span class="hljs-number">2</span>] === <span class="hljs-number">0x56</span> &amp;&amp; buf[<span class="hljs-number">3</span>] === <span class="hljs-number">0x01</span>) {
		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">ext</span>: <span class="hljs-string">'flv'</span>,
			<span class="hljs-attr">mime</span>: <span class="hljs-string">'video/x-flv'</span>
		};
	}

	<span class="hljs-keyword">if</span> (buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0x25</span> &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0x21</span>) {
		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">ext</span>: <span class="hljs-string">'ps'</span>,
			<span class="hljs-attr">mime</span>: <span class="hljs-string">'application/postscript'</span>
		};
	}

	<span class="hljs-keyword">if</span> (buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0xFD</span> &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0x37</span> &amp;&amp; buf[<span class="hljs-number">2</span>] === <span class="hljs-number">0x7A</span> &amp;&amp; buf[<span class="hljs-number">3</span>] === <span class="hljs-number">0x58</span> &amp;&amp; buf[<span class="hljs-number">4</span>] === <span class="hljs-number">0x5A</span> &amp;&amp; buf[<span class="hljs-number">5</span>] === <span class="hljs-number">0x00</span>) {
		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">ext</span>: <span class="hljs-string">'xz'</span>,
			<span class="hljs-attr">mime</span>: <span class="hljs-string">'application/x-xz'</span>
		};
	}

	<span class="hljs-keyword">if</span> (buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0x53</span> &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0x51</span> &amp;&amp; buf[<span class="hljs-number">2</span>] === <span class="hljs-number">0x4C</span> &amp;&amp; buf[<span class="hljs-number">3</span>] === <span class="hljs-number">0x69</span>) {
		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">ext</span>: <span class="hljs-string">'sqlite'</span>,
			<span class="hljs-attr">mime</span>: <span class="hljs-string">'application/x-sqlite3'</span>
		};
	}

	<span class="hljs-keyword">if</span> (buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0x4E</span> &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0x45</span> &amp;&amp; buf[<span class="hljs-number">2</span>] === <span class="hljs-number">0x53</span> &amp;&amp; buf[<span class="hljs-number">3</span>] === <span class="hljs-number">0x1A</span>) {
		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">ext</span>: <span class="hljs-string">'nes'</span>,
			<span class="hljs-attr">mime</span>: <span class="hljs-string">'application/x-nintendo-nes-rom'</span>
		};
	}

	<span class="hljs-keyword">if</span> (buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0x43</span> &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0x72</span> &amp;&amp; buf[<span class="hljs-number">2</span>] === <span class="hljs-number">0x32</span> &amp;&amp; buf[<span class="hljs-number">3</span>] === <span class="hljs-number">0x34</span>) {
		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">ext</span>: <span class="hljs-string">'crx'</span>,
			<span class="hljs-attr">mime</span>: <span class="hljs-string">'application/x-google-chrome-extension'</span>
		};
	}

	<span class="hljs-keyword">if</span> (
		(buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0x4D</span> &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0x53</span> &amp;&amp; buf[<span class="hljs-number">2</span>] === <span class="hljs-number">0x43</span> &amp;&amp; buf[<span class="hljs-number">3</span>] === <span class="hljs-number">0x46</span>) ||
		(buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0x49</span> &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0x53</span> &amp;&amp; buf[<span class="hljs-number">2</span>] === <span class="hljs-number">0x63</span> &amp;&amp; buf[<span class="hljs-number">3</span>] === <span class="hljs-number">0x28</span>)
	) {
		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">ext</span>: <span class="hljs-string">'cab'</span>,
			<span class="hljs-attr">mime</span>: <span class="hljs-string">'application/vnd.ms-cab-compressed'</span>
		};
	}

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-7" id="section-7"></a>
</div>
<p>needs to be before <code>ar</code> check</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">	<span class="hljs-keyword">if</span> (buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0x21</span> &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0x3C</span> &amp;&amp; buf[<span class="hljs-number">2</span>] === <span class="hljs-number">0x61</span> &amp;&amp; buf[<span class="hljs-number">3</span>] === <span class="hljs-number">0x72</span> &amp;&amp; buf[<span class="hljs-number">4</span>] === <span class="hljs-number">0x63</span> &amp;&amp; buf[<span class="hljs-number">5</span>] === <span class="hljs-number">0x68</span> &amp;&amp; buf[<span class="hljs-number">6</span>] === <span class="hljs-number">0x3E</span> &amp;&amp; buf[<span class="hljs-number">7</span>] === <span class="hljs-number">0x0A</span> &amp;&amp; buf[<span class="hljs-number">8</span>] === <span class="hljs-number">0x64</span> &amp;&amp; buf[<span class="hljs-number">9</span>] === <span class="hljs-number">0x65</span> &amp;&amp; buf[<span class="hljs-number">10</span>] === <span class="hljs-number">0x62</span> &amp;&amp; buf[<span class="hljs-number">11</span>] === <span class="hljs-number">0x69</span> &amp;&amp; buf[<span class="hljs-number">12</span>] === <span class="hljs-number">0x61</span> &amp;&amp; buf[<span class="hljs-number">13</span>] === <span class="hljs-number">0x6E</span> &amp;&amp; buf[<span class="hljs-number">14</span>] === <span class="hljs-number">0x2D</span> &amp;&amp; buf[<span class="hljs-number">15</span>] === <span class="hljs-number">0x62</span> &amp;&amp; buf[<span class="hljs-number">16</span>] === <span class="hljs-number">0x69</span> &amp;&amp; buf[<span class="hljs-number">17</span>] === <span class="hljs-number">0x6E</span> &amp;&amp; buf[<span class="hljs-number">18</span>] === <span class="hljs-number">0x61</span> &amp;&amp; buf[<span class="hljs-number">19</span>] === <span class="hljs-number">0x72</span> &amp;&amp; buf[<span class="hljs-number">20</span>] === <span class="hljs-number">0x79</span>) {
		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">ext</span>: <span class="hljs-string">'deb'</span>,
			<span class="hljs-attr">mime</span>: <span class="hljs-string">'application/x-deb'</span>
		};
	}

	<span class="hljs-keyword">if</span> (buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0x21</span> &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0x3C</span> &amp;&amp; buf[<span class="hljs-number">2</span>] === <span class="hljs-number">0x61</span> &amp;&amp; buf[<span class="hljs-number">3</span>] === <span class="hljs-number">0x72</span> &amp;&amp; buf[<span class="hljs-number">4</span>] === <span class="hljs-number">0x63</span> &amp;&amp; buf[<span class="hljs-number">5</span>] === <span class="hljs-number">0x68</span> &amp;&amp; buf[<span class="hljs-number">6</span>] === <span class="hljs-number">0x3E</span>) {
		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">ext</span>: <span class="hljs-string">'ar'</span>,
			<span class="hljs-attr">mime</span>: <span class="hljs-string">'application/x-unix-archive'</span>
		};
	}

	<span class="hljs-keyword">if</span> (buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0xED</span> &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0xAB</span> &amp;&amp; buf[<span class="hljs-number">2</span>] === <span class="hljs-number">0xEE</span> &amp;&amp; buf[<span class="hljs-number">3</span>] === <span class="hljs-number">0xDB</span>) {
		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">ext</span>: <span class="hljs-string">'rpm'</span>,
			<span class="hljs-attr">mime</span>: <span class="hljs-string">'application/x-rpm'</span>
		};
	}

	<span class="hljs-keyword">if</span> (
		(buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0x1F</span> &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0xA0</span>) ||
		(buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0x1F</span> &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0x9D</span>)
	) {
		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">ext</span>: <span class="hljs-string">'Z'</span>,
			<span class="hljs-attr">mime</span>: <span class="hljs-string">'application/x-compress'</span>
		};
	}

	<span class="hljs-keyword">if</span> (buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0x4C</span> &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0x5A</span> &amp;&amp; buf[<span class="hljs-number">2</span>] === <span class="hljs-number">0x49</span> &amp;&amp; buf[<span class="hljs-number">3</span>] === <span class="hljs-number">0x50</span>) {
		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">ext</span>: <span class="hljs-string">'lz'</span>,
			<span class="hljs-attr">mime</span>: <span class="hljs-string">'application/x-lzip'</span>
		};
	}

	<span class="hljs-keyword">if</span> (buf[<span class="hljs-number">0</span>] === <span class="hljs-number">0xD0</span> &amp;&amp; buf[<span class="hljs-number">1</span>] === <span class="hljs-number">0xCF</span> &amp;&amp; buf[<span class="hljs-number">2</span>] === <span class="hljs-number">0x11</span> &amp;&amp; buf[<span class="hljs-number">3</span>] === <span class="hljs-number">0xE0</span> &amp;&amp; buf[<span class="hljs-number">4</span>] === <span class="hljs-number">0xA1</span> &amp;&amp; buf[<span class="hljs-number">5</span>] === <span class="hljs-number">0xB1</span> &amp;&amp; buf[<span class="hljs-number">6</span>] === <span class="hljs-number">0x1A</span> &amp;&amp; buf[<span class="hljs-number">7</span>] === <span class="hljs-number">0xE1</span>) {
		<span class="hljs-keyword">return</span> {
			<span class="hljs-attr">ext</span>: <span class="hljs-string">'msi'</span>,
			<span class="hljs-attr">mime</span>: <span class="hljs-string">'application/x-msi'</span>
		};
	}

	<span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
};

</pre>
        </td>
      </tr>
    
  </tbody>
</table>

  </div>
</body>
</html>
